var vA=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nO=vA((sO,od)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Vx={exports:{}},Hc={},Wx={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),_A=Symbol.for("react.portal"),xA=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),bA=Symbol.for("react.profiler"),EA=Symbol.for("react.provider"),SA=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),AA=Symbol.for("react.suspense"),CA=Symbol.for("react.memo"),IA=Symbol.for("react.lazy"),V0=Symbol.iterator;function PA(t){return t===null||typeof t!="object"?null:(t=V0&&t[V0]||t["@@iterator"],typeof t=="function"?t:null)}var Xx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yx=Object.assign,Qx={};function oa(t,e,r){this.props=t,this.context=e,this.refs=Qx,this.updater=r||Xx}oa.prototype.isReactComponent={};oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qx(){}qx.prototype=oa.prototype;function Gg(t,e,r){this.props=t,this.context=e,this.refs=Qx,this.updater=r||Xx}var $g=Gg.prototype=new qx;$g.constructor=Gg;Yx($g,oa.prototype);$g.isPureReactComponent=!0;var W0=Array.isArray,Kx=Object.prototype.hasOwnProperty,jg={current:null},Zx={key:!0,ref:!0,__self:!0,__source:!0};function Jx(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Kx.call(e,n)&&!Zx.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var h=Array(u),c=0;c<u;c++)h[c]=arguments[c+2];i.children=h}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Hl,type:t,key:s,ref:o,props:i,_owner:jg.current}}function RA(t,e){return{$$typeof:Hl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hl}function kA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var X0=/\/+/g;function Df(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kA(""+t.key):e.toString(36)}function Ih(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hl:case _A:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Df(o,0):n,W0(i)?(r="",t!=null&&(r=t.replace(X0,"$&/")+"/"),Ih(i,e,r,"",function(c){return c})):i!=null&&(Hg(i)&&(i=RA(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(X0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",W0(t))for(var u=0;u<t.length;u++){s=t[u];var h=n+Df(s,u);o+=Ih(s,e,r,h,i)}else if(h=PA(t),typeof h=="function")for(t=h.call(t),u=0;!(s=t.next()).done;)s=s.value,h=n+Df(s,u++),o+=Ih(s,e,r,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(t,e,r){if(t==null)return t;var n=[],i=0;return Ih(t,n,"","",function(s){return e.call(r,s,i++)}),n}function NA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Ph={transition:null},MA={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Ph,ReactCurrentOwner:jg};Se.Children={map:zu,forEach:function(t,e,r){zu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zu(t,function(){e++}),e},toArray:function(t){return zu(t,function(e){return e})||[]},only:function(t){if(!Hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=oa;Se.Fragment=xA;Se.Profiler=bA;Se.PureComponent=Gg;Se.StrictMode=wA;Se.Suspense=AA;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MA;Se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)Kx.call(e,h)&&!Zx.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];n.children=u}return{$$typeof:Hl,type:t.type,key:i,ref:s,props:n,_owner:o}};Se.createContext=function(t){return t={$$typeof:SA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EA,_context:t},t.Consumer=t};Se.createElement=Jx;Se.createFactory=function(t){var e=Jx.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:TA,render:t}};Se.isValidElement=Hg;Se.lazy=function(t){return{$$typeof:IA,_payload:{_status:-1,_result:t},_init:NA}};Se.memo=function(t,e){return{$$typeof:CA,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Ph.transition;Ph.transition={};try{t()}finally{Ph.transition=e}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(t,e){return qt.current.useCallback(t,e)};Se.useContext=function(t){return qt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return qt.current.useEffect(t,e)};Se.useId=function(){return qt.current.useId()};Se.useImperativeHandle=function(t,e,r){return qt.current.useImperativeHandle(t,e,r)};Se.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return qt.current.useMemo(t,e)};Se.useReducer=function(t,e,r){return qt.current.useReducer(t,e,r)};Se.useRef=function(t){return qt.current.useRef(t)};Se.useState=function(t){return qt.current.useState(t)};Se.useSyncExternalStore=function(t,e,r){return qt.current.useSyncExternalStore(t,e,r)};Se.useTransition=function(){return qt.current.useTransition()};Se.version="18.2.0";Wx.exports=Se;var tn=Wx.exports;const Rn=jc(tn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA=tn,OA=Symbol.for("react.element"),LA=Symbol.for("react.fragment"),BA=Object.prototype.hasOwnProperty,DA=FA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UA={key:!0,ref:!0,__self:!0,__source:!0};function ew(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)BA.call(e,n)&&!UA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OA,type:t,key:s,ref:o,props:i,_owner:DA.current}}Hc.Fragment=LA;Hc.jsx=ew;Hc.jsxs=ew;Vx.exports=Hc;var Ii=Vx.exports,Kp={},tw={exports:{}},_r={},rw={exports:{}},nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,H){var F=P.length;P.push(H);e:for(;0<F;){var z=F-1>>>1,J=P[z];if(0<i(J,H))P[z]=H,P[F]=J,F=z;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var H=P[0],F=P.pop();if(F!==H){P[0]=F;e:for(var z=0,J=P.length,_e=J>>>1;z<_e;){var ye=2*(z+1)-1,Oe=P[ye],we=ye+1,Fe=P[we];if(0>i(Oe,F))we<J&&0>i(Fe,Oe)?(P[z]=Fe,P[we]=F,z=we):(P[z]=Oe,P[ye]=F,z=ye);else if(we<J&&0>i(Fe,F))P[z]=Fe,P[we]=F,z=we;else break e}}return H}function i(P,H){var F=P.sortIndex-H.sortIndex;return F!==0?F:P.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],c=[],f=1,g=null,m=3,v=!1,x=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=P)n(c),H.sortIndex=H.expirationTime,e(h,H);else break;H=r(c)}}function C(P){if(S=!1,b(P),!x)if(r(h)!==null)x=!0,me(k);else{var H=r(c);H!==null&&he(C,H.startTime-P)}}function k(P,H){x=!1,S&&(S=!1,w(N),N=-1),v=!0;var F=m;try{for(b(H),g=r(h);g!==null&&(!(g.expirationTime>H)||P&&!fe());){var z=g.callback;if(typeof z=="function"){g.callback=null,m=g.priorityLevel;var J=z(g.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?g.callback=J:g===r(h)&&n(h),b(H)}else n(h);g=r(h)}if(g!==null)var _e=!0;else{var ye=r(c);ye!==null&&he(C,ye.startTime-H),_e=!1}return _e}finally{g=null,m=F,v=!1}}var L=!1,O=null,N=-1,W=5,X=-1;function fe(){return!(t.unstable_now()-X<W)}function K(){if(O!==null){var P=t.unstable_now();X=P;var H=!0;try{H=O(!0,P)}finally{H?D():(L=!1,O=null)}}else L=!1}var D;if(typeof E=="function")D=function(){E(K)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ue=q.port2;q.port1.onmessage=K,D=function(){ue.postMessage(null)}}else D=function(){T(K,0)};function me(P){O=P,L||(L=!0,D())}function he(P,H){N=T(function(){P(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,me(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var F=m;m=H;try{return P()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=m;m=P;try{return H()}finally{m=F}},t.unstable_scheduleCallback=function(P,H,F){var z=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,P){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,P={id:f++,callback:H,priorityLevel:P,startTime:F,expirationTime:J,sortIndex:-1},F>z?(P.sortIndex=F,e(c,P),r(h)===null&&P===r(c)&&(S?(w(N),N=-1):S=!0,he(C,F-z))):(P.sortIndex=J,e(h,P),x||v||(x=!0,me(k))),P},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(P){var H=m;return function(){var F=m;m=H;try{return P.apply(this,arguments)}finally{m=F}}}})(nw);rw.exports=nw;var zA=rw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=tn,yr=zA;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sw=new Set,vl={};function Us(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(vl[t]=e,t=0;t<e.length;t++)sw.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=Object.prototype.hasOwnProperty,GA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y0={},Q0={};function $A(t){return Zp.call(Q0,t)?!0:Zp.call(Y0,t)?!1:GA.test(t)?Q0[t]=!0:(Y0[t]=!0,!1)}function jA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HA(t,e,r,n){if(e===null||typeof e>"u"||jA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vg=/[\-:]([a-z])/g;function Wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vg,Wg);Ft[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vg,Wg);Ft[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vg,Wg);Ft[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,r,n){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HA(e,r,i,n)&&(r=null),n||i===null?$A(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var oi=iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),vo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),ow=Symbol.for("react.provider"),aw=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),lw=Symbol.for("react.offscreen"),q0=Symbol.iterator;function Ma(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Uf;function Xa(t){if(Uf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Uf=e&&e[1]||""}return`
`+Uf+t}var zf=!1;function Gf(t,e){if(!t||zf)return"";zf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=u);break}}}finally{zf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xa(t):""}function VA(t){switch(t.tag){case 5:return Xa(t.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 2:case 15:return t=Gf(t.type,!1),t;case 11:return t=Gf(t.type.render,!1),t;case 1:return t=Gf(t.type,!0),t;default:return""}}function rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case vo:return"Portal";case Jp:return"Profiler";case Yg:return"StrictMode";case em:return"Suspense";case tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aw:return(t.displayName||"Context")+".Consumer";case ow:return(t._context.displayName||"Context")+".Provider";case Qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qg:return e=t.displayName||null,e!==null?e:rm(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return rm(t(e))}catch{}}return null}function WA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(e);case 8:return e===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XA(t){var e=uw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $u(t){t._valueTracker||(t._valueTracker=XA(t))}function hw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=uw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nm(t,e){var r=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function K0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$i(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cw(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function im(t,e){cw(t,e);var r=$i(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sm(t,e.type,r):e.hasOwnProperty("defaultValue")&&sm(t,e.type,$i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Z0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function sm(t,e,r){(e!=="number"||Kh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ya=Array.isArray;function Lo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$i(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function om(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(Ya(r)){if(1<r.length)throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$i(r)}}function dw(t,e){var r=$i(e.value),n=$i(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function e1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function am(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ju,pw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YA=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){YA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function mw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function gw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=mw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var QA=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(t,e){if(e){if(QA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=null;function Kg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cm=null,Bo=null,Do=null;function t1(t){if(t=Xl(t)){if(typeof cm!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Qc(e),cm(t.stateNode,t.type,e))}}function yw(t){Bo?Do?Do.push(t):Do=[t]:Bo=t}function vw(){if(Bo){var t=Bo,e=Do;if(Do=Bo=null,t1(t),e)for(t=0;t<e.length;t++)t1(e[t])}}function _w(t,e){return t(e)}function xw(){}var $f=!1;function ww(t,e,r){if($f)return t(e,r);$f=!0;try{return _w(t,e,r)}finally{$f=!1,(Bo!==null||Do!==null)&&(xw(),vw())}}function xl(t,e){var r=t.stateNode;if(r===null)return null;var n=Qc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var dm=!1;if(ti)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){dm=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{dm=!1}function qA(t,e,r,n,i,s,o,u,h){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var il=!1,Zh=null,Jh=!1,fm=null,KA={onError:function(t){il=!0,Zh=t}};function ZA(t,e,r,n,i,s,o,u,h){il=!1,Zh=null,qA.apply(KA,arguments)}function JA(t,e,r,n,i,s,o,u,h){if(ZA.apply(this,arguments),il){if(il){var c=Zh;il=!1,Zh=null}else throw Error(Y(198));Jh||(Jh=!0,fm=c)}}function zs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r1(t){if(zs(t)!==t)throw Error(Y(188))}function eC(t){var e=t.alternate;if(!e){if(e=zs(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return r1(i),t;if(s===n)return r1(i),e;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function Ew(t){return t=eC(t),t!==null?Sw(t):null}function Sw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sw(t);if(e!==null)return e;t=t.sibling}return null}var Tw=yr.unstable_scheduleCallback,n1=yr.unstable_cancelCallback,tC=yr.unstable_shouldYield,rC=yr.unstable_requestPaint,ht=yr.unstable_now,nC=yr.unstable_getCurrentPriorityLevel,Zg=yr.unstable_ImmediatePriority,Aw=yr.unstable_UserBlockingPriority,ec=yr.unstable_NormalPriority,iC=yr.unstable_LowPriority,Cw=yr.unstable_IdlePriority,Vc=null,kn=null;function sC(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Vc,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:lC,oC=Math.log,aC=Math.LN2;function lC(t){return t>>>=0,t===0?32:31-(oC(t)/aC|0)|0}var Hu=64,Vu=4194304;function Qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=Qa(u):(s&=o,s!==0&&(n=Qa(s)))}else o=r&~i,o!==0?n=Qa(o):s!==0&&(n=Qa(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-sn(e),i=1<<r,n|=t[r],e&=~i;return n}function uC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-sn(s),u=1<<o,h=i[o];h===-1?(!(u&r)||u&n)&&(i[o]=uC(u,e)):h<=e&&(t.expiredLanes|=u),s&=~u}}function pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iw(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function jf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sn(e),t[e]=r}function cC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-sn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Jg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-sn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var De=0;function Pw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rw,ey,kw,Nw,Mw,mm=!1,Wu=[],Mi=null,Fi=null,Oi=null,wl=new Map,bl=new Map,Ti=[],dC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i1(t,e){switch(t){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(e.pointerId)}}function Oa(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&ey(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fC(t,e,r,n,i){switch(e){case"focusin":return Mi=Oa(Mi,t,e,r,n,i),!0;case"dragenter":return Fi=Oa(Fi,t,e,r,n,i),!0;case"mouseover":return Oi=Oa(Oi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return wl.set(s,Oa(wl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,bl.set(s,Oa(bl.get(s)||null,t,e,r,n,i)),!0}return!1}function Fw(t){var e=Ts(t.target);if(e!==null){var r=zs(e);if(r!==null){if(e=r.tag,e===13){if(e=bw(r),e!==null){t.blockedOn=e,Mw(t.priority,function(){kw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);hm=n,r.target.dispatchEvent(n),hm=null}else return e=Xl(r),e!==null&&ey(e),t.blockedOn=r,!1;e.shift()}return!0}function s1(t,e,r){Rh(t)&&r.delete(e)}function pC(){mm=!1,Mi!==null&&Rh(Mi)&&(Mi=null),Fi!==null&&Rh(Fi)&&(Fi=null),Oi!==null&&Rh(Oi)&&(Oi=null),wl.forEach(s1),bl.forEach(s1)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,mm||(mm=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,pC)))}function El(t){function e(i){return La(i,t)}if(0<Wu.length){La(Wu[0],t);for(var r=1;r<Wu.length;r++){var n=Wu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Mi!==null&&La(Mi,t),Fi!==null&&La(Fi,t),Oi!==null&&La(Oi,t),wl.forEach(e),bl.forEach(e),r=0;r<Ti.length;r++)n=Ti[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ti.length&&(r=Ti[0],r.blockedOn===null);)Fw(r),r.blockedOn===null&&Ti.shift()}var Uo=oi.ReactCurrentBatchConfig,rc=!0;function mC(t,e,r,n){var i=De,s=Uo.transition;Uo.transition=null;try{De=1,ty(t,e,r,n)}finally{De=i,Uo.transition=s}}function gC(t,e,r,n){var i=De,s=Uo.transition;Uo.transition=null;try{De=4,ty(t,e,r,n)}finally{De=i,Uo.transition=s}}function ty(t,e,r,n){if(rc){var i=gm(t,e,r,n);if(i===null)Jf(t,e,n,nc,r),i1(t,n);else if(fC(i,t,e,r,n))n.stopPropagation();else if(i1(t,n),e&4&&-1<dC.indexOf(t)){for(;i!==null;){var s=Xl(i);if(s!==null&&Rw(s),s=gm(t,e,r,n),s===null&&Jf(t,e,n,nc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Jf(t,e,n,null,r)}}var nc=null;function gm(t,e,r,n){if(nc=null,t=Kg(n),t=Ts(t),t!==null)if(e=zs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nc=t,null}function Ow(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nC()){case Zg:return 1;case Aw:return 4;case ec:case iC:return 16;case Cw:return 536870912;default:return 16}default:return 16}}var Pi=null,ry=null,kh=null;function Lw(){if(kh)return kh;var t,e=ry,r=e.length,n,i="value"in Pi?Pi.value:Pi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return kh=i.slice(t,1<n?1-n:void 0)}function Nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function o1(){return!1}function xr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xu:o1,this.isPropagationStopped=o1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=xr(aa),Wl=tt({},aa,{view:0,detail:0}),yC=xr(Wl),Hf,Vf,Ba,Wc=tt({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ba&&(Ba&&t.type==="mousemove"?(Hf=t.screenX-Ba.screenX,Vf=t.screenY-Ba.screenY):Vf=Hf=0,Ba=t),Hf)},movementY:function(t){return"movementY"in t?t.movementY:Vf}}),a1=xr(Wc),vC=tt({},Wc,{dataTransfer:0}),_C=xr(vC),xC=tt({},Wl,{relatedTarget:0}),Wf=xr(xC),wC=tt({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),bC=xr(wC),EC=tt({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SC=xr(EC),TC=tt({},aa,{data:0}),l1=xr(TC),AC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IC[t])?!!e[t]:!1}function iy(){return PC}var RC=tt({},Wl,{key:function(t){if(t.key){var e=AC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(t){return t.type==="keypress"?Nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kC=xr(RC),NC=tt({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u1=xr(NC),MC=tt({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),FC=xr(MC),OC=tt({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),LC=xr(OC),BC=tt({},Wc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DC=xr(BC),UC=[9,13,27,32],sy=ti&&"CompositionEvent"in window,sl=null;ti&&"documentMode"in document&&(sl=document.documentMode);var zC=ti&&"TextEvent"in window&&!sl,Bw=ti&&(!sy||sl&&8<sl&&11>=sl),h1=String.fromCharCode(32),c1=!1;function Dw(t,e){switch(t){case"keyup":return UC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xo=!1;function GC(t,e){switch(t){case"compositionend":return Uw(e);case"keypress":return e.which!==32?null:(c1=!0,h1);case"textInput":return t=e.data,t===h1&&c1?null:t;default:return null}}function $C(t,e){if(xo)return t==="compositionend"||!sy&&Dw(t,e)?(t=Lw(),kh=ry=Pi=null,xo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bw&&e.locale!=="ko"?null:e.data;default:return null}}var jC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jC[t.type]:e==="textarea"}function zw(t,e,r,n){yw(n),e=ic(e,"onChange"),0<e.length&&(r=new ny("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ol=null,Sl=null;function HC(t){Kw(t,0)}function Xc(t){var e=Eo(t);if(hw(e))return t}function VC(t,e){if(t==="change")return e}var Gw=!1;if(ti){var Xf;if(ti){var Yf="oninput"in document;if(!Yf){var f1=document.createElement("div");f1.setAttribute("oninput","return;"),Yf=typeof f1.oninput=="function"}Xf=Yf}else Xf=!1;Gw=Xf&&(!document.documentMode||9<document.documentMode)}function p1(){ol&&(ol.detachEvent("onpropertychange",$w),Sl=ol=null)}function $w(t){if(t.propertyName==="value"&&Xc(Sl)){var e=[];zw(e,Sl,t,Kg(t)),ww(HC,e)}}function WC(t,e,r){t==="focusin"?(p1(),ol=e,Sl=r,ol.attachEvent("onpropertychange",$w)):t==="focusout"&&p1()}function XC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(Sl)}function YC(t,e){if(t==="click")return Xc(e)}function QC(t,e){if(t==="input"||t==="change")return Xc(e)}function qC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:qC;function Tl(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Zp.call(e,i)||!un(t[i],e[i]))return!1}return!0}function m1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g1(t,e){var r=m1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=m1(r)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hw(){for(var t=window,e=Kh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Kh(t.document)}return e}function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KC(t){var e=Hw(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jw(r.ownerDocument.documentElement,r)){if(n!==null&&oy(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=g1(r,s);var o=g1(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZC=ti&&"documentMode"in document&&11>=document.documentMode,wo=null,ym=null,al=null,vm=!1;function y1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vm||wo==null||wo!==Kh(n)||(n=wo,"selectionStart"in n&&oy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),al&&Tl(al,n)||(al=n,n=ic(ym,"onSelect"),0<n.length&&(e=new ny("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wo)))}function Yu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var bo={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},Qf={},Vw={};ti&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Yc(t){if(Qf[t])return Qf[t];if(!bo[t])return t;var e=bo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Vw)return Qf[t]=e[r];return t}var Ww=Yc("animationend"),Xw=Yc("animationiteration"),Yw=Yc("animationstart"),Qw=Yc("transitionend"),qw=new Map,v1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){qw.set(t,e),Us(e,[t])}for(var qf=0;qf<v1.length;qf++){var Kf=v1[qf],JC=Kf.toLowerCase(),eI=Kf[0].toUpperCase()+Kf.slice(1);Yi(JC,"on"+eI)}Yi(Ww,"onAnimationEnd");Yi(Xw,"onAnimationIteration");Yi(Yw,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(Qw,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function _1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,JA(n,e,void 0,t),t.currentTarget=null}function Kw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var u=n[o],h=u.instance,c=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;_1(i,u,c),s=h}else for(o=0;o<n.length;o++){if(u=n[o],h=u.instance,c=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;_1(i,u,c),s=h}}}if(Jh)throw t=fm,Jh=!1,fm=null,t}function $e(t,e){var r=e[Em];r===void 0&&(r=e[Em]=new Set);var n=t+"__bubble";r.has(n)||(Zw(e,t,2,!1),r.add(n))}function Zf(t,e,r){var n=0;e&&(n|=4),Zw(r,t,n,e)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[Qu]){t[Qu]=!0,sw.forEach(function(r){r!=="selectionchange"&&(tI.has(r)||Zf(r,!1,t),Zf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qu]||(e[Qu]=!0,Zf("selectionchange",!1,e))}}function Zw(t,e,r,n){switch(Ow(e)){case 1:var i=mC;break;case 4:i=gC;break;default:i=ty}r=i.bind(null,e,r,t),i=void 0,!dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Jf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ts(u),o===null)return;if(h=o.tag,h===5||h===6){n=s=o;continue e}u=u.parentNode}}n=n.return}ww(function(){var c=s,f=Kg(r),g=[];e:{var m=qw.get(t);if(m!==void 0){var v=ny,x=t;switch(t){case"keypress":if(Nh(r)===0)break e;case"keydown":case"keyup":v=kC;break;case"focusin":x="focus",v=Wf;break;case"focusout":x="blur",v=Wf;break;case"beforeblur":case"afterblur":v=Wf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=a1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=_C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=FC;break;case Ww:case Xw:case Yw:v=bC;break;case Qw:v=LC;break;case"scroll":v=yC;break;case"wheel":v=DC;break;case"copy":case"cut":case"paste":v=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=u1}var S=(e&4)!==0,T=!S&&t==="scroll",w=S?m!==null?m+"Capture":null:m;S=[];for(var E=c,b;E!==null;){b=E;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=xl(E,w),C!=null&&S.push(Cl(E,C,b)))),T)break;E=E.return}0<S.length&&(m=new v(m,x,null,r,f),g.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==hm&&(x=r.relatedTarget||r.fromElement)&&(Ts(x)||x[ri]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?Ts(x):null,x!==null&&(T=zs(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(S=a1,C="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(S=u1,C="onPointerLeave",w="onPointerEnter",E="pointer"),T=v==null?m:Eo(v),b=x==null?m:Eo(x),m=new S(C,E+"leave",v,r,f),m.target=T,m.relatedTarget=b,C=null,Ts(f)===c&&(S=new S(w,E+"enter",x,r,f),S.target=b,S.relatedTarget=T,C=S),T=C,v&&x)t:{for(S=v,w=x,E=0,b=S;b;b=oo(b))E++;for(b=0,C=w;C;C=oo(C))b++;for(;0<E-b;)S=oo(S),E--;for(;0<b-E;)w=oo(w),b--;for(;E--;){if(S===w||w!==null&&S===w.alternate)break t;S=oo(S),w=oo(w)}S=null}else S=null;v!==null&&x1(g,m,v,S,!1),x!==null&&T!==null&&x1(g,T,x,S,!0)}}e:{if(m=c?Eo(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=VC;else if(d1(m))if(Gw)k=QC;else{k=XC;var L=WC}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=YC);if(k&&(k=k(t,c))){zw(g,k,r,f);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&sm(m,"number",m.value)}switch(L=c?Eo(c):window,t){case"focusin":(d1(L)||L.contentEditable==="true")&&(wo=L,ym=c,al=null);break;case"focusout":al=ym=wo=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,y1(g,r,f);break;case"selectionchange":if(ZC)break;case"keydown":case"keyup":y1(g,r,f)}var O;if(sy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else xo?Dw(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Bw&&r.locale!=="ko"&&(xo||N!=="onCompositionStart"?N==="onCompositionEnd"&&xo&&(O=Lw()):(Pi=f,ry="value"in Pi?Pi.value:Pi.textContent,xo=!0)),L=ic(c,N),0<L.length&&(N=new l1(N,t,null,r,f),g.push({event:N,listeners:L}),O?N.data=O:(O=Uw(r),O!==null&&(N.data=O)))),(O=zC?GC(t,r):$C(t,r))&&(c=ic(c,"onBeforeInput"),0<c.length&&(f=new l1("onBeforeInput","beforeinput",null,r,f),g.push({event:f,listeners:c}),f.data=O))}Kw(g,e)})}function Cl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ic(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xl(t,r),s!=null&&n.unshift(Cl(t,s,i)),s=xl(t,e),s!=null&&n.push(Cl(t,s,i))),t=t.return}return n}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x1(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var u=r,h=u.alternate,c=u.stateNode;if(h!==null&&h===n)break;u.tag===5&&c!==null&&(u=c,i?(h=xl(r,s),h!=null&&o.unshift(Cl(r,h,u))):i||(h=xl(r,s),h!=null&&o.push(Cl(r,h,u)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var rI=/\r\n?/g,nI=/\u0000|\uFFFD/g;function w1(t){return(typeof t=="string"?t:""+t).replace(rI,`
`).replace(nI,"")}function qu(t,e,r){if(e=w1(e),w1(t)!==e&&r)throw Error(Y(425))}function sc(){}var _m=null,xm=null;function wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,b1=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof b1<"u"?function(t){return b1.resolve(null).then(t).catch(oI)}:bm;function oI(t){setTimeout(function(){throw t})}function ep(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),El(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);El(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var la=Math.random().toString(36).slice(2),In="__reactFiber$"+la,Il="__reactProps$"+la,ri="__reactContainer$"+la,Em="__reactEvents$"+la,aI="__reactListeners$"+la,lI="__reactHandles$"+la;function Ts(t){var e=t[In];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ri]||r[In]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=E1(t);t!==null;){if(r=t[In])return r;t=E1(t)}return e}t=r,r=t.parentNode}return null}function Xl(t){return t=t[In]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Qc(t){return t[Il]||null}var Sm=[],So=-1;function Qi(t){return{current:t}}function He(t){0>So||(t.current=Sm[So],Sm[So]=null,So--)}function ze(t,e){So++,Sm[So]=t.current,t.current=e}var ji={},jt=Qi(ji),ir=Qi(!1),Ms=ji;function Yo(t,e){var r=t.type.contextTypes;if(!r)return ji;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sr(t){return t=t.childContextTypes,t!=null}function oc(){He(ir),He(jt)}function S1(t,e,r){if(jt.current!==ji)throw Error(Y(168));ze(jt,e),ze(ir,r)}function Jw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Y(108,WA(t)||"Unknown",i));return tt({},r,n)}function ac(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Ms=jt.current,ze(jt,t),ze(ir,ir.current),!0}function T1(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=Jw(t,e,Ms),n.__reactInternalMemoizedMergedChildContext=t,He(ir),He(jt),ze(jt,t)):He(ir),ze(ir,r)}var Wn=null,qc=!1,tp=!1;function eb(t){Wn===null?Wn=[t]:Wn.push(t)}function uI(t){qc=!0,eb(t)}function qi(){if(!tp&&Wn!==null){tp=!0;var t=0,e=De;try{var r=Wn;for(De=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Wn=null,qc=!1}catch(i){throw Wn!==null&&(Wn=Wn.slice(t+1)),Tw(Zg,qi),i}finally{De=e,tp=!1}}return null}var To=[],Ao=0,lc=null,uc=0,Nr=[],Mr=0,Fs=null,Yn=1,Qn="";function fs(t,e){To[Ao++]=uc,To[Ao++]=lc,lc=t,uc=e}function tb(t,e,r){Nr[Mr++]=Yn,Nr[Mr++]=Qn,Nr[Mr++]=Fs,Fs=t;var n=Yn;t=Qn;var i=32-sn(n)-1;n&=~(1<<i),r+=1;var s=32-sn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Yn=1<<32-sn(e)+i|r<<i|n,Qn=s+t}else Yn=1<<s|r<<i|n,Qn=t}function ay(t){t.return!==null&&(fs(t,1),tb(t,1,0))}function ly(t){for(;t===lc;)lc=To[--Ao],To[Ao]=null,uc=To[--Ao],To[Ao]=null;for(;t===Fs;)Fs=Nr[--Mr],Nr[Mr]=null,Qn=Nr[--Mr],Nr[Mr]=null,Yn=Nr[--Mr],Nr[Mr]=null}var mr=null,pr=null,Ye=!1,Jr=null;function rb(t,e){var r=Fr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function A1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,pr=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Fs!==null?{id:Yn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mr=t,pr=null,!0):!1;default:return!1}}function Tm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Am(t){if(Ye){var e=pr;if(e){var r=e;if(!A1(t,e)){if(Tm(t))throw Error(Y(418));e=Li(r.nextSibling);var n=mr;e&&A1(t,e)?rb(n,r):(t.flags=t.flags&-4097|2,Ye=!1,mr=t)}}else{if(Tm(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ye=!1,mr=t}}}function C1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Ku(t){if(t!==mr)return!1;if(!Ye)return C1(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wm(t.type,t.memoizedProps)),e&&(e=pr)){if(Tm(t))throw nb(),Error(Y(418));for(;e;)rb(t,e),e=Li(e.nextSibling)}if(C1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pr=Li(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=mr?Li(t.stateNode.nextSibling):null;return!0}function nb(){for(var t=pr;t;)t=Li(t.nextSibling)}function Qo(){pr=mr=null,Ye=!1}function uy(t){Jr===null?Jr=[t]:Jr.push(t)}var hI=oi.ReactCurrentBatchConfig;function Kr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var hc=Qi(null),cc=null,Co=null,hy=null;function cy(){hy=Co=cc=null}function dy(t){var e=hc.current;He(hc),t._currentValue=e}function Cm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function zo(t,e){cc=t,hy=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function zr(t){var e=t._currentValue;if(hy!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(cc===null)throw Error(Y(308));Co=t,cc.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var As=null;function fy(t){As===null?As=[t]:As.push(t)}function ib(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,fy(e)):(r.next=i.next,i.next=r),e.interleaved=r,ni(t,n)}function ni(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ei=!1;function py(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ni(t,r)}return i=n.interleaved,i===null?(e.next=e,fy(n)):(e.next=i.next,i.next=e),n.interleaved=e,ni(t,r)}function Mh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jg(t,r)}}function I1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function dc(t,e,r,n){var i=t.updateQueue;Ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,c=h.next;h.next=null,o===null?s=c:o.next=c,o=h;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=h))}if(s!==null){var g=i.baseState;o=0,f=c=h=null,u=s;do{var m=u.lane,v=u.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=t,S=u;switch(m=e,v=r,S.tag){case 1:if(x=S.payload,typeof x=="function"){g=x.call(v,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,m=typeof x=="function"?x.call(v,g,m):x,m==null)break e;g=tt({},g,m);break e;case 2:Ei=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=v,h=g):f=f.next=v,o|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(h=g),i.baseState=h,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ls|=o,t.lanes=o,t.memoizedState=g}}function P1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var ob=new iw.Component().refs;function Im(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Kc={isMounted:function(t){return(t=t._reactInternals)?zs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Qt(),i=Ui(t),s=Zn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bi(t,s,i),e!==null&&(on(e,t,i,n),Mh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Qt(),i=Ui(t),s=Zn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bi(t,s,i),e!==null&&(on(e,t,i,n),Mh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qt(),n=Ui(t),i=Zn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,n),e!==null&&(on(e,t,n,r),Mh(e,t,n))}};function R1(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tl(r,n)||!Tl(i,s):!0}function ab(t,e,r){var n=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=sr(e)?Ms:jt.current,n=e.contextTypes,s=(n=n!=null)?Yo(t,i):ji),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function k1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function Pm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=ob,py(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=sr(e)?Ms:jt.current,i.context=Yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Im(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kc.enqueueReplaceState(i,i.state,null),dc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===ob&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function Zu(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N1(t){var e=t._init;return e(t._payload)}function lb(t){function e(w,E){if(t){var b=w.deletions;b===null?(w.deletions=[E],w.flags|=16):b.push(E)}}function r(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function n(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=zi(w,E),w.index=0,w.sibling=null,w}function s(w,E,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<E?(w.flags|=2,E):b):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function u(w,E,b,C){return E===null||E.tag!==6?(E=lp(b,w.mode,C),E.return=w,E):(E=i(E,b),E.return=w,E)}function h(w,E,b,C){var k=b.type;return k===_o?f(w,E,b.props.children,C,b.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bi&&N1(k)===E.type)?(C=i(E,b.props),C.ref=Da(w,E,b),C.return=w,C):(C=Uh(b.type,b.key,b.props,null,w.mode,C),C.ref=Da(w,E,b),C.return=w,C)}function c(w,E,b,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=up(b,w.mode,C),E.return=w,E):(E=i(E,b.children||[]),E.return=w,E)}function f(w,E,b,C,k){return E===null||E.tag!==7?(E=Ps(b,w.mode,C,k),E.return=w,E):(E=i(E,b),E.return=w,E)}function g(w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=lp(""+E,w.mode,b),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gu:return b=Uh(E.type,E.key,E.props,null,w.mode,b),b.ref=Da(w,null,E),b.return=w,b;case vo:return E=up(E,w.mode,b),E.return=w,E;case bi:var C=E._init;return g(w,C(E._payload),b)}if(Ya(E)||Ma(E))return E=Ps(E,w.mode,b,null),E.return=w,E;Zu(w,E)}return null}function m(w,E,b,C){var k=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:u(w,E,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gu:return b.key===k?h(w,E,b,C):null;case vo:return b.key===k?c(w,E,b,C):null;case bi:return k=b._init,m(w,E,k(b._payload),C)}if(Ya(b)||Ma(b))return k!==null?null:f(w,E,b,C,null);Zu(w,b)}return null}function v(w,E,b,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(b)||null,u(E,w,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Gu:return w=w.get(C.key===null?b:C.key)||null,h(E,w,C,k);case vo:return w=w.get(C.key===null?b:C.key)||null,c(E,w,C,k);case bi:var L=C._init;return v(w,E,b,L(C._payload),k)}if(Ya(C)||Ma(C))return w=w.get(b)||null,f(E,w,C,k,null);Zu(E,C)}return null}function x(w,E,b,C){for(var k=null,L=null,O=E,N=E=0,W=null;O!==null&&N<b.length;N++){O.index>N?(W=O,O=null):W=O.sibling;var X=m(w,O,b[N],C);if(X===null){O===null&&(O=W);break}t&&O&&X.alternate===null&&e(w,O),E=s(X,E,N),L===null?k=X:L.sibling=X,L=X,O=W}if(N===b.length)return r(w,O),Ye&&fs(w,N),k;if(O===null){for(;N<b.length;N++)O=g(w,b[N],C),O!==null&&(E=s(O,E,N),L===null?k=O:L.sibling=O,L=O);return Ye&&fs(w,N),k}for(O=n(w,O);N<b.length;N++)W=v(O,w,N,b[N],C),W!==null&&(t&&W.alternate!==null&&O.delete(W.key===null?N:W.key),E=s(W,E,N),L===null?k=W:L.sibling=W,L=W);return t&&O.forEach(function(fe){return e(w,fe)}),Ye&&fs(w,N),k}function S(w,E,b,C){var k=Ma(b);if(typeof k!="function")throw Error(Y(150));if(b=k.call(b),b==null)throw Error(Y(151));for(var L=k=null,O=E,N=E=0,W=null,X=b.next();O!==null&&!X.done;N++,X=b.next()){O.index>N?(W=O,O=null):W=O.sibling;var fe=m(w,O,X.value,C);if(fe===null){O===null&&(O=W);break}t&&O&&fe.alternate===null&&e(w,O),E=s(fe,E,N),L===null?k=fe:L.sibling=fe,L=fe,O=W}if(X.done)return r(w,O),Ye&&fs(w,N),k;if(O===null){for(;!X.done;N++,X=b.next())X=g(w,X.value,C),X!==null&&(E=s(X,E,N),L===null?k=X:L.sibling=X,L=X);return Ye&&fs(w,N),k}for(O=n(w,O);!X.done;N++,X=b.next())X=v(O,w,N,X.value,C),X!==null&&(t&&X.alternate!==null&&O.delete(X.key===null?N:X.key),E=s(X,E,N),L===null?k=X:L.sibling=X,L=X);return t&&O.forEach(function(K){return e(w,K)}),Ye&&fs(w,N),k}function T(w,E,b,C){if(typeof b=="object"&&b!==null&&b.type===_o&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gu:e:{for(var k=b.key,L=E;L!==null;){if(L.key===k){if(k=b.type,k===_o){if(L.tag===7){r(w,L.sibling),E=i(L,b.props.children),E.return=w,w=E;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bi&&N1(k)===L.type){r(w,L.sibling),E=i(L,b.props),E.ref=Da(w,L,b),E.return=w,w=E;break e}r(w,L);break}else e(w,L);L=L.sibling}b.type===_o?(E=Ps(b.props.children,w.mode,C,b.key),E.return=w,w=E):(C=Uh(b.type,b.key,b.props,null,w.mode,C),C.ref=Da(w,E,b),C.return=w,w=C)}return o(w);case vo:e:{for(L=b.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){r(w,E.sibling),E=i(E,b.children||[]),E.return=w,w=E;break e}else{r(w,E);break}else e(w,E);E=E.sibling}E=up(b,w.mode,C),E.return=w,w=E}return o(w);case bi:return L=b._init,T(w,E,L(b._payload),C)}if(Ya(b))return x(w,E,b,C);if(Ma(b))return S(w,E,b,C);Zu(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(r(w,E.sibling),E=i(E,b),E.return=w,w=E):(r(w,E),E=lp(b,w.mode,C),E.return=w,w=E),o(w)):r(w,E)}return T}var qo=lb(!0),ub=lb(!1),Yl={},Nn=Qi(Yl),Pl=Qi(Yl),Rl=Qi(Yl);function Cs(t){if(t===Yl)throw Error(Y(174));return t}function my(t,e){switch(ze(Rl,e),ze(Pl,t),ze(Nn,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:am(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=am(e,t)}He(Nn),ze(Nn,e)}function Ko(){He(Nn),He(Pl),He(Rl)}function hb(t){Cs(Rl.current);var e=Cs(Nn.current),r=am(e,t.type);e!==r&&(ze(Pl,t),ze(Nn,r))}function gy(t){Pl.current===t&&(He(Nn),He(Pl))}var Ke=Qi(0);function fc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rp=[];function yy(){for(var t=0;t<rp.length;t++)rp[t]._workInProgressVersionPrimary=null;rp.length=0}var Fh=oi.ReactCurrentDispatcher,np=oi.ReactCurrentBatchConfig,Os=0,Je=null,gt=null,Tt=null,pc=!1,ll=!1,kl=0,cI=0;function Ut(){throw Error(Y(321))}function vy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!un(t[r],e[r]))return!1;return!0}function _y(t,e,r,n,i,s){if(Os=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?mI:gI,t=r(n,i),ll){s=0;do{if(ll=!1,kl=0,25<=s)throw Error(Y(301));s+=1,Tt=gt=null,e.updateQueue=null,Fh.current=yI,t=r(n,i)}while(ll)}if(Fh.current=mc,e=gt!==null&&gt.next!==null,Os=0,Tt=gt=Je=null,pc=!1,e)throw Error(Y(300));return t}function xy(){var t=kl!==0;return kl=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Je.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Gr(){if(gt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Tt===null?Je.memoizedState:Tt.next;if(e!==null)Tt=e,gt=t;else{if(t===null)throw Error(Y(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?Je.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Nl(t,e){return typeof e=="function"?e(t):e}function ip(t){var e=Gr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=gt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,h=null,c=s;do{var f=c.lane;if((Os&f)===f)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var g={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(u=h=g,o=n):h=h.next=g,Je.lanes|=f,Ls|=f}c=c.next}while(c!==null&&c!==s);h===null?o=n:h.next=u,un(n,e.memoizedState)||(nr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=h,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Ls|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sp(t){var e=Gr(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);un(s,e.memoizedState)||(nr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function cb(){}function db(t,e){var r=Je,n=Gr(),i=e(),s=!un(n.memoizedState,i);if(s&&(n.memoizedState=i,nr=!0),n=n.queue,wy(mb.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,Ml(9,pb.bind(null,r,n,i,e),void 0,null),Ct===null)throw Error(Y(349));Os&30||fb(r,e,i)}return i}function fb(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pb(t,e,r,n){e.value=r,e.getSnapshot=n,gb(e)&&yb(t)}function mb(t,e,r){return r(function(){gb(e)&&yb(t)})}function gb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!un(t,r)}catch{return!0}}function yb(t){var e=ni(t,1);e!==null&&on(e,t,1,-1)}function M1(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=pI.bind(null,Je,t),[e.memoizedState,t]}function Ml(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function vb(){return Gr().memoizedState}function Oh(t,e,r,n){var i=An();Je.flags|=t,i.memoizedState=Ml(1|e,r,void 0,n===void 0?null:n)}function Zc(t,e,r,n){var i=Gr();n=n===void 0?null:n;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,n!==null&&vy(n,o.deps)){i.memoizedState=Ml(e,r,s,n);return}}Je.flags|=t,i.memoizedState=Ml(1|e,r,s,n)}function F1(t,e){return Oh(8390656,8,t,e)}function wy(t,e){return Zc(2048,8,t,e)}function _b(t,e){return Zc(4,2,t,e)}function xb(t,e){return Zc(4,4,t,e)}function wb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bb(t,e,r){return r=r!=null?r.concat([t]):null,Zc(4,4,wb.bind(null,e,t),r)}function by(){}function Eb(t,e){var r=Gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Sb(t,e){var r=Gr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Tb(t,e,r){return Os&21?(un(r,e)||(r=Iw(),Je.lanes|=r,Ls|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=r)}function dI(t,e){var r=De;De=r!==0&&4>r?r:4,t(!0);var n=np.transition;np.transition={};try{t(!1),e()}finally{De=r,np.transition=n}}function Ab(){return Gr().memoizedState}function fI(t,e,r){var n=Ui(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cb(t))Ib(e,r);else if(r=ib(t,e,r,n),r!==null){var i=Qt();on(r,t,n,i),Pb(r,e,n)}}function pI(t,e,r){var n=Ui(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cb(t))Ib(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,un(u,o)){var h=e.interleaved;h===null?(i.next=i,fy(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}r=ib(t,e,i,n),r!==null&&(i=Qt(),on(r,t,n,i),Pb(r,e,n))}}function Cb(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function Ib(t,e){ll=pc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Pb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jg(t,r)}}var mc={readContext:zr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},mI={readContext:zr,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:zr,useEffect:F1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Oh(4194308,4,wb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Oh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oh(4,2,t,e)},useMemo:function(t,e){var r=An();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=An();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fI.bind(null,Je,t),[n.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:M1,useDebugValue:by,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=M1(!1),e=t[0];return t=dI.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Je,i=An();if(Ye){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=e(),Ct===null)throw Error(Y(349));Os&30||fb(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,F1(mb.bind(null,n,s,t),[t]),n.flags|=2048,Ml(9,pb.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=An(),e=Ct.identifierPrefix;if(Ye){var r=Qn,n=Yn;r=(n&~(1<<32-sn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=kl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gI={readContext:zr,useCallback:Eb,useContext:zr,useEffect:wy,useImperativeHandle:bb,useInsertionEffect:_b,useLayoutEffect:xb,useMemo:Sb,useReducer:ip,useRef:vb,useState:function(){return ip(Nl)},useDebugValue:by,useDeferredValue:function(t){var e=Gr();return Tb(e,gt.memoizedState,t)},useTransition:function(){var t=ip(Nl)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:db,useId:Ab,unstable_isNewReconciler:!1},yI={readContext:zr,useCallback:Eb,useContext:zr,useEffect:wy,useImperativeHandle:bb,useInsertionEffect:_b,useLayoutEffect:xb,useMemo:Sb,useReducer:sp,useRef:vb,useState:function(){return sp(Nl)},useDebugValue:by,useDeferredValue:function(t){var e=Gr();return gt===null?e.memoizedState=t:Tb(e,gt.memoizedState,t)},useTransition:function(){var t=sp(Nl)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:db,useId:Ab,unstable_isNewReconciler:!1};function Zo(t,e){try{var r="",n=e;do r+=VA(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function op(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vI=typeof WeakMap=="function"?WeakMap:Map;function Rb(t,e,r){r=Zn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){yc||(yc=!0,zm=n),Rm(t,e)},r}function kb(t,e,r){r=Zn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Rm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Rm(t,e),typeof n!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function O1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new vI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=NI.bind(null,t,e,r),e.then(t,t))}function L1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Zn(-1,1),e.tag=2,Bi(r,e,1))),r.lanes|=1),t)}var _I=oi.ReactCurrentOwner,nr=!1;function Xt(t,e,r,n){e.child=t===null?ub(e,null,r,n):qo(e,t.child,r,n)}function D1(t,e,r,n,i){r=r.render;var s=e.ref;return zo(e,i),n=_y(t,e,r,n,s,i),r=xy(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ye&&r&&ay(e),e.flags|=1,Xt(t,e,n,i),e.child)}function U1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ry(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Nb(t,e,s,n,i)):(t=Uh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Tl,r(o,n)&&t.ref===e.ref)return ii(t,e,i)}return e.flags|=1,t=zi(s,n),t.ref=e.ref,t.return=e,e.child=t}function Nb(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Tl(s,n)&&t.ref===e.ref)if(nr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,ii(t,e,i)}return km(t,e,r,n,i)}function Mb(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Po,fr),fr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Po,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ze(Po,fr),fr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ze(Po,fr),fr|=n;return Xt(t,e,i,r),e.child}function Fb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function km(t,e,r,n,i){var s=sr(r)?Ms:jt.current;return s=Yo(e,s),zo(e,i),r=_y(t,e,r,n,s,i),n=xy(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(Ye&&n&&ay(e),e.flags|=1,Xt(t,e,r,i),e.child)}function z1(t,e,r,n,i){if(sr(r)){var s=!0;ac(e)}else s=!1;if(zo(e,i),e.stateNode===null)Lh(t,e),ab(e,r,n),Pm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var h=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=zr(c):(c=sr(r)?Ms:jt.current,c=Yo(e,c));var f=r.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||h!==c)&&k1(e,o,n,c),Ei=!1;var m=e.memoizedState;o.state=m,dc(e,n,o,i),h=e.memoizedState,u!==n||m!==h||ir.current||Ei?(typeof f=="function"&&(Im(e,r,f,n),h=e.memoizedState),(u=Ei||R1(e,r,u,n,m,h,c))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,sb(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Kr(e.type,u),o.props=c,g=e.pendingProps,m=o.context,h=r.contextType,typeof h=="object"&&h!==null?h=zr(h):(h=sr(r)?Ms:jt.current,h=Yo(e,h));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==g||m!==h)&&k1(e,o,n,h),Ei=!1,m=e.memoizedState,o.state=m,dc(e,n,o,i);var x=e.memoizedState;u!==g||m!==x||ir.current||Ei?(typeof v=="function"&&(Im(e,r,v,n),x=e.memoizedState),(c=Ei||R1(e,r,c,n,m,x,h)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=h,n=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Nm(t,e,r,n,s,i)}function Nm(t,e,r,n,i,s){Fb(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&T1(e,r,!1),ii(t,e,s);n=e.stateNode,_I.current=e;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,s),e.child=qo(e,null,u,s)):Xt(t,e,u,s),e.memoizedState=n.state,i&&T1(e,r,!0),e.child}function Ob(t){var e=t.stateNode;e.pendingContext?S1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S1(t,e.context,!1),my(t,e.containerInfo)}function G1(t,e,r,n,i){return Qo(),uy(i),e.flags|=256,Xt(t,e,r,n),e.child}var Mm={dehydrated:null,treeContext:null,retryLane:0};function Fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lb(t,e,r){var n=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(Ke,i&1),t===null)return Am(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=td(o,n,0,null),t=Ps(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fm(r),e.memoizedState=Mm,t):Ey(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return xI(t,e,o,n,u,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=zi(i,h),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=zi(u,s):(s=Ps(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Fm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Mm,n}return s=t.child,t=s.sibling,n=zi(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ey(t,e){return e=td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,r,n){return n!==null&&uy(n),qo(e,t.child,null,r),t=Ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xI(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=op(Error(Y(422))),Ju(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=td({mode:"visible",children:n.children},i,0,null),s=Ps(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=Fm(o),e.memoizedState=Mm,s);if(!(e.mode&1))return Ju(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Y(419)),n=op(s,n,void 0),Ju(t,e,o,n)}if(u=(o&t.childLanes)!==0,nr||u){if(n=Ct,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ni(t,i),on(n,t,i,-1))}return Py(),n=op(Error(Y(421))),Ju(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pr=Li(i.nextSibling),mr=e,Ye=!0,Jr=null,t!==null&&(Nr[Mr++]=Yn,Nr[Mr++]=Qn,Nr[Mr++]=Fs,Yn=t.id,Qn=t.overflow,Fs=e),e=Ey(e,n.children),e.flags|=4096,e)}function $1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Cm(t.return,e,r)}function ap(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Bb(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Xt(t,e,n.children,r),n=Ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$1(t,r,e);else if(t.tag===19)$1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ze(Ke,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&fc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ap(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ap(e,!0,r,null,s);break;case"together":ap(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ii(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ls|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=zi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function wI(t,e,r){switch(e.tag){case 3:Ob(e),Qo();break;case 5:hb(e);break;case 1:sr(e.type)&&ac(e);break;case 4:my(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ze(hc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ze(Ke,Ke.current&1),e.flags|=128,null):r&e.child.childLanes?Lb(t,e,r):(ze(Ke,Ke.current&1),t=ii(t,e,r),t!==null?t.sibling:null);ze(Ke,Ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Bb(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(Ke,Ke.current),n)break;return null;case 22:case 23:return e.lanes=0,Mb(t,e,r)}return ii(t,e,r)}var Db,Om,Ub,zb;Db=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Om=function(){};Ub=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Cs(Nn.current);var s=null;switch(r){case"input":i=nm(t,i),n=nm(t,n),s=[];break;case"select":i=tt({},i,{value:void 0}),n=tt({},n,{value:void 0}),s=[];break;case"textarea":i=om(t,i),n=om(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=sc)}lm(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var h=n[c];if(u=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&h!==u&&(h!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(s||(s=[]),s.push(c,r)),r=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vl.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&$e("scroll",t),s||u===h||(s=[])):(s=s||[]).push(c,h))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zb=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ua(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bI(t,e,r){var n=e.pendingProps;switch(ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return sr(e.type)&&oc(),zt(e),null;case 3:return n=e.stateNode,Ko(),He(ir),He(jt),yy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(jm(Jr),Jr=null))),Om(t,e),zt(e),null;case 5:gy(e);var i=Cs(Rl.current);if(r=e.type,t!==null&&e.stateNode!=null)Ub(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return zt(e),null}if(t=Cs(Nn.current),Ku(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[In]=e,n[Il]=s,t=(e.mode&1)!==0,r){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(i=0;i<qa.length;i++)$e(qa[i],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":K0(n,s),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},$e("invalid",n);break;case"textarea":J0(n,s),$e("invalid",n)}lm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&qu(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&qu(n.textContent,u,t),i=["children",""+u]):vl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&$e("scroll",n)}switch(r){case"input":$u(n),Z0(n,s,!0);break;case"textarea":$u(n),e1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=sc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[In]=e,t[Il]=n,Db(t,e,!1,!1),e.stateNode=t;e:{switch(o=um(r,n),r){case"dialog":$e("cancel",t),$e("close",t),i=n;break;case"iframe":case"object":case"embed":$e("load",t),i=n;break;case"video":case"audio":for(i=0;i<qa.length;i++)$e(qa[i],t);i=n;break;case"source":$e("error",t),i=n;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=n;break;case"details":$e("toggle",t),i=n;break;case"input":K0(t,n),i=nm(t,n),$e("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=tt({},n,{value:void 0}),$e("invalid",t);break;case"textarea":J0(t,n),i=om(t,n),$e("invalid",t);break;default:i=n}lm(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?gw(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&pw(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&_l(t,h):typeof h=="number"&&_l(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&$e("scroll",t):h!=null&&Xg(t,s,h,o))}switch(r){case"input":$u(t),Z0(t,n,!1);break;case"textarea":$u(t),e1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$i(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Lo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Lo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)zb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));if(r=Cs(Rl.current),Cs(Nn.current),Ku(e)){if(n=e.stateNode,r=e.memoizedProps,n[In]=e,(s=n.nodeValue!==r)&&(t=mr,t!==null))switch(t.tag){case 3:qu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[In]=e,e.stateNode=n}return zt(e),null;case 13:if(He(Ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&pr!==null&&e.mode&1&&!(e.flags&128))nb(),Qo(),e.flags|=98560,s=!1;else if(s=Ku(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[In]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else Jr!==null&&(jm(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?yt===0&&(yt=3):Py())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Ko(),Om(t,e),t===null&&Al(e.stateNode.containerInfo),zt(e),null;case 10:return dy(e.type._context),zt(e),null;case 17:return sr(e.type)&&oc(),zt(e),null;case 19:if(He(Ke),s=e.memoizedState,s===null)return zt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Ua(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fc(t),o!==null){for(e.flags|=128,Ua(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ze(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>Jo&&(e.flags|=128,n=!0,Ua(s,!1),e.lanes=4194304)}else{if(!n)if(t=fc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return zt(e),null}else 2*ht()-s.renderingStartTime>Jo&&r!==1073741824&&(e.flags|=128,n=!0,Ua(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,r=Ke.current,ze(Ke,n?r&1|2:r&1),e):(zt(e),null);case 22:case 23:return Iy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?fr&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function EI(t,e){switch(ly(e),e.tag){case 1:return sr(e.type)&&oc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ko(),He(ir),He(jt),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gy(e),null;case 13:if(He(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ke),null;case 4:return Ko(),null;case 10:return dy(e.type._context),null;case 22:case 23:return Iy(),null;case 24:return null;default:return null}}var eh=!1,$t=!1,SI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Io(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(t,e,n)}else r.current=null}function Lm(t,e,r){try{r()}catch(n){it(t,e,n)}}var j1=!1;function TI(t,e){if(_m=rc,t=Hw(),oy(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,h=-1,c=0,f=0,g=t,m=null;t:for(;;){for(var v;g!==r||i!==0&&g.nodeType!==3||(u=o+i),g!==s||n!==0&&g.nodeType!==3||(h=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===t)break t;if(m===r&&++c===i&&(u=o),m===s&&++f===n&&(h=o),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}r=u===-1||h===-1?null:{start:u,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(xm={focusedElem:t,selectionRange:r},rc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,T=x.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:Kr(e.type,S),T);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(C){it(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return x=j1,j1=!1,x}function ul(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lm(e,r,s)}i=i.next}while(i!==n)}}function Jc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Bm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Gb(t){var e=t.alternate;e!==null&&(t.alternate=null,Gb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[Il],delete e[Em],delete e[aI],delete e[lI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $b(t){return t.tag===5||t.tag===3||t.tag===4}function H1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$b(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sc));else if(n!==4&&(t=t.child,t!==null))for(Dm(t,e,r),t=t.sibling;t!==null;)Dm(t,e,r),t=t.sibling}function Um(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Um(t,e,r),t=t.sibling;t!==null;)Um(t,e,r),t=t.sibling}var kt=null,Zr=!1;function vi(t,e,r){for(r=r.child;r!==null;)jb(t,e,r),r=r.sibling}function jb(t,e,r){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Vc,r)}catch{}switch(r.tag){case 5:$t||Io(r,e);case 6:var n=kt,i=Zr;kt=null,vi(t,e,r),kt=n,Zr=i,kt!==null&&(Zr?(t=kt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Zr?(t=kt,r=r.stateNode,t.nodeType===8?ep(t.parentNode,r):t.nodeType===1&&ep(t,r),El(t)):ep(kt,r.stateNode));break;case 4:n=kt,i=Zr,kt=r.stateNode.containerInfo,Zr=!0,vi(t,e,r),kt=n,Zr=i;break;case 0:case 11:case 14:case 15:if(!$t&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lm(r,e,o),i=i.next}while(i!==n)}vi(t,e,r);break;case 1:if(!$t&&(Io(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){it(r,e,u)}vi(t,e,r);break;case 21:vi(t,e,r);break;case 22:r.mode&1?($t=(n=$t)||r.memoizedState!==null,vi(t,e,r),$t=n):vi(t,e,r);break;default:vi(t,e,r)}}function V1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new SI),e.forEach(function(n){var i=FI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:kt=u.stateNode,Zr=!1;break e;case 3:kt=u.stateNode.containerInfo,Zr=!0;break e;case 4:kt=u.stateNode.containerInfo,Zr=!0;break e}u=u.return}if(kt===null)throw Error(Y(160));jb(s,o,i),kt=null,Zr=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(c){it(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hb(e,t),e=e.sibling}function Hb(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),xn(t),n&4){try{ul(3,t,t.return),Jc(3,t)}catch(S){it(t,t.return,S)}try{ul(5,t,t.return)}catch(S){it(t,t.return,S)}}break;case 1:Xr(e,t),xn(t),n&512&&r!==null&&Io(r,r.return);break;case 5:if(Xr(e,t),xn(t),n&512&&r!==null&&Io(r,r.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(S){it(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&cw(i,s),um(u,o);var c=um(u,s);for(o=0;o<h.length;o+=2){var f=h[o],g=h[o+1];f==="style"?gw(i,g):f==="dangerouslySetInnerHTML"?pw(i,g):f==="children"?_l(i,g):Xg(i,f,g,c)}switch(u){case"input":im(i,s);break;case"textarea":dw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Lo(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Il]=s}catch(S){it(t,t.return,S)}}break;case 6:if(Xr(e,t),xn(t),n&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){it(t,t.return,S)}}break;case 3:if(Xr(e,t),xn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(S){it(t,t.return,S)}break;case 4:Xr(e,t),xn(t);break;case 13:Xr(e,t),xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ay=ht())),n&4&&V1(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?($t=(c=$t)||f,Xr(e,t),$t=c):Xr(e,t),xn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ne=t,f=t.child;f!==null;){for(g=ne=f;ne!==null;){switch(m=ne,v=m.child,m.tag){case 0:case 11:case 14:case 15:ul(4,m,m.return);break;case 1:Io(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(S){it(n,r,S)}}break;case 5:Io(m,m.return);break;case 22:if(m.memoizedState!==null){X1(g);continue}}v!==null?(v.return=m,ne=v):X1(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,h=g.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=mw("display",o))}catch(S){it(t,t.return,S)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(S){it(t,t.return,S)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Xr(e,t),xn(t),n&4&&V1(t);break;case 21:break;default:Xr(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if($b(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_l(i,""),n.flags&=-33);var s=H1(t);Um(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=H1(t);Dm(t,u,o);break;default:throw Error(Y(161))}}catch(h){it(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AI(t,e,r){ne=t,Vb(t)}function Vb(t,e,r){for(var n=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||eh;if(!o){var u=i.alternate,h=u!==null&&u.memoizedState!==null||$t;u=eh;var c=$t;if(eh=o,($t=h)&&!c)for(ne=i;ne!==null;)o=ne,h=o.child,o.tag===22&&o.memoizedState!==null?Y1(i):h!==null?(h.return=o,ne=h):Y1(i);for(;s!==null;)ne=s,Vb(s),s=s.sibling;ne=i,eh=u,$t=c}W1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):W1(t)}}function W1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Jc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$t)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Kr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&P1(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}P1(e,o,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&El(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}$t||e.flags&512&&Bm(e)}catch(m){it(e,e.return,m)}}if(e===t){ne=null;break}if(r=e.sibling,r!==null){r.return=e.return,ne=r;break}ne=e.return}}function X1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ne=r;break}ne=e.return}}function Y1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Jc(4,e)}catch(h){it(e,r,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){it(e,i,h)}}var s=e.return;try{Bm(e)}catch(h){it(e,s,h)}break;case 5:var o=e.return;try{Bm(e)}catch(h){it(e,o,h)}}}catch(h){it(e,e.return,h)}if(e===t){ne=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ne=u;break}ne=e.return}}var CI=Math.ceil,gc=oi.ReactCurrentDispatcher,Sy=oi.ReactCurrentOwner,Dr=oi.ReactCurrentBatchConfig,Re=0,Ct=null,ft=null,Mt=0,fr=0,Po=Qi(0),yt=0,Fl=null,Ls=0,ed=0,Ty=0,hl=null,rr=null,Ay=0,Jo=1/0,Vn=null,yc=!1,zm=null,Di=null,th=!1,Ri=null,vc=0,cl=0,Gm=null,Bh=-1,Dh=0;function Qt(){return Re&6?ht():Bh!==-1?Bh:Bh=ht()}function Ui(t){return t.mode&1?Re&2&&Mt!==0?Mt&-Mt:hI.transition!==null?(Dh===0&&(Dh=Iw()),Dh):(t=De,t!==0||(t=window.event,t=t===void 0?16:Ow(t.type)),t):1}function on(t,e,r,n){if(50<cl)throw cl=0,Gm=null,Error(Y(185));Vl(t,r,n),(!(Re&2)||t!==Ct)&&(t===Ct&&(!(Re&2)&&(ed|=r),yt===4&&Ai(t,Mt)),or(t,n),r===1&&Re===0&&!(e.mode&1)&&(Jo=ht()+500,qc&&qi()))}function or(t,e){var r=t.callbackNode;hC(t,e);var n=tc(t,t===Ct?Mt:0);if(n===0)r!==null&&n1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&n1(r),e===1)t.tag===0?uI(Q1.bind(null,t)):eb(Q1.bind(null,t)),sI(function(){!(Re&6)&&qi()}),r=null;else{switch(Pw(n)){case 1:r=Zg;break;case 4:r=Aw;break;case 16:r=ec;break;case 536870912:r=Cw;break;default:r=ec}r=Jb(r,Wb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Wb(t,e){if(Bh=-1,Dh=0,Re&6)throw Error(Y(327));var r=t.callbackNode;if(Go()&&t.callbackNode!==r)return null;var n=tc(t,t===Ct?Mt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=_c(t,n);else{e=n;var i=Re;Re|=2;var s=Yb();(Ct!==t||Mt!==e)&&(Vn=null,Jo=ht()+500,Is(t,e));do try{RI();break}catch(u){Xb(t,u)}while(1);cy(),gc.current=s,Re=i,ft!==null?e=0:(Ct=null,Mt=0,e=yt)}if(e!==0){if(e===2&&(i=pm(t),i!==0&&(n=i,e=$m(t,i))),e===1)throw r=Fl,Is(t,0),Ai(t,n),or(t,ht()),r;if(e===6)Ai(t,n);else{if(i=t.current.alternate,!(n&30)&&!II(i)&&(e=_c(t,n),e===2&&(s=pm(t),s!==0&&(n=s,e=$m(t,s))),e===1))throw r=Fl,Is(t,0),Ai(t,n),or(t,ht()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Y(345));case 2:ps(t,rr,Vn);break;case 3:if(Ai(t,n),(n&130023424)===n&&(e=Ay+500-ht(),10<e)){if(tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bm(ps.bind(null,t,rr,Vn),e);break}ps(t,rr,Vn);break;case 4:if(Ai(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-sn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CI(n/1960))-n,10<n){t.timeoutHandle=bm(ps.bind(null,t,rr,Vn),n);break}ps(t,rr,Vn);break;case 5:ps(t,rr,Vn);break;default:throw Error(Y(329))}}}return or(t,ht()),t.callbackNode===r?Wb.bind(null,t):null}function $m(t,e){var r=hl;return t.current.memoizedState.isDehydrated&&(Is(t,e).flags|=256),t=_c(t,e),t!==2&&(e=rr,rr=r,e!==null&&jm(e)),t}function jm(t){rr===null?rr=t:rr.push.apply(rr,t)}function II(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~Ty,e&=~ed,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-sn(e),n=1<<r;t[r]=-1,e&=~n}}function Q1(t){if(Re&6)throw Error(Y(327));Go();var e=tc(t,0);if(!(e&1))return or(t,ht()),null;var r=_c(t,e);if(t.tag!==0&&r===2){var n=pm(t);n!==0&&(e=n,r=$m(t,n))}if(r===1)throw r=Fl,Is(t,0),Ai(t,e),or(t,ht()),r;if(r===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,rr,Vn),or(t,ht()),null}function Cy(t,e){var r=Re;Re|=1;try{return t(e)}finally{Re=r,Re===0&&(Jo=ht()+500,qc&&qi())}}function Bs(t){Ri!==null&&Ri.tag===0&&!(Re&6)&&Go();var e=Re;Re|=1;var r=Dr.transition,n=De;try{if(Dr.transition=null,De=1,t)return t()}finally{De=n,Dr.transition=r,Re=e,!(Re&6)&&qi()}}function Iy(){fr=Po.current,He(Po)}function Is(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,iI(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(ly(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oc();break;case 3:Ko(),He(ir),He(jt),yy();break;case 5:gy(n);break;case 4:Ko();break;case 13:He(Ke);break;case 19:He(Ke);break;case 10:dy(n.type._context);break;case 22:case 23:Iy()}r=r.return}if(Ct=t,ft=t=zi(t.current,null),Mt=fr=e,yt=0,Fl=null,Ty=ed=Ls=0,rr=hl=null,As!==null){for(e=0;e<As.length;e++)if(r=As[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}As=null}return t}function Xb(t,e){do{var r=ft;try{if(cy(),Fh.current=mc,pc){for(var n=Je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pc=!1}if(Os=0,Tt=gt=Je=null,ll=!1,kl=0,Sy.current=null,r===null||r.return===null){yt=1,Fl=e,ft=null;break}e:{var s=t,o=r.return,u=r,h=e;if(e=Mt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,f=u,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=L1(o);if(v!==null){v.flags&=-257,B1(v,o,u,s,e),v.mode&1&&O1(s,c,e),e=v,h=c;var x=e.updateQueue;if(x===null){var S=new Set;S.add(h),e.updateQueue=S}else x.add(h);break e}else{if(!(e&1)){O1(s,c,e),Py();break e}h=Error(Y(426))}}else if(Ye&&u.mode&1){var T=L1(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),B1(T,o,u,s,e),uy(Zo(h,u));break e}}s=h=Zo(h,u),yt!==4&&(yt=2),hl===null?hl=[s]:hl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Rb(s,h,e);I1(s,w);break e;case 1:u=h;var E=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Di===null||!Di.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=kb(s,u,e);I1(s,C);break e}}s=s.return}while(s!==null)}qb(r)}catch(k){e=k,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(1)}function Yb(){var t=gc.current;return gc.current=mc,t===null?mc:t}function Py(){(yt===0||yt===3||yt===2)&&(yt=4),Ct===null||!(Ls&268435455)&&!(ed&268435455)||Ai(Ct,Mt)}function _c(t,e){var r=Re;Re|=2;var n=Yb();(Ct!==t||Mt!==e)&&(Vn=null,Is(t,e));do try{PI();break}catch(i){Xb(t,i)}while(1);if(cy(),Re=r,gc.current=n,ft!==null)throw Error(Y(261));return Ct=null,Mt=0,yt}function PI(){for(;ft!==null;)Qb(ft)}function RI(){for(;ft!==null&&!tC();)Qb(ft)}function Qb(t){var e=Zb(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?qb(t):ft=e,Sy.current=null}function qb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=EI(r,e),r!==null){r.flags&=32767,ft=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ft=null;return}}else if(r=bI(r,e,fr),r!==null){ft=r;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);yt===0&&(yt=5)}function ps(t,e,r){var n=De,i=Dr.transition;try{Dr.transition=null,De=1,kI(t,e,r,n)}finally{Dr.transition=i,De=n}return null}function kI(t,e,r,n){do Go();while(Ri!==null);if(Re&6)throw Error(Y(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(cC(t,s),t===Ct&&(ft=Ct=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||th||(th=!0,Jb(ec,function(){return Go(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Dr.transition,Dr.transition=null;var o=De;De=1;var u=Re;Re|=4,Sy.current=null,TI(t,r),Hb(r,t),KC(xm),rc=!!_m,xm=_m=null,t.current=r,AI(r),rC(),Re=u,De=o,Dr.transition=s}else t.current=r;if(th&&(th=!1,Ri=t,vc=i),s=t.pendingLanes,s===0&&(Di=null),sC(r.stateNode),or(t,ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yc)throw yc=!1,t=zm,zm=null,t;return vc&1&&t.tag!==0&&Go(),s=t.pendingLanes,s&1?t===Gm?cl++:(cl=0,Gm=t):cl=0,qi(),null}function Go(){if(Ri!==null){var t=Pw(vc),e=Dr.transition,r=De;try{if(Dr.transition=null,De=16>t?16:t,Ri===null)var n=!1;else{if(t=Ri,Ri=null,vc=0,Re&6)throw Error(Y(331));var i=Re;for(Re|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var c=u[h];for(ne=c;ne!==null;){var f=ne;switch(f.tag){case 0:case 11:case 15:ul(8,f,s)}var g=f.child;if(g!==null)g.return=f,ne=g;else for(;ne!==null;){f=ne;var m=f.sibling,v=f.return;if(Gb(f),f===c){ne=null;break}if(m!==null){m.return=v,ne=m;break}ne=v}}}var x=s.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ul(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ne=w;break e}ne=s.return}}var E=t.current;for(ne=E;ne!==null;){o=ne;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ne=b;else e:for(o=E;ne!==null;){if(u=ne,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Jc(9,u)}}catch(k){it(u,u.return,k)}if(u===o){ne=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,ne=C;break e}ne=u.return}}if(Re=i,qi(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Vc,t)}catch{}n=!0}return n}finally{De=r,Dr.transition=e}}return!1}function q1(t,e,r){e=Zo(r,e),e=Rb(t,e,1),t=Bi(t,e,1),e=Qt(),t!==null&&(Vl(t,1,e),or(t,e))}function it(t,e,r){if(t.tag===3)q1(t,t,r);else for(;e!==null;){if(e.tag===3){q1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Di===null||!Di.has(n))){t=Zo(r,t),t=kb(e,t,1),e=Bi(e,t,1),t=Qt(),e!==null&&(Vl(e,1,t),or(e,t));break}}e=e.return}}function NI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&r,Ct===t&&(Mt&r)===r&&(yt===4||yt===3&&(Mt&130023424)===Mt&&500>ht()-Ay?Is(t,0):Ty|=r),or(t,e)}function Kb(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var r=Qt();t=ni(t,e),t!==null&&(Vl(t,e,r),or(t,r))}function MI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Kb(t,r)}function FI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(e),Kb(t,r)}var Zb;Zb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)nr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return nr=!1,wI(t,e,r);nr=!!(t.flags&131072)}else nr=!1,Ye&&e.flags&1048576&&tb(e,uc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Lh(t,e),t=e.pendingProps;var i=Yo(e,jt.current);zo(e,r),i=_y(null,e,n,t,i,r);var s=xy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(n)?(s=!0,ac(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,py(e),i.updater=Kc,e.stateNode=i,i._reactInternals=e,Pm(e,n,t,r),e=Nm(null,e,n,!0,s,r)):(e.tag=0,Ye&&s&&ay(e),Xt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Lh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=LI(n),t=Kr(n,t),i){case 0:e=km(null,e,n,t,r);break e;case 1:e=z1(null,e,n,t,r);break e;case 11:e=D1(null,e,n,t,r);break e;case 14:e=U1(null,e,n,Kr(n.type,t),r);break e}throw Error(Y(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),km(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),z1(t,e,n,i,r);case 3:e:{if(Ob(e),t===null)throw Error(Y(387));n=e.pendingProps,s=e.memoizedState,i=s.element,sb(t,e),dc(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zo(Error(Y(423)),e),e=G1(t,e,n,r,i);break e}else if(n!==i){i=Zo(Error(Y(424)),e),e=G1(t,e,n,r,i);break e}else for(pr=Li(e.stateNode.containerInfo.firstChild),mr=e,Ye=!0,Jr=null,r=ub(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qo(),n===i){e=ii(t,e,r);break e}Xt(t,e,n,r)}e=e.child}return e;case 5:return hb(e),t===null&&Am(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wm(n,i)?o=null:s!==null&&wm(n,s)&&(e.flags|=32),Fb(t,e),Xt(t,e,o,r),e.child;case 6:return t===null&&Am(e),null;case 13:return Lb(t,e,r);case 4:return my(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qo(e,null,n,r):Xt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),D1(t,e,n,i,r);case 7:return Xt(t,e,e.pendingProps,r),e.child;case 8:return Xt(t,e,e.pendingProps.children,r),e.child;case 12:return Xt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(hc,n._currentValue),n._currentValue=o,s!==null)if(un(s.value,o)){if(s.children===i.children&&!ir.current){e=ii(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var h=u.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=Zn(-1,r&-r),h.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?h.next=h:(h.next=f.next,f.next=h),c.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),Cm(s.return,r,e),u.lanes|=r;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),Cm(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,zo(e,r),i=zr(i),n=n(i),e.flags|=1,Xt(t,e,n,r),e.child;case 14:return n=e.type,i=Kr(n,e.pendingProps),i=Kr(n.type,i),U1(t,e,n,i,r);case 15:return Nb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kr(n,i),Lh(t,e),e.tag=1,sr(n)?(t=!0,ac(e)):t=!1,zo(e,r),ab(e,n,i),Pm(e,n,i,r),Nm(null,e,n,!0,t,r);case 19:return Bb(t,e,r);case 22:return Mb(t,e,r)}throw Error(Y(156,e.tag))};function Jb(t,e){return Tw(t,e)}function OI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(t,e,r,n){return new OI(t,e,r,n)}function Ry(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LI(t){if(typeof t=="function")return Ry(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qg)return 11;if(t===qg)return 14}return 2}function zi(t,e){var r=t.alternate;return r===null?(r=Fr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Uh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ry(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _o:return Ps(r.children,i,s,e);case Yg:o=8,i|=8;break;case Jp:return t=Fr(12,r,e,i|2),t.elementType=Jp,t.lanes=s,t;case em:return t=Fr(13,r,e,i),t.elementType=em,t.lanes=s,t;case tm:return t=Fr(19,r,e,i),t.elementType=tm,t.lanes=s,t;case lw:return td(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ow:o=10;break e;case aw:o=9;break e;case Qg:o=11;break e;case qg:o=14;break e;case bi:o=16,n=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Fr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ps(t,e,r,n){return t=Fr(7,t,n,e),t.lanes=r,t}function td(t,e,r,n){return t=Fr(22,t,n,e),t.elementType=lw,t.lanes=r,t.stateNode={isHidden:!1},t}function lp(t,e,r){return t=Fr(6,t,null,e),t.lanes=r,t}function up(t,e,r){return e=Fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ky(t,e,r,n,i,s,o,u,h){return t=new BI(t,e,r,u,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},py(s),t}function DI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function eE(t){if(!t)return ji;t=t._reactInternals;e:{if(zs(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var r=t.type;if(sr(r))return Jw(t,r,e)}return e}function tE(t,e,r,n,i,s,o,u,h){return t=ky(r,n,!0,t,i,s,o,u,h),t.context=eE(null),r=t.current,n=Qt(),i=Ui(r),s=Zn(n,i),s.callback=e??null,Bi(r,s,i),t.current.lanes=i,Vl(t,i,n),or(t,n),t}function rd(t,e,r,n){var i=e.current,s=Qt(),o=Ui(i);return r=eE(r),e.context===null?e.context=r:e.pendingContext=r,e=Zn(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bi(i,e,o),t!==null&&(on(t,i,o,s),Mh(t,i,o)),o}function xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ny(t,e){K1(t,e),(t=t.alternate)&&K1(t,e)}function UI(){return null}var rE=typeof reportError=="function"?reportError:function(t){console.error(t)};function My(t){this._internalRoot=t}nd.prototype.render=My.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));rd(t,e,null,null)};nd.prototype.unmount=My.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){rd(null,t,null,null)}),e[ri]=null}};function nd(t){this._internalRoot=t}nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ti.length&&e!==0&&e<Ti[r].priority;r++);Ti.splice(r,0,t),r===0&&Fw(t)}};function Fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function id(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z1(){}function zI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=xc(o);s.call(c)}}var o=tE(e,n,t,0,null,!1,!1,"",Z1);return t._reactRootContainer=o,t[ri]=o.current,Al(t.nodeType===8?t.parentNode:t),Bs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var c=xc(h);u.call(c)}}var h=ky(t,0,!1,null,null,!1,!1,"",Z1);return t._reactRootContainer=h,t[ri]=h.current,Al(t.nodeType===8?t.parentNode:t),Bs(function(){rd(e,h,r,n)}),h}function sd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var h=xc(o);u.call(h)}}rd(e,o,t,i)}else o=zI(r,e,t,i,n);return xc(o)}Rw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qa(e.pendingLanes);r!==0&&(Jg(e,r|1),or(e,ht()),!(Re&6)&&(Jo=ht()+500,qi()))}break;case 13:Bs(function(){var n=ni(t,1);if(n!==null){var i=Qt();on(n,t,1,i)}}),Ny(t,1)}};ey=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var r=Qt();on(e,t,134217728,r)}Ny(t,134217728)}};kw=function(t){if(t.tag===13){var e=Ui(t),r=ni(t,e);if(r!==null){var n=Qt();on(r,t,e,n)}Ny(t,e)}};Nw=function(){return De};Mw=function(t,e){var r=De;try{return De=t,e()}finally{De=r}};cm=function(t,e,r){switch(e){case"input":if(im(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Qc(n);if(!i)throw Error(Y(90));hw(n),im(n,i)}}}break;case"textarea":dw(t,r);break;case"select":e=r.value,e!=null&&Lo(t,!!r.multiple,e,!1)}};_w=Cy;xw=Bs;var GI={usingClientEntryPoint:!1,Events:[Xl,Eo,Qc,yw,vw,Cy]},za={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$I={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ew(t),t===null?null:t.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Vc=rh.inject($I),kn=rh}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GI;_r.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fy(e))throw Error(Y(200));return DI(t,e,null,r)};_r.createRoot=function(t,e){if(!Fy(t))throw Error(Y(299));var r=!1,n="",i=rE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ky(t,1,!1,null,null,r,!1,n,i),t[ri]=e.current,Al(t.nodeType===8?t.parentNode:t),new My(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Ew(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return Bs(t)};_r.hydrate=function(t,e,r){if(!id(e))throw Error(Y(200));return sd(null,t,e,!0,r)};_r.hydrateRoot=function(t,e,r){if(!Fy(t))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=rE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=tE(e,null,t,1,r??null,i,!1,s,o),t[ri]=e.current,Al(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new nd(e)};_r.render=function(t,e,r){if(!id(e))throw Error(Y(200));return sd(null,t,e,!1,r)};_r.unmountComponentAtNode=function(t){if(!id(t))throw Error(Y(40));return t._reactRootContainer?(Bs(function(){sd(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};_r.unstable_batchedUpdates=Cy;_r.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!id(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return sd(t,e,r,!1,n)};_r.version="18.2.0-next-9e3b772b8-20220608";function nE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nE)}catch(t){console.error(t)}}nE(),tw.exports=_r;var jI=tw.exports,J1=jI;Kp.createRoot=J1.createRoot,Kp.hydrateRoot=J1.hydrateRoot;var od={exports:{}},Gs=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Gs||{}),iE=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(iE||{}),Hm=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Hm||{}),ge=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ge||{}),rn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(rn||{}),ee=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ee||{}),$o=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))($o||{}),ve=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ve||{}),te=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(te||{}),qn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(qn||{}),Jn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Jn||{}),Hi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Hi||{}),Or=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Or||{}),ms=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ms||{}),Oy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Oy||{}),Lr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Lr||{}),mt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(mt||{}),dt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(dt||{}),Mn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Mn||{});const HI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ce={ADAPTER:HI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var hp=/iPhone/i,e_=/iPod/i,t_=/iPad/i,r_=/\biOS-universal(?:.+)Mac\b/i,cp=/\bAndroid(?:.+)Mobile\b/i,n_=/Android/i,ao=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,nh=/Silk/i,$n=/Windows Phone/i,i_=/\bWindows(?:.+)ARM\b/i,s_=/BlackBerry/i,o_=/BB10/i,a_=/Opera Mini/i,l_=/\b(CriOS|Chrome)(?:.+)Mobile/i,u_=/Mobile(?:.+)Firefox\b/i,h_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function VI(t){return function(e){return e.test(t)}}function c_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=VI(r),s={apple:{phone:i(hp)&&!i($n),ipod:i(e_),tablet:!i(hp)&&(i(t_)||h_(e))&&!i($n),universal:i(r_),device:(i(hp)||i(e_)||i(t_)||i(r_)||h_(e))&&!i($n)},amazon:{phone:i(ao),tablet:!i(ao)&&i(nh),device:i(ao)||i(nh)},android:{phone:!i($n)&&i(ao)||!i($n)&&i(cp),tablet:!i($n)&&!i(ao)&&!i(cp)&&(i(nh)||i(n_)),device:!i($n)&&(i(ao)||i(nh)||i(cp)||i(n_))||i(/\bokhttp\b/i)},windows:{phone:i($n),tablet:i(i_),device:i($n)||i(i_)},other:{blackberry:i(s_),blackberry10:i(o_),opera:i(a_),firefox:i(u_),chrome:i(l_),device:i(s_)||i(o_)||i(a_)||i(u_)||i(l_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const WI=c_.default??c_,Ro=WI(globalThis.navigator);ce.RETINA_PREFIX=/@([0-9\.]+)x/;ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var sE={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function s(h,c,f,g,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,g||h,m),x=r?r+c:c;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],v]:h._events[x].push(v):(h._events[x]=v,h._eventsCount++),h}function o(h,c){--h._eventsCount===0?h._events=new n:delete h._events[c]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],f,g;if(this._eventsCount===0)return c;for(g in f=this._events)e.call(f,g)&&c.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},u.prototype.listeners=function(c){var f=r?r+c:c,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,v=g.length,x=new Array(v);m<v;m++)x[m]=g[m].fn;return x},u.prototype.listenerCount=function(c){var f=r?r+c:c,g=this._events[f];return g?g.fn?1:g.length:0},u.prototype.emit=function(c,f,g,m,v,x){var S=r?r+c:c;if(!this._events[S])return!1;var T=this._events[S],w=arguments.length,E,b;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),w){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,g),!0;case 4:return T.fn.call(T.context,f,g,m),!0;case 5:return T.fn.call(T.context,f,g,m,v),!0;case 6:return T.fn.call(T.context,f,g,m,v,x),!0}for(b=1,E=new Array(w-1);b<w;b++)E[b-1]=arguments[b];T.fn.apply(T.context,E)}else{var C=T.length,k;for(b=0;b<C;b++)switch(T[b].once&&this.removeListener(c,T[b].fn,void 0,!0),w){case 1:T[b].fn.call(T[b].context);break;case 2:T[b].fn.call(T[b].context,f);break;case 3:T[b].fn.call(T[b].context,f,g);break;case 4:T[b].fn.call(T[b].context,f,g,m);break;default:if(!E)for(k=1,E=new Array(w-1);k<w;k++)E[k-1]=arguments[k];T[b].fn.apply(T[b].context,E)}}return!0},u.prototype.on=function(c,f,g){return s(this,c,f,g,!1)},u.prototype.once=function(c,f,g){return s(this,c,f,g,!0)},u.prototype.removeListener=function(c,f,g,m){var v=r?r+c:c;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!m||x.once)&&(!g||x.context===g)&&o(this,v);else{for(var S=0,T=[],w=x.length;S<w;S++)(x[S].fn!==f||m&&!x[S].once||g&&x[S].context!==g)&&T.push(x[S]);T.length?this._events[v]=T.length===1?T[0]:T:o(this,v)}return this},u.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(sE);var XI=sE.exports;const Ql=jc(XI);var Ly={exports:{}};Ly.exports=ad;Ly.exports.default=ad;function ad(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=oE(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var u,h,c,f,g,m,v;if(n&&(s=ZI(t,e,s,r)),t.length>80*r){u=c=t[0],h=f=t[1];for(var x=r;x<i;x+=r)g=t[x],m=t[x+1],g<u&&(u=g),m<h&&(h=m),g>c&&(c=g),m>f&&(f=m);v=Math.max(c-u,f-h),v=v!==0?32767/v:0}return Ol(s,o,r,u,h,v,0),o}function oE(t,e,r,n,i){var s,o;if(i===Xm(t,e,r,n)>0)for(s=e;s<r;s+=n)o=d_(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=d_(s,t[s],t[s+1],o);return o&&ld(o,o.next)&&(Bl(o),o=o.next),o}function Ds(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(ld(r,r.next)||Ze(r.prev,r,r.next)===0)){if(Bl(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ol(t,e,r,n,i,s,o){if(t){!o&&s&&nP(t,n,i,s);for(var u=t,h,c;t.prev!==t.next;){if(h=t.prev,c=t.next,s?QI(t,n,i,s):YI(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),Bl(t),t=c.next,u=c.next;continue}if(t=c,t===u){o?o===1?(t=qI(Ds(t),e,r),Ol(t,e,r,n,i,s,2)):o===2&&KI(t,e,r,n,i,s):Ol(Ds(t),e,r,n,i,s,1);break}}}}function YI(t){var e=t.prev,r=t,n=t.next;if(Ze(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,u=e.y,h=r.y,c=n.y,f=i<s?i<o?i:o:s<o?s:o,g=u<h?u<c?u:c:h<c?h:c,m=i>s?i>o?i:o:s>o?s:o,v=u>h?u>c?u:c:h>c?h:c,x=n.next;x!==e;){if(x.x>=f&&x.x<=m&&x.y>=g&&x.y<=v&&ko(i,u,s,h,o,c,x.x,x.y)&&Ze(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function QI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(Ze(i,s,o)>=0)return!1;for(var u=i.x,h=s.x,c=o.x,f=i.y,g=s.y,m=o.y,v=u<h?u<c?u:c:h<c?h:c,x=f<g?f<m?f:m:g<m?g:m,S=u>h?u>c?u:c:h>c?h:c,T=f>g?f>m?f:m:g>m?g:m,w=Vm(v,x,e,r,n),E=Vm(S,T,e,r,n),b=t.prevZ,C=t.nextZ;b&&b.z>=w&&C&&C.z<=E;){if(b.x>=v&&b.x<=S&&b.y>=x&&b.y<=T&&b!==i&&b!==o&&ko(u,f,h,g,c,m,b.x,b.y)&&Ze(b.prev,b,b.next)>=0||(b=b.prevZ,C.x>=v&&C.x<=S&&C.y>=x&&C.y<=T&&C!==i&&C!==o&&ko(u,f,h,g,c,m,C.x,C.y)&&Ze(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;b&&b.z>=w;){if(b.x>=v&&b.x<=S&&b.y>=x&&b.y<=T&&b!==i&&b!==o&&ko(u,f,h,g,c,m,b.x,b.y)&&Ze(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;C&&C.z<=E;){if(C.x>=v&&C.x<=S&&C.y>=x&&C.y<=T&&C!==i&&C!==o&&ko(u,f,h,g,c,m,C.x,C.y)&&Ze(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function qI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!ld(i,s)&&aE(i,n,n.next,s)&&Ll(i,s)&&Ll(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Bl(n),Bl(n.next),n=t=s),n=n.next}while(n!==t);return Ds(n)}function KI(t,e,r,n,i,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&oP(o,u)){var h=lE(o,u);o=Ds(o,o.next),h=Ds(h,h.next),Ol(o,e,r,n,i,s,0),Ol(h,e,r,n,i,s,0);return}u=u.next}o=o.next}while(o!==t)}function ZI(t,e,r,n){var i=[],s,o,u,h,c;for(s=0,o=e.length;s<o;s++)u=e[s]*n,h=s<o-1?e[s+1]*n:t.length,c=oE(t,u,h,n,!1),c===c.next&&(c.steiner=!0),i.push(sP(c));for(i.sort(JI),s=0;s<i.length;s++)r=eP(i[s],r);return r}function JI(t,e){return t.x-e.x}function eP(t,e){var r=tP(t,e);if(!r)return e;var n=lE(r,t);return Ds(n,n.next),Ds(r,r.next)}function tP(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,o=r.x<r.next.x?r:r.next,u===n))return o}r=r.next}while(r!==e);if(!o)return null;var h=o,c=o.x,f=o.y,g=1/0,m;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&ko(i<f?n:s,i,c,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),Ll(r,t)&&(m<g||m===g&&(r.x>o.x||r.x===o.x&&rP(o,r)))&&(o=r,g=m)),r=r.next;while(r!==h);return o}function rP(t,e){return Ze(t.prev,t,e.prev)<0&&Ze(e.next,t,t.next)<0}function nP(t,e,r,n){var i=t;do i.z===0&&(i.z=Vm(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,iP(i)}function iP(t){var e,r,n,i,s,o,u,h,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ,!!n);e++);for(h=c;u>0||h>0&&n;)u!==0&&(h===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1);return t}function Vm(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function sP(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ko(t,e,r,n,i,s,o,u){return(i-o)*(e-u)>=(t-o)*(s-u)&&(t-o)*(n-u)>=(r-o)*(e-u)&&(r-o)*(s-u)>=(i-o)*(n-u)}function oP(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!aP(t,e)&&(Ll(t,e)&&Ll(e,t)&&lP(t,e)&&(Ze(t.prev,t,e.prev)||Ze(t,e.prev,e))||ld(t,e)&&Ze(t.prev,t,t.next)>0&&Ze(e.prev,e,e.next)>0)}function Ze(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function ld(t,e){return t.x===e.x&&t.y===e.y}function aE(t,e,r,n){var i=sh(Ze(t,e,r)),s=sh(Ze(t,e,n)),o=sh(Ze(r,n,t)),u=sh(Ze(r,n,e));return!!(i!==s&&o!==u||i===0&&ih(t,r,e)||s===0&&ih(t,n,e)||o===0&&ih(r,t,n)||u===0&&ih(r,e,n))}function ih(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function sh(t){return t>0?1:t<0?-1:0}function aP(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&aE(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Ll(t,e){return Ze(t.prev,t,t.next)<0?Ze(t,e,t.next)>=0&&Ze(t,t.prev,e)>=0:Ze(t,e,t.prev)<0||Ze(t,t.next,e)<0}function lP(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function lE(t,e){var r=new Wm(t.i,t.x,t.y),n=new Wm(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function d_(t,e,r,n){var i=new Wm(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Bl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wm(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ad.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Xm(t,0,s,r));if(i)for(var u=0,h=e.length;u<h;u++){var c=e[u]*r,f=u<h-1?e[u+1]*r:t.length;o-=Math.abs(Xm(t,c,f,r))}var g=0;for(u=0;u<n.length;u+=3){var m=n[u]*r,v=n[u+1]*r,x=n[u+2]*r;g+=Math.abs((t[m]-t[x])*(t[v+1]-t[m+1])-(t[m]-t[v])*(t[x+1]-t[m+1]))}return o===0&&g===0?0:Math.abs((g-o)/o)};function Xm(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}ad.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var uP=Ly.exports;const hP=jc(uP);var wc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */wc.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Ch=="object"&&Ch;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,u=2147483647,h=36,c=1,f=26,g=38,m=700,v=72,x=128,S="-",T=/^xn--/,w=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=h-c,k=Math.floor,L=String.fromCharCode,O;function N(F){throw new RangeError(b[F])}function W(F,z){for(var J=F.length,_e=[];J--;)_e[J]=z(F[J]);return _e}function X(F,z){var J=F.split("@"),_e="";J.length>1&&(_e=J[0]+"@",F=J[1]),F=F.replace(E,".");var ye=F.split("."),Oe=W(ye,z).join(".");return _e+Oe}function fe(F){for(var z=[],J=0,_e=F.length,ye,Oe;J<_e;)ye=F.charCodeAt(J++),ye>=55296&&ye<=56319&&J<_e?(Oe=F.charCodeAt(J++),(Oe&64512)==56320?z.push(((ye&1023)<<10)+(Oe&1023)+65536):(z.push(ye),J--)):z.push(ye);return z}function K(F){return W(F,function(z){var J="";return z>65535&&(z-=65536,J+=L(z>>>10&1023|55296),z=56320|z&1023),J+=L(z),J}).join("")}function D(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:h}function q(F,z){return F+22+75*(F<26)-((z!=0)<<5)}function ue(F,z,J){var _e=0;for(F=J?k(F/m):F>>1,F+=k(F/z);F>C*f>>1;_e+=h)F=k(F/C);return k(_e+(C+1)*F/(F+g))}function me(F){var z=[],J=F.length,_e,ye=0,Oe=x,we=v,Fe,vt,It,rt,be,Ge,ke,wr,br;for(Fe=F.lastIndexOf(S),Fe<0&&(Fe=0),vt=0;vt<Fe;++vt)F.charCodeAt(vt)>=128&&N("not-basic"),z.push(F.charCodeAt(vt));for(It=Fe>0?Fe+1:0;It<J;){for(rt=ye,be=1,Ge=h;It>=J&&N("invalid-input"),ke=D(F.charCodeAt(It++)),(ke>=h||ke>k((u-ye)/be))&&N("overflow"),ye+=ke*be,wr=Ge<=we?c:Ge>=we+f?f:Ge-we,!(ke<wr);Ge+=h)br=h-wr,be>k(u/br)&&N("overflow"),be*=br;_e=z.length+1,we=ue(ye-rt,_e,rt==0),k(ye/_e)>u-Oe&&N("overflow"),Oe+=k(ye/_e),ye%=_e,z.splice(ye++,0,Oe)}return K(z)}function he(F){var z,J,_e,ye,Oe,we,Fe,vt,It,rt,be,Ge=[],ke,wr,br,es;for(F=fe(F),ke=F.length,z=x,J=0,Oe=v,we=0;we<ke;++we)be=F[we],be<128&&Ge.push(L(be));for(_e=ye=Ge.length,ye&&Ge.push(S);_e<ke;){for(Fe=u,we=0;we<ke;++we)be=F[we],be>=z&&be<Fe&&(Fe=be);for(wr=_e+1,Fe-z>k((u-J)/wr)&&N("overflow"),J+=(Fe-z)*wr,z=Fe,we=0;we<ke;++we)if(be=F[we],be<z&&++J>u&&N("overflow"),be==z){for(vt=J,It=h;rt=It<=Oe?c:It>=Oe+f?f:It-Oe,!(vt<rt);It+=h)es=vt-rt,br=h-rt,Ge.push(L(q(rt+es%br,0))),vt=k(es/br);Ge.push(L(q(vt,0))),Oe=ue(J,wr,_e==ye),J=0,++_e}++J,++z}return Ge.join("")}function P(F){return X(F,function(z){return T.test(z)?me(z.slice(4).toLowerCase()):z})}function H(F){return X(F,function(z){return w.test(z)?"xn--"+he(z):z})}if(o={version:"1.4.1",ucs2:{decode:fe,encode:K},decode:me,encode:he,toASCII:H,toUnicode:P},n&&i)if(t.exports==n)i.exports=o;else for(O in o)o.hasOwnProperty(O)&&(n[O]=o[O]);else r.punycode=o})(Ch)})(wc,wc.exports);var cP=wc.exports,dP=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},f_=typeof Symbol<"u"&&Symbol,fP=dP,pP=function(){return typeof f_!="function"||typeof Symbol!="function"||typeof f_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:fP()},p_={foo:{}},mP=Object,gP=function(){return{__proto__:p_}.foo===p_.foo&&!({__proto__:null}instanceof mP)},yP="Function.prototype.bind called on incompatible ",vP=Object.prototype.toString,_P=Math.max,xP="[object Function]",m_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},wP=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},bP=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},EP=function(e){var r=this;if(typeof r!="function"||vP.apply(r)!==xP)throw new TypeError(yP+r);for(var n=wP(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,m_(n,arguments));return Object(f)===f?f:this}return r.apply(e,m_(n,arguments))},o=_P(0,r.length-n.length),u=[],h=0;h<o;h++)u[h]="$"+h;if(i=Function("binder","return function ("+bP(u,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},SP=EP,By=Function.prototype.bind||SP,TP=Function.prototype.call,AP=Object.prototype.hasOwnProperty,CP=By,IP=CP.call(TP,AP),Ee,ea=SyntaxError,uE=Function,jo=TypeError,dp=function(t){try{return uE('"use strict"; return ('+t+").constructor;")()}catch{}},Rs=Object.getOwnPropertyDescriptor;if(Rs)try{Rs({},"")}catch{Rs=null}var fp=function(){throw new jo},PP=Rs?function(){try{return arguments.callee,fp}catch{try{return Rs(arguments,"callee").get}catch{return fp}}}():fp,lo=pP(),RP=gP(),St=Object.getPrototypeOf||(RP?function(t){return t.__proto__}:null),po={},kP=typeof Uint8Array>"u"||!St?Ee:St(Uint8Array),ks={"%AggregateError%":typeof AggregateError>"u"?Ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ee:ArrayBuffer,"%ArrayIteratorPrototype%":lo&&St?St([][Symbol.iterator]()):Ee,"%AsyncFromSyncIteratorPrototype%":Ee,"%AsyncFunction%":po,"%AsyncGenerator%":po,"%AsyncGeneratorFunction%":po,"%AsyncIteratorPrototype%":po,"%Atomics%":typeof Atomics>"u"?Ee:Atomics,"%BigInt%":typeof BigInt>"u"?Ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ee:FinalizationRegistry,"%Function%":uE,"%GeneratorFunction%":po,"%Int8Array%":typeof Int8Array>"u"?Ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":lo&&St?St(St([][Symbol.iterator]())):Ee,"%JSON%":typeof JSON=="object"?JSON:Ee,"%Map%":typeof Map>"u"?Ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!lo||!St?Ee:St(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ee:Promise,"%Proxy%":typeof Proxy>"u"?Ee:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!lo||!St?Ee:St(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":lo&&St?St(""[Symbol.iterator]()):Ee,"%Symbol%":lo?Symbol:Ee,"%SyntaxError%":ea,"%ThrowTypeError%":PP,"%TypedArray%":kP,"%TypeError%":jo,"%Uint8Array%":typeof Uint8Array>"u"?Ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ee:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ee:WeakSet};if(St)try{null.error}catch(t){var NP=St(St(t));ks["%Error.prototype%"]=NP}var MP=function t(e){var r;if(e==="%AsyncFunction%")r=dp("async function () {}");else if(e==="%GeneratorFunction%")r=dp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=dp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&St&&(r=St(i.prototype))}return ks[e]=r,r},g_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ql=By,bc=IP,FP=ql.call(Function.call,Array.prototype.concat),OP=ql.call(Function.apply,Array.prototype.splice),y_=ql.call(Function.call,String.prototype.replace),Ec=ql.call(Function.call,String.prototype.slice),LP=ql.call(Function.call,RegExp.prototype.exec),BP=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,DP=/\\(\\)?/g,UP=function(e){var r=Ec(e,0,1),n=Ec(e,-1);if(r==="%"&&n!=="%")throw new ea("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ea("invalid intrinsic syntax, expected opening `%`");var i=[];return y_(e,BP,function(s,o,u,h){i[i.length]=u?y_(h,DP,"$1"):o||s}),i},zP=function(e,r){var n=e,i;if(bc(g_,n)&&(i=g_[n],n="%"+i[0]+"%"),bc(ks,n)){var s=ks[n];if(s===po&&(s=MP(n)),typeof s>"u"&&!r)throw new jo("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ea("intrinsic "+e+" does not exist!")},$s=function(e,r){if(typeof e!="string"||e.length===0)throw new jo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new jo('"allowMissing" argument must be a boolean');if(LP(/^%?[^%]*%?$/,e)===null)throw new ea("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=UP(e),i=n.length>0?n[0]:"",s=zP("%"+i+"%",r),o=s.name,u=s.value,h=!1,c=s.alias;c&&(i=c[0],OP(n,FP([0,1],c)));for(var f=1,g=!0;f<n.length;f+=1){var m=n[f],v=Ec(m,0,1),x=Ec(m,-1);if((v==='"'||v==="'"||v==="`"||x==='"'||x==="'"||x==="`")&&v!==x)throw new ea("property names with quotes must have matching quotes");if((m==="constructor"||!g)&&(h=!0),i+="."+m,o="%"+i+"%",bc(ks,o))u=ks[o];else if(u!=null){if(!(m in u)){if(!r)throw new jo("base intrinsic for "+e+" exists, but the property is not available.");return}if(Rs&&f+1>=n.length){var S=Rs(u,m);g=!!S,g&&"get"in S&&!("originalValue"in S.get)?u=S.get:u=u[m]}else g=bc(u,m),u=u[m];g&&!h&&(ks[o]=u)}}return u},hE={exports:{}},GP=$s,Ym=GP("%Object.defineProperty%",!0),Qm=function(){if(Ym)try{return Ym({},"a",{value:1}),!0}catch{return!1}return!1};Qm.hasArrayLengthDefineBug=function(){if(!Qm())return null;try{return Ym([],"length",{value:1}).length!==1}catch{return!0}};var cE=Qm,$P=$s,zh=$P("%Object.getOwnPropertyDescriptor%",!0);if(zh)try{zh([],"length")}catch{zh=null}var dE=zh,jP=cE(),Dy=$s,dl=jP&&Dy("%Object.defineProperty%",!0);if(dl)try{dl({},"a",{value:1})}catch{dl=!1}var HP=Dy("%SyntaxError%"),uo=Dy("%TypeError%"),v_=dE,VP=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new uo("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new uo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new uo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new uo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new uo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new uo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,h=!!v_&&v_(e,r);if(dl)dl(e,r,{configurable:o===null&&h?h.configurable:!o,enumerable:i===null&&h?h.enumerable:!i,value:n,writable:s===null&&h?h.writable:!s});else if(u||!i&&!s&&!o)e[r]=n;else throw new HP("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},fE=$s,__=VP,WP=cE(),x_=dE,w_=fE("%TypeError%"),XP=fE("%Math.floor%"),YP=function(e,r){if(typeof e!="function")throw new w_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||XP(r)!==r)throw new w_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&x_){var o=x_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(WP?__(e,"length",r,!0,!0):__(e,"length",r)),e};(function(t){var e=By,r=$s,n=YP,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(o,s),h=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(h)try{h({},"a",{value:1})}catch{h=null}t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var v=u(e,o,arguments);return n(v,1+c(0,m.length-(arguments.length-1)),!0)};var f=function(){return u(e,s,arguments)};h?h(t.exports,"apply",{value:f}):t.exports.apply=f})(hE);var QP=hE.exports,pE=$s,mE=QP,qP=mE(pE("String.prototype.indexOf")),KP=function(e,r){var n=pE(e,!!r);return typeof n=="function"&&qP(e,".prototype.")>-1?mE(n):n};const ZP={},JP=Object.freeze(Object.defineProperty({__proto__:null,default:ZP},Symbol.toStringTag,{value:"Module"})),eR=Hx(JP);var Uy=typeof Map=="function"&&Map.prototype,pp=Object.getOwnPropertyDescriptor&&Uy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Sc=Uy&&pp&&typeof pp.get=="function"?pp.get:null,b_=Uy&&Map.prototype.forEach,zy=typeof Set=="function"&&Set.prototype,mp=Object.getOwnPropertyDescriptor&&zy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Tc=zy&&mp&&typeof mp.get=="function"?mp.get:null,E_=zy&&Set.prototype.forEach,tR=typeof WeakMap=="function"&&WeakMap.prototype,fl=tR?WeakMap.prototype.has:null,rR=typeof WeakSet=="function"&&WeakSet.prototype,pl=rR?WeakSet.prototype.has:null,nR=typeof WeakRef=="function"&&WeakRef.prototype,S_=nR?WeakRef.prototype.deref:null,iR=Boolean.prototype.valueOf,sR=Object.prototype.toString,oR=Function.prototype.toString,aR=String.prototype.match,Gy=String.prototype.slice,ki=String.prototype.replace,lR=String.prototype.toUpperCase,T_=String.prototype.toLowerCase,gE=RegExp.prototype.test,A_=Array.prototype.concat,Cn=Array.prototype.join,uR=Array.prototype.slice,C_=Math.floor,qm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gp=Object.getOwnPropertySymbols,Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ta=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ht=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ta||"symbol")?Symbol.toStringTag:null,yE=Object.prototype.propertyIsEnumerable,I_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function P_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||gE.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-C_(-t):C_(t);if(n!==t){var i=String(n),s=Gy.call(e,i.length+1);return ki.call(i,r,"$&_")+"."+ki.call(ki.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ki.call(e,r,"$&_")}var Zm=eR,R_=Zm.custom,k_=_E(R_)?R_:null,hR=function t(e,r,n,i){var s=r||{};if(Si(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Si(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Si(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Si(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Si(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return wE(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return u?P_(e,h):h}if(typeof e=="bigint"){var c=String(e)+"n";return u?P_(e,c):c}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return Jm(e)?"[Array]":"[Object]";var g=IR(s,n);if(typeof i>"u")i=[];else if(xE(i,e)>=0)return"[Circular]";function m(D,q,ue){if(q&&(i=uR.call(i),i.push(q)),ue){var me={depth:s.depth};return Si(s,"quoteStyle")&&(me.quoteStyle=s.quoteStyle),t(D,me,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!N_(e)){var v=_R(e),x=oh(e,m);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(x.length>0?" { "+Cn.call(x,", ")+" }":"")}if(_E(e)){var S=ta?ki.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Km.call(e);return typeof e=="object"&&!ta?Ga(S):S}if(TR(e)){for(var T="<"+T_.call(String(e.nodeName)),w=e.attributes||[],E=0;E<w.length;E++)T+=" "+w[E].name+"="+vE(cR(w[E].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+T_.call(String(e.nodeName))+">",T}if(Jm(e)){if(e.length===0)return"[]";var b=oh(e,m);return g&&!CR(b)?"["+eg(b,g)+"]":"[ "+Cn.call(b,", ")+" ]"}if(fR(e)){var C=oh(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!yE.call(e,"cause")?"{ ["+String(e)+"] "+Cn.call(A_.call("[cause]: "+m(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Cn.call(C,", ")+" }"}if(typeof e=="object"&&o){if(k_&&typeof e[k_]=="function"&&Zm)return Zm(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(xR(e)){var k=[];return b_&&b_.call(e,function(D,q){k.push(m(q,e,!0)+" => "+m(D,e))}),M_("Map",Sc.call(e),k,g)}if(ER(e)){var L=[];return E_&&E_.call(e,function(D){L.push(m(D,e))}),M_("Set",Tc.call(e),L,g)}if(wR(e))return yp("WeakMap");if(SR(e))return yp("WeakSet");if(bR(e))return yp("WeakRef");if(mR(e))return Ga(m(Number(e)));if(yR(e))return Ga(m(qm.call(e)));if(gR(e))return Ga(iR.call(e));if(pR(e))return Ga(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Ch)return"{ [object globalThis] }";if(!dR(e)&&!N_(e)){var O=oh(e,m),N=I_?I_(e)===Object.prototype:e instanceof Object||e.constructor===Object,W=e instanceof Object?"":"null prototype",X=!N&&Ht&&Object(e)===e&&Ht in e?Gy.call(Ki(e),8,-1):W?"Object":"",fe=N||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=fe+(X||W?"["+Cn.call(A_.call([],X||[],W||[]),": ")+"] ":"");return O.length===0?K+"{}":g?K+"{"+eg(O,g)+"}":K+"{ "+Cn.call(O,", ")+" }"}return String(e)};function vE(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function cR(t){return ki.call(String(t),/"/g,"&quot;")}function Jm(t){return Ki(t)==="[object Array]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function dR(t){return Ki(t)==="[object Date]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function N_(t){return Ki(t)==="[object RegExp]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function fR(t){return Ki(t)==="[object Error]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function pR(t){return Ki(t)==="[object String]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function mR(t){return Ki(t)==="[object Number]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function gR(t){return Ki(t)==="[object Boolean]"&&(!Ht||!(typeof t=="object"&&Ht in t))}function _E(t){if(ta)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Km)return!1;try{return Km.call(t),!0}catch{}return!1}function yR(t){if(!t||typeof t!="object"||!qm)return!1;try{return qm.call(t),!0}catch{}return!1}var vR=Object.prototype.hasOwnProperty||function(t){return t in this};function Si(t,e){return vR.call(t,e)}function Ki(t){return sR.call(t)}function _R(t){if(t.name)return t.name;var e=aR.call(oR.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function xE(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function xR(t){if(!Sc||!t||typeof t!="object")return!1;try{Sc.call(t);try{Tc.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function wR(t){if(!fl||!t||typeof t!="object")return!1;try{fl.call(t,fl);try{pl.call(t,pl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function bR(t){if(!S_||!t||typeof t!="object")return!1;try{return S_.call(t),!0}catch{}return!1}function ER(t){if(!Tc||!t||typeof t!="object")return!1;try{Tc.call(t);try{Sc.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function SR(t){if(!pl||!t||typeof t!="object")return!1;try{pl.call(t,pl);try{fl.call(t,fl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function TR(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function wE(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return wE(Gy.call(t,0,e.maxStringLength),e)+n}var i=ki.call(ki.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,AR);return vE(i,"single",e)}function AR(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+lR.call(e.toString(16))}function Ga(t){return"Object("+t+")"}function yp(t){return t+" { ? }"}function M_(t,e,r,n){var i=n?eg(r,n):Cn.call(r,", ");return t+" ("+e+") {"+i+"}"}function CR(t){for(var e=0;e<t.length;e++)if(xE(t[e],`
`)>=0)return!1;return!0}function IR(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Cn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Cn.call(Array(e+1),r)}}function eg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Cn.call(t,","+r)+`
`+e.prev}function oh(t,e){var r=Jm(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Si(t,i)?e(t[i],t):""}var s=typeof gp=="function"?gp(t):[],o;if(ta){o={};for(var u=0;u<s.length;u++)o["$"+s[u]]=s[u]}for(var h in t)Si(t,h)&&(r&&String(Number(h))===h&&h<t.length||ta&&o["$"+h]instanceof Symbol||(gE.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof gp=="function")for(var c=0;c<s.length;c++)yE.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var $y=$s,ua=KP,PR=hR,RR=$y("%TypeError%"),ah=$y("%WeakMap%",!0),lh=$y("%Map%",!0),kR=ua("WeakMap.prototype.get",!0),NR=ua("WeakMap.prototype.set",!0),MR=ua("WeakMap.prototype.has",!0),FR=ua("Map.prototype.get",!0),OR=ua("Map.prototype.set",!0),LR=ua("Map.prototype.has",!0),jy=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},BR=function(t,e){var r=jy(t,e);return r&&r.value},DR=function(t,e,r){var n=jy(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},UR=function(t,e){return!!jy(t,e)},zR=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new RR("Side channel does not contain "+PR(s))},get:function(s){if(ah&&s&&(typeof s=="object"||typeof s=="function")){if(e)return kR(e,s)}else if(lh){if(r)return FR(r,s)}else if(n)return BR(n,s)},has:function(s){if(ah&&s&&(typeof s=="object"||typeof s=="function")){if(e)return MR(e,s)}else if(lh){if(r)return LR(r,s)}else if(n)return UR(n,s);return!1},set:function(s,o){ah&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ah),NR(e,s,o)):lh?(r||(r=new lh),OR(r,s,o)):(n||(n={key:{},next:null}),DR(n,s,o))}};return i},GR=String.prototype.replace,$R=/%20/g,vp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Hy={default:vp.RFC3986,formatters:{RFC1738:function(t){return GR.call(t,$R,"+")},RFC3986:function(t){return String(t)}},RFC1738:vp.RFC1738,RFC3986:vp.RFC3986},jR=Hy,_p=Object.prototype.hasOwnProperty,Es=Array.isArray,wn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),HR=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Es(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},bE=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},VR=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Es(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!_p.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Es(e)&&!Es(r)&&(i=bE(e,n)),Es(e)&&Es(r)?(r.forEach(function(s,o){if(_p.call(e,o)){var u=e[o];u&&typeof u=="object"&&s&&typeof s=="object"?e[o]=t(u,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var u=r[o];return _p.call(s,o)?s[o]=t(s[o],u,n):s[o]=u,s},i)},WR=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},XR=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},YR=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var u="",h=0;h<o.length;++h){var c=o.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===jR.RFC1738&&(c===40||c===41)){u+=o.charAt(h);continue}if(c<128){u=u+wn[c];continue}if(c<2048){u=u+(wn[192|c>>6]+wn[128|c&63]);continue}if(c<55296||c>=57344){u=u+(wn[224|c>>12]+wn[128|c>>6&63]+wn[128|c&63]);continue}h+=1,c=65536+((c&1023)<<10|o.charCodeAt(h)&1023),u+=wn[240|c>>18]+wn[128|c>>12&63]+wn[128|c>>6&63]+wn[128|c&63]}return u},QR=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],u=Object.keys(o),h=0;h<u.length;++h){var c=u[h],f=o[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:c}),n.push(f))}return HR(r),e},qR=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},KR=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ZR=function(e,r){return[].concat(e,r)},JR=function(e,r){if(Es(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},EE={arrayToObject:bE,assign:WR,combine:ZR,compact:QR,decode:XR,encode:YR,isBuffer:KR,isRegExp:qR,maybeMap:JR,merge:VR},SE=zR,Gh=EE,ml=Hy,ek=Object.prototype.hasOwnProperty,F_={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Xn=Array.isArray,tk=Array.prototype.push,TE=function(t,e){tk.apply(t,Xn(e)?e:[e])},rk=Date.prototype.toISOString,O_=ml.default,Gt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Gh.encode,encodeValuesOnly:!1,format:O_,formatter:ml.formatters[O_],indices:!1,serializeDate:function(e){return rk.call(e)},skipNulls:!1,strictNullHandling:!1},nk=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},xp={},ik=function t(e,r,n,i,s,o,u,h,c,f,g,m,v,x,S,T){for(var w=e,E=T,b=0,C=!1;(E=E.get(xp))!==void 0&&!C;){var k=E.get(e);if(b+=1,typeof k<"u"){if(k===b)throw new RangeError("Cyclic object value");C=!0}typeof E.get(xp)>"u"&&(b=0)}if(typeof h=="function"?w=h(r,w):w instanceof Date?w=g(w):n==="comma"&&Xn(w)&&(w=Gh.maybeMap(w,function(me){return me instanceof Date?g(me):me})),w===null){if(s)return u&&!x?u(r,Gt.encoder,S,"key",m):r;w=""}if(nk(w)||Gh.isBuffer(w)){if(u){var L=x?r:u(r,Gt.encoder,S,"key",m);return[v(L)+"="+v(u(w,Gt.encoder,S,"value",m))]}return[v(r)+"="+v(String(w))]}var O=[];if(typeof w>"u")return O;var N;if(n==="comma"&&Xn(w))x&&u&&(w=Gh.maybeMap(w,u)),N=[{value:w.length>0?w.join(",")||null:void 0}];else if(Xn(h))N=h;else{var W=Object.keys(w);N=c?W.sort(c):W}for(var X=i&&Xn(w)&&w.length===1?r+"[]":r,fe=0;fe<N.length;++fe){var K=N[fe],D=typeof K=="object"&&typeof K.value<"u"?K.value:w[K];if(!(o&&D===null)){var q=Xn(w)?typeof n=="function"?n(X,K):X:X+(f?"."+K:"["+K+"]");T.set(e,b);var ue=SE();ue.set(xp,T),TE(O,t(D,q,n,i,s,o,n==="comma"&&x&&Xn(w)?null:u,h,c,f,g,m,v,x,S,ue))}}return O},sk=function(e){if(!e)return Gt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Gt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ml.default;if(typeof e.format<"u"){if(!ek.call(ml.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ml.formatters[n],s=Gt.filter;return(typeof e.filter=="function"||Xn(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Gt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Gt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Gt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Gt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Gt.encode,encoder:typeof e.encoder=="function"?e.encoder:Gt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Gt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Gt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Gt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Gt.strictNullHandling}},ok=function(t,e){var r=t,n=sk(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Xn(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in F_?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var h=F_[u];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=h==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=SE(),g=0;g<i.length;++g){var m=i[g];n.skipNulls&&r[m]===null||TE(o,ik(r[m],m,h,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var v=o.join(n.delimiter),x=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),v.length>0?x+v:""},ra=EE,tg=Object.prototype.hasOwnProperty,ak=Array.isArray,Et={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ra.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lk=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},AE=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},uk="utf8=%26%2310003%3B",hk="utf8=%E2%9C%93",ck=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),u=-1,h,c=r.charset;if(r.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===hk?c="utf-8":o[h]===uk&&(c="iso-8859-1"),u=h,h=o.length);for(h=0;h<o.length;++h)if(h!==u){var f=o[h],g=f.indexOf("]="),m=g===-1?f.indexOf("="):g+1,v,x;m===-1?(v=r.decoder(f,Et.decoder,c,"key"),x=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,m),Et.decoder,c,"key"),x=ra.maybeMap(AE(f.slice(m+1),r),function(S){return r.decoder(S,Et.decoder,c,"value")})),x&&r.interpretNumericEntities&&c==="iso-8859-1"&&(x=lk(x)),f.indexOf("[]=")>-1&&(x=ak(x)?[x]:x),tg.call(n,v)?n[v]=ra.combine(n[v],x):n[v]=x}return n},dk=function(t,e,r,n){for(var i=n?e:AE(e,r),s=t.length-1;s>=0;--s){var o,u=t[s];if(u==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var h=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=parseInt(h,10);!r.parseArrays&&h===""?o={0:i}:!isNaN(c)&&u!==h&&String(c)===h&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):h!=="__proto__"&&(o[h]=i)}i=o}return i},fk=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,h=n.depth>0&&o.exec(s),c=h?s.slice(0,h.index):s,f=[];if(c){if(!n.plainObjects&&tg.call(Object.prototype,c)&&!n.allowPrototypes)return;f.push(c)}for(var g=0;n.depth>0&&(h=u.exec(s))!==null&&g<n.depth;){if(g+=1,!n.plainObjects&&tg.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(h[1])}return h&&f.push("["+s.slice(h.index)+"]"),dk(f,r,n,i)}},pk=function(e){if(!e)return Et;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Et.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Et.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Et.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Et.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Et.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Et.comma,decoder:typeof e.decoder=="function"?e.decoder:Et.decoder,delimiter:typeof e.delimiter=="string"||ra.isRegExp(e.delimiter)?e.delimiter:Et.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Et.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Et.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Et.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Et.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}},mk=function(t,e){var r=pk(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?ck(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var u=s[o],h=fk(u,n[u],r,typeof t=="string");i=ra.merge(i,h,r)}return r.allowSparse===!0?i:ra.compact(i)},gk=ok,yk=mk,vk=Hy,_k={formats:vk,parse:yk,stringify:gk},xk=cP;function ei(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var wk=/^([a-z0-9.+-]+:)/i,bk=/:[0-9]*$/,Ek=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Sk=["<",">",'"',"`"," ","\r",`
`,"	"],Tk=["{","}","|","\\","^","`"].concat(Sk),rg=["'"].concat(Tk),L_=["%","/","?",";","#"].concat(rg),B_=["/","?","#"],Ak=255,D_=/^[+a-z0-9A-Z_-]{0,63}$/,Ck=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ik={javascript:!0,"javascript:":!0},ng={javascript:!0,"javascript:":!0},Ho={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ig=_k;function Pk(t,e,r){if(t&&typeof t=="object"&&t instanceof ei)return t;var n=new ei;return n.parse(t,e,r),n}ei.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var h=Ek.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=ig.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=wk.exec(u);if(c){c=c[0];var f=c.toLowerCase();this.protocol=f,u=u.substr(c.length)}if(r||c||u.match(/^\/\/[^@/]+@[^@/]+/)){var g=u.substr(0,2)==="//";g&&!(c&&ng[c])&&(u=u.substr(2),this.slashes=!0)}if(!ng[c]&&(g||c&&!Ho[c])){for(var m=-1,v=0;v<B_.length;v++){var x=u.indexOf(B_[v]);x!==-1&&(m===-1||x<m)&&(m=x)}var S,T;m===-1?T=u.lastIndexOf("@"):T=u.lastIndexOf("@",m),T!==-1&&(S=u.slice(0,T),u=u.slice(T+1),this.auth=decodeURIComponent(S)),m=-1;for(var v=0;v<L_.length;v++){var x=u.indexOf(L_[v]);x!==-1&&(m===-1||x<m)&&(m=x)}m===-1&&(m=u.length),this.host=u.slice(0,m),u=u.slice(m),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var E=this.hostname.split(/\./),v=0,b=E.length;v<b;v++){var C=E[v];if(C&&!C.match(D_)){for(var k="",L=0,O=C.length;L<O;L++)C.charCodeAt(L)>127?k+="x":k+=C[L];if(!k.match(D_)){var N=E.slice(0,v),W=E.slice(v+1),X=C.match(Ck);X&&(N.push(X[1]),W.unshift(X[2])),W.length&&(u="/"+W.join(".")+u),this.hostname=N.join(".");break}}}this.hostname.length>Ak?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=xk.toASCII(this.hostname));var fe=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+fe,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!Ik[f])for(var v=0,b=rg.length;v<b;v++){var D=rg[v];if(u.indexOf(D)!==-1){var q=encodeURIComponent(D);q===D&&(q=escape(D)),u=u.split(D).join(q)}}var ue=u.indexOf("#");ue!==-1&&(this.hash=u.substr(ue),u=u.slice(0,ue));var me=u.indexOf("?");if(me!==-1?(this.search=u.substr(me),this.query=u.substr(me+1),e&&(this.query=ig.parse(this.query)),u=u.slice(0,me)):e&&(this.search="",this.query={}),u&&(this.pathname=u),Ho[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var fe=this.pathname||"",he=this.search||"";this.path=fe+he}return this.href=this.format(),this};ei.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=ig.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ho[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+i+r+o+n};ei.prototype.resolve=function(t){return this.resolveObject(Pk(t,!1,!0)).format()};ei.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ei;e.parse(t,!1,!0),t=e}for(var r=new ei,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var h=o[u];h!=="protocol"&&(r[h]=t[h])}return Ho[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ho[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var g=c[f];r[g]=t[g]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!ng[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&r.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=S||x||r.host&&t.pathname,w=T,E=r.pathname&&r.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],C=r.protocol&&!Ho[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(E[0]===""?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),T=T&&(b[0]===""||E[0]==="")),S)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=b;else if(b.length)E||(E=[]),E.pop(),E=E.concat(b),r.search=t.search,r.query=t.query;else if(t.search!=null){if(C){r.host=E.shift(),r.hostname=r.host;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=E.slice(-1)[0],O=(r.host||t.host||E.length>1)&&(L==="."||L==="..")||L==="",N=0,W=E.length;W>=0;W--)L=E[W],L==="."?E.splice(W,1):L===".."?(E.splice(W,1),N++):N&&(E.splice(W,1),N--);if(!T&&!w)for(;N--;N)E.unshift("..");T&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),O&&E.join("/").substr(-1)!=="/"&&E.push("");var X=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(C){r.hostname=X?"":E.length?E.shift():"",r.host=r.hostname;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return T=T||r.host&&E.length,T&&!X&&E.unshift(""),E.length>0?r.pathname=E.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};ei.prototype.parseHost=function(){var t=this.host,e=bk.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const U_={};function Pe(t,e,r=3){if(U_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),U_[e]=!0}function Yr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function $a(t){return t.split("?")[0].split("#")[0]}function Rk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kk(t,e,r){return t.replace(new RegExp(Rk(e),"g"),r)}function Nk(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",n=0):(r=r.slice(0,h),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ur={toPosix(t){return kk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Yr(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Yr(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=$a(this.toPosix(e??ce.ADAPTER.getBaseUrl())),i=$a(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ur.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Yr(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Nk(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Yr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Yr(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Yr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Yr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Yr(t),e&&Yr(e),t=$a(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Yr(t),t=$a(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Yr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=$a(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,h=!0,c=t.length-1,f=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!h){o=c+1;break}continue}u===-1&&(h=!1,u=c+1),r===46?s===-1?s=c:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||u===-1||f===0||f===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let wp;async function Mk(){return wp??(wp=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Or.UNPACK;const e=await new Promise(o=>{const u=document.createElement("video");u.onloadeddata=()=>o(u),u.onerror=()=>o(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!e)return Or.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Or.PMA:Or.UNPACK})()),wp}let bp;function Fk(){return typeof bp>"u"&&(bp=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ce.ADAPTER.getWebGLRenderingContext())return!1;const r=ce.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),bp}var Ok={grad:.9,turn:360,rad:360/(2*Math.PI)},jn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},At=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Br=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},CE=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},z_=function(t){return{r:Br(t.r,0,255),g:Br(t.g,0,255),b:Br(t.b,0,255),a:Br(t.a)}},Ep=function(t){return{r:At(t.r),g:At(t.g),b:At(t.b),a:At(t.a,3)}},Lk=/^#([0-9a-f]{3,8})$/i,uh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},IE=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),u=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},PE=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),u=n*(1-(e-s)*r),h=n*(1-(1-e+s)*r),c=s%6;return{r:255*[n,u,o,o,h,n][c],g:255*[h,n,n,u,o,o][c],b:255*[o,o,h,n,n,u][c],a:i}},G_=function(t){return{h:CE(t.h),s:Br(t.s,0,100),l:Br(t.l,0,100),a:Br(t.a)}},$_=function(t){return{h:At(t.h),s:At(t.s),l:At(t.l),a:At(t.a,3)}},j_=function(t){return PE((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},gl=function(t){return{h:(e=IE(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},Bk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Dk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sg={string:[[function(t){var e=Lk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?At(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?At(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Uk.exec(t)||zk.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:z_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Bk.exec(t)||Dk.exec(t);if(!e)return null;var r,n,i=G_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Ok[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return j_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return jn(e)&&jn(r)&&jn(n)?z_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!jn(e)||!jn(r)||!jn(n))return null;var o=G_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return j_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!jn(e)||!jn(r)||!jn(n))return null;var o=function(u){return{h:CE(u.h),s:Br(u.s,0,100),v:Br(u.v,0,100),a:Br(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return PE(o)},"hsv"]]},H_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Gk=function(t){return typeof t=="string"?H_(t.trim(),sg.string):typeof t=="object"&&t!==null?H_(t,sg.object):[null,void 0]},Sp=function(t,e){var r=gl(t);return{h:r.h,s:Br(r.s+100*e,0,100),l:r.l,a:r.a}},Tp=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},V_=function(t,e){var r=gl(t);return{h:r.h,s:r.s,l:Br(r.l+100*e,0,100),a:r.a}},og=function(){function t(e){this.parsed=Gk(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return At(Tp(this.rgba),2)},t.prototype.isDark=function(){return Tp(this.rgba)<.5},t.prototype.isLight=function(){return Tp(this.rgba)>=.5},t.prototype.toHex=function(){return e=Ep(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?uh(At(255*s)):"","#"+uh(r)+uh(n)+uh(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Ep(this.rgba)},t.prototype.toRgbString=function(){return e=Ep(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return $_(gl(this.rgba))},t.prototype.toHslString=function(){return e=$_(gl(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=IE(this.rgba),{h:At(e.h),s:At(e.s),v:At(e.v),a:At(e.a,3)};var e},t.prototype.invert=function(){return bn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),bn(Sp(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),bn(Sp(this.rgba,-e))},t.prototype.grayscale=function(){return bn(Sp(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),bn(V_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),bn(V_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?bn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):At(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=gl(this.rgba);return typeof e=="number"?bn({h:e,s:r.s,l:r.l,a:r.a}):At(r.h)},t.prototype.isEqual=function(e){return this.toHex()===bn(e).toHex()},t}(),bn=function(t){return t instanceof og?t:new og(t)},W_=[],$k=function(t){t.forEach(function(e){W_.indexOf(e)<0&&(e(og,sg),W_.push(e))})};function jk(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,c=n[this.toHex()];if(c)return c;if(o!=null&&o.closest){var f=this.toRgb(),g=1/0,m="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var x in r){var S=(u=f,h=s[x],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));S<g&&(g=S,m=x)}return m}},e.string.push([function(o){var u=o.toLowerCase(),h=u==="transparent"?"#0000":r[u];return h?new t(h).toRgb():null},"name"])}$k([jk]);const mo=class $h{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof $h)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=$h.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=$h.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const o=bn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};mo.shared=new mo,mo.temp=new mo,mo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let st=mo;function Hk(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ge.NORMAL_NPM]=ge.NORMAL,t[ge.ADD_NPM]=ge.ADD,t[ge.SCREEN_NPM]=ge.SCREEN,e[ge.NORMAL]=ge.NORMAL_NPM,e[ge.ADD]=ge.ADD_NPM,e[ge.SCREEN]=ge.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const RE=Hk();function kE(t,e){return RE[e?1:0][t]}function Vk(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function NE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Ac(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function X_(t){return!(t&t-1)&&!!t}function Y_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function yl(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function No(t){return t===0?0:t<0?-1:1}let Wk=0;function Dl(){return++Wk}const ag=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};ag.EMPTY=new ag(0,0,0,0);let Q_=ag;const q_={},En=Object.create(null),_i=Object.create(null);function K_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function Z_(t,e,r,n,i){const s=4*e;for(let o=n,u=n*s+4*r;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function Xk(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,u=e-1,h=r-1;for(;o<r&&K_(i,e,o);)++o;if(o===r)return Q_.EMPTY;for(;K_(i,e,h);)--h;for(;Z_(i,e,s,o,h);)++s;for(;Z_(i,e,u,o,h);)--u;return++u,++h,new Q_(s,o,u,h)}function Yk(t){const e=Xk(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function Qk(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function na(t,e=1){var n;const r=(n=ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ie=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ie||{});const lg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},J_=(t,e)=>lg(t).priority??e,pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(lg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(lg).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>J_(s,r)-J_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class qk{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Kk=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Zk(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Jk(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=Kk.replace(/%forloop%/gi,Zk(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Ap=0,Cp=1,Ip=2,Pp=3,Rp=4,kp=5;class Bn{constructor(){this.data=0,this.blendMode=ge.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Ap)}set blend(e){!!(this.data&1<<Ap)!==e&&(this.data^=1<<Ap)}get offsets(){return!!(this.data&1<<Cp)}set offsets(e){!!(this.data&1<<Cp)!==e&&(this.data^=1<<Cp)}get culling(){return!!(this.data&1<<Ip)}set culling(e){!!(this.data&1<<Ip)!==e&&(this.data^=1<<Ip)}get depthTest(){return!!(this.data&1<<Pp)}set depthTest(e){!!(this.data&1<<Pp)!==e&&(this.data^=1<<Pp)}get depthMask(){return!!(this.data&1<<kp)}set depthMask(e){!!(this.data&1<<kp)!==e&&(this.data^=1<<kp)}get clockwiseFrontFace(){return!!(this.data&1<<Rp)}set clockwiseFrontFace(e){!!(this.data&1<<Rp)!==e&&(this.data^=1<<Rp)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ge.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Bn;return e.depthTest=!1,e.blend=!0,e}}Bn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const ug=[];function ME(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=ug.length-1;n>=0;--n){const i=ug[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class an{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,u,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:f}=this;this._aliasCount++;for(let g=0,m=f.length;g<m;g++)f[g][c](e,r,n,i,s,o,u,h);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(an.prototype,{dispatch:{value:an.prototype.emit},run:{value:an.prototype.emit}});class Ul{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new an("setRealSize"),this.onUpdate=new an("update"),this.onError=new an("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class FE extends Ul{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const e2={scaleMode:qn.NEAREST,alphaMode:Or.NPM},hg=class go extends Ql{constructor(e=null,r=null){super(),r=Object.assign({},go.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:u,height:h,wrapMode:c,format:f,type:g,target:m,resolution:v,resourceOptions:x}=r;e&&!(e instanceof Ul)&&(e=ME(e,x),e.internal=!0),this.resolution=v||ce.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=o,this.format=f,this.type=g,this.target=m,this.alphaMode=n,this.uid=Dl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=X_(this.realWidth)&&X_(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete _i[this.cacheId],delete En[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),go.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Dl()}`}s=e._pixiId}let o=_i[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new go(e,r),o.cacheId=s,go.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new FE(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,u;return e instanceof Float32Array?(o=ee.RGBA,u=ve.FLOAT):e instanceof Int32Array?(o=ee.RGBA_INTEGER,u=ve.INT):e instanceof Uint32Array?(o=ee.RGBA_INTEGER,u=ve.UNSIGNED_INT):e instanceof Int16Array?(o=ee.RGBA_INTEGER,u=ve.SHORT):e instanceof Uint16Array?(o=ee.RGBA_INTEGER,u=ve.UNSIGNED_SHORT):e instanceof Int8Array?(o=ee.RGBA,u=ve.BYTE):(o=ee.RGBA,u=ve.UNSIGNED_BYTE),s.internal=!0,new go(s,Object.assign({},e2,{type:u,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),_i[r]&&_i[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),_i[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=_i[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete _i[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete _i[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};hg.defaultOptions={mipmap:Hi.POW2,anisotropicLevel:0,scaleMode:qn.LINEAR,wrapMode:Jn.CLAMP,alphaMode:Or.UNPACK,target:$o.TEXTURE_2D,format:ee.RGBA,type:ve.UNSIGNED_BYTE},hg._globalBatch=0;let Ae=hg;class cg{constructor(){this.texArray=null,this.blend=0,this.type=rn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let t2=0;class ut{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=t2++,this.disposeRunner=new an("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Mn.ELEMENT_ARRAY_BUFFER:Mn.ARRAY_BUFFER}get index(){return this.type===Mn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new ut(e)}}class Cc{constructor(e,r=0,n=!1,i=ve.FLOAT,s,o,u,h=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=h}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Cc(e,r,n,i,s)}}const r2={Float32Array,Uint32Array,Int32Array,Uint8Array};function n2(t,e){let r=0,n=0;const i={};for(let h=0;h<t.length;h++)n+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let o=null,u=0;for(let h=0;h<t.length;h++){const c=e[h],f=t[h],g=NE(f);i[g]||(i[g]=new r2[g](s)),o=i[g];for(let m=0;m<f.length;m++){const v=(m/c|0)*n+u,x=m%c;o[v+x]=f[m]}u+=c}return new Float32Array(s)}const ex={5126:4,5123:2,5121:1};let i2=0;const s2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Vi{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=i2++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new an("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,u,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ut||(r instanceof Array&&(r=new Float32Array(r)),r=new ut(r));const c=e.split("|");if(c.length>1){for(let g=0;g<c.length;g++)this.addAttribute(c[g],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new Cc(f,n,i,s,o,u,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ut||(e instanceof Array&&(e=new Uint16Array(e)),e=new ut(e)),e.type=Mn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new ut;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*ex[s.type]/4),s.buffer=0}for(n.data=n2(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Vi;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ut(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Cc(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Mn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Vi,n=[],i=[],s=[];let o;for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let u=0;u<o.buffers.length;u++)n[u]=new s2[NE(o.buffers[u].data)](i[u]),r.buffers[u]=new ut(n[u]);for(let u=0;u<e.length;u++){o=e[u];for(let h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Mn.ELEMENT_ARRAY_BUFFER;let u=0,h=0,c=0,f=0;for(let g=0;g<o.buffers.length;g++)if(o.buffers[g]!==o.indexBuffer){f=g;break}for(const g in o.attributes){const m=o.attributes[g];(m.buffer|0)===f&&(h+=m.size*ex[m.type]/4)}for(let g=0;g<e.length;g++){const m=e[g].indexBuffer.data;for(let v=0;v<m.length;v++)r.indexBuffer.data[v+c]+=u;u+=e[g].buffers[f].data.length/h,c+=m.length}}return r}}class OE extends Vi{constructor(e=!1){super(),this._buffer=new ut(null,e,!1),this._indexBuffer=new ut(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ve.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ve.FLOAT).addAttribute("aColor",this._buffer,4,!0,ve.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ve.FLOAT).addIndex(this._indexBuffer)}}const Ic=Math.PI*2,o2=180/Math.PI,a2=Math.PI/180;var Nt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Nt||{});class Ce{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ce(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Ce.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const hh=[new Ce,new Ce,new Ce,new Ce];class Ie{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Nt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ie(0,0,0,0)}clone(){return new Ie(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const N=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=N)return!1;const W=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>W}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const u=hh[0].set(e.left,e.top),h=hh[1].set(e.left,e.bottom),c=hh[2].set(e.right,e.top),f=hh[3].set(e.right,e.bottom);if(c.x<=u.x||h.y<=u.y)return!1;const g=Math.sign(r.a*r.d-r.b*r.c);if(g===0||(r.apply(u,u),r.apply(h,h),r.apply(c,c),r.apply(f,f),Math.max(u.x,h.x,c.x,f.x)<=n||Math.min(u.x,h.x,c.x,f.x)>=i||Math.max(u.y,h.y,c.y,f.y)<=s||Math.min(u.y,h.y,c.y,f.y)>=o))return!1;const m=g*(h.y-u.y),v=g*(u.x-h.x),x=m*n+v*s,S=m*i+v*s,T=m*n+v*o,w=m*i+v*o;if(Math.max(x,S,T,w)<=m*u.x+v*u.y||Math.min(x,S,T,w)>=m*f.x+v*f.y)return!1;const E=g*(u.y-c.y),b=g*(c.x-u.x),C=E*n+b*s,k=E*i+b*s,L=E*n+b*o,O=E*i+b*o;return!(Math.max(C,k,L,O)<=E*u.x+b*u.y||Math.min(C,k,L,O)>=E*f.x+b*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Ie.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ud{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Nt.CIRC}clone(){return new ud(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ie(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}ud.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class hd{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Nt.ELIP}clone(){return new hd(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ie(this.x-this.width,this.y-this.height,this.width,this.height)}}hd.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ns{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Nt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Ns(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],h=this.points[s*2+1],c=this.points[o*2],f=this.points[o*2+1];h>r!=f>r&&e<(c-u)*((r-h)/(f-h))+u&&(n=!n)}return n}}Ns.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class cd{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Nt.RREC}clone(){return new cd(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}cd.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class et{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ce;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ce;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,u,h,c){return this.a=Math.cos(u+c)*s,this.b=Math.sin(u+c)*s,this.c=-Math.sin(u-h)*o,this.d=Math.cos(u-h)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),h=Math.atan2(n,r),c=Math.abs(u+h);return c<1e-5||Math.abs(Ic-c)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=h),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new et;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new et}static get TEMP_MATRIX(){return new et}}et.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const gs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ys=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_s=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],dg=[],LE=[],ch=Math.sign;function l2(){for(let t=0;t<16;t++){const e=[];dg.push(e);for(let r=0;r<16;r++){const n=ch(gs[t]*gs[r]+vs[t]*ys[r]),i=ch(ys[t]*gs[r]+_s[t]*ys[r]),s=ch(gs[t]*vs[r]+vs[t]*_s[r]),o=ch(ys[t]*vs[r]+_s[t]*_s[r]);for(let u=0;u<16;u++)if(gs[u]===n&&ys[u]===i&&vs[u]===s&&_s[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new et;e.set(gs[t],ys[t],vs[t],_s[t],0,0),LE.push(e)}}l2();const qe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>gs[t],uY:t=>ys[t],vX:t=>vs[t],vY:t=>_s[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>dg[t][e],sub:(t,e)=>dg[t][qe.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?qe.S:qe.N:Math.abs(e)*2<=Math.abs(t)?t>0?qe.E:qe.W:e>0?t>0?qe.SE:qe.SW:t>0?qe.NE:qe.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=LE[qe.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Pn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Pn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Pn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const fg=class{constructor(){this.worldTransform=new et,this.localTransform=new et,this.position=new Pn(this.onChange,this,0,0),this.scale=new Pn(this.onChange,this,1,1),this.pivot=new Pn(this.onChange,this,0,0),this.skew=new Pn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};fg.IDENTITY=new fg;let dd=fg;dd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var u2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,h2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function tx(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Np(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function BE(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Np(2*e);case"bvec3":return Np(3*e);case"bvec4":return Np(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Vo=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],c2={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},d2={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function f2(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let u=!1;for(let h=0;h<Vo.length;h++)if(Vo[h].test(s,o)){r.push(Vo[h].code(i,o)),u=!0;break}if(!u){const h=(s.size===1&&!s.isArray?c2:d2)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const DE={};let ho=DE;function p2(){if(ho===DE||ho!=null&&ho.isContextLost()){const t=ce.ADAPTER.createCanvas();let e;ce.PREFER_ENV>=Gs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ho=e}return ho}let dh;function m2(){if(!dh){dh=Lr.MEDIUM;const t=p2();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(dh=e.precision?Lr.HIGH:Lr.MEDIUM)}}return dh}function rx(t,e){const r=t.getShaderSource(e).split(`
`).map((c,f)=>`${f}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),u=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);u[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function g2(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||rx(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||rx(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const y2={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function UE(t){return y2[t]}let fh=null;const nx={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function zE(t,e){if(!fh){const r=Object.keys(nx);fh={};for(let n=0;n<r.length;++n){const i=r[n];fh[t[i]]=nx[i]}}return fh[e]}function ix(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Lr.HIGH&&r!==Lr.HIGH&&(n=Lr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Lr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let ja;function v2(){if(typeof ja=="boolean")return ja;try{ja=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ja=!1}return ja}let _2=0;const ph={},pg=class yo{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=_2++,this.vertexSrc=e||yo.defaultVertexSrc,this.fragmentSrc=r||yo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),ph[n]?(ph[n]++,n+=`-${ph[n]}`):ph[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=ix(this.vertexSrc,yo.defaultVertexPrecision,Lr.HIGH),this.fragmentSrc=ix(this.fragmentSrc,yo.defaultFragmentPrecision,m2())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return h2}static get defaultFragmentSrc(){return u2}static from(e,r,n){const i=e+r;let s=q_[i];return s||(q_[i]=s=new yo(e,r,n)),s}};pg.defaultVertexPrecision=Lr.HIGH,pg.defaultFragmentPrecision=Ro.apple.device?Lr.HIGH:Lr.MEDIUM;let Kn=pg,x2=0;class ln{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=x2++,this.static=!!r,this.ubo=!!n,e instanceof ut?(this.buffer=e,this.buffer.type=Mn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ut(new Float32Array(1)),this.buffer.type=Mn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new ln(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new ln(e,r,n)}static uboFrom(e,r){return new ln(e,r??!0,!0)}}class Fn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ln?this.uniformGroup=r:this.uniformGroup=new ln(r):this.uniformGroup=new ln({}),this.disposeRunner=new an("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Kn.from(e,r);return new Fn(i,n)}}class w2{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=ln.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Kn(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new et,default:this.defaultGroupCache[e]};return new Fn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class mg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function b2(){return!Ro.apple.device}function E2(t){let e=!0;const r=ce.ADAPTER.getNavigator();if(Ro.tablet||Ro.phone){if(Ro.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ro.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class fd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var S2=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,T2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ka=class Qr extends fd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=OE,this.vertexSize=6,this.state=Bn.for2d(),this.size=Qr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??E2(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??b2(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Pe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return T2}static get defaultFragmentTemplate(){return S2}setShaderGenerator({vertex:e=Qr.defaultVertexSrc,fragment:r=Qr.defaultFragmentTemplate}={}){this.shaderGenerator=new w2(e,r)}contextChange(){const e=this.renderer.gl;ce.PREFER_ENV===Gs.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Qr.defaultMaxTextures),this.maxTextures=Jk(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Qr,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new cg);for(;r.length<i;)r.push(new mg);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Qr._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let u=++Ae._globalBatch,h=0,c=n[0],f=0;i.copyBoundTextures(s,r);for(let g=0;g<this._bufferSize;++g){const m=e[g];e[g]=null,m._batchEnabled!==u&&(c.count>=r&&(i.boundArray(c,s,u,r),this.buildDrawCalls(c,f,g),f=g,c=n[++h],++u),m._batchEnabled=u,m.touched=o,c.elements[c.count++]=m)}c.count>0&&(i.boundArray(c,s,u,r),this.buildDrawCalls(c,f,this._bufferSize),++h,++u);for(let g=0;g<s.length;g++)s[g]=null;Ae._globalBatch=u}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:u}=this,h=Qr._drawCallPool;let c=this._dcIndex,f=this._aIndex,g=this._iIndex,m=h[c];m.start=this._iIndex,m.texArray=e;for(let v=r;v<n;++v){const x=i[v],S=x._texture.baseTexture,T=RE[S.alphaMode?1:0][x.blendMode];i[v]=null,r<v&&m.blend!==T&&(m.size=g-m.start,r=v,m=h[++c],m.texArray=e,m.start=g),this.packInterleavedGeometry(x,s,o,f,g),f+=x.vertexData.length/2*u,g+=x.indices.length,m.blend=T}r<n&&(m.size=g-m.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=g}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Qr.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Qr._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:u,type:h,size:c,start:f,blend:g}=i[o];s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=g,n.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Qr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Ac(Math.ceil(e/8)),n=Y_(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new qk(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Ac(Math.ceil(e/12)),n=Y_(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:u}=r,h=i/this.vertexSize,c=e.uvs,f=e.indices,g=e.vertexData,m=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),x=st.shared.setValue(e._tintRGB).toPremultiplied(v,e._texture.baseTexture.alphaMode>0);for(let S=0;S<g.length;S+=2)u[i++]=g[S],u[i++]=g[S+1],u[i++]=c[S],u[i++]=c[S+1],o[i++]=x,u[i++]=m;for(let S=0;S<f.length;S++)n[s++]=h+f[S]}};Ka.defaultBatchSize=4096,Ka.extension={name:"batch",type:ie.RendererPlugin},Ka._drawCallPool=[],Ka._textureArrayPool=[];let xs=Ka;pe.add(xs);var A2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,C2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const gg=class Za extends Fn{constructor(e,r,n){const i=Kn.from(e||Za.defaultVertexSrc,r||Za.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Za.defaultResolution,this.multisample=Za.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Bn}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return C2}static get defaultFragmentSrc(){return A2}};gg.defaultResolution=1,gg.defaultMultisample=dt.NONE;let Mo=gg;class Pc{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new st(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Pc.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Pc.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"background"};pe.add(Pc);class GE{constructor(e){this.renderer=e,this.emptyRenderer=new fd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:u}=e;let h=0;for(let c=0;c<u;c++){const f=s[c],g=f._batchLocation;if(g>=0&&g<i&&r[g]===f){o[c]=g;continue}for(;h<i;){const m=r[h];if(m&&m._batchEnabled===n&&m._batchLocation===h){h++;continue}o[c]=h,f._batchLocation=h,r[h]=f;break}}}destroy(){this.renderer=null}}GE.extension={type:ie.RendererSystem,name:"batch"};pe.add(GE);let sx=0;class Rc{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=sx++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=sx++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ce.PREFER_ENV>=Gs.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Rc.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Rc.extension={type:ie.RendererSystem,name:"context"};pe.add(Rc);class yg{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new an("disposeFramebuffer"),this.multisample=dt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ae(null,{scaleMode:qn.NEAREST,resolution:1,mipmap:Hi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ae(null,{scaleMode:qn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Hi.OFF,format:ee.DEPTH_COMPONENT,type:ve.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class $E extends Ae{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=dt.NONE),super(null,e),this.mipmap=Hi.OFF,this.valid=!0,this._clear=new st([0,0,0,0]),this.framebuffer=new yg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Wi extends Ul{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=Qk(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class jE extends Wi{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Wi.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const u=s[o];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Vy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,u=e.height/2/s,h=e.x/i+o,c=e.y/s+u;n=qe.add(n,qe.NW),this.x0=h+o*qe.uX(n),this.y0=c+u*qe.uY(n),n=qe.add(n,2),this.x1=h+o*qe.uX(n),this.y1=c+u*qe.uY(n),n=qe.add(n,2),this.x2=h+o*qe.uX(n),this.y2=c+u*qe.uY(n),n=qe.add(n,2),this.x3=h+o*qe.uX(n),this.y3=c+u*qe.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Vy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const ox=new Vy;function mh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class se extends Ql{constructor(e,r,n,i,s,o,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ie(0,0,1,1)),e instanceof se&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=ox,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ce(o.x,o.y):new Ce(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&En[r.url]&&se.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,se.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new se(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===ox&&(this._uvs=new Vy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ae){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${Dl()}`,Ae.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Dl()}`}s=e._pixiId}let o=En[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ae)?(r.resolution||(r.resolution=na(e)),o=new se(new Ae(e,r)),o.baseTexture.cacheId=s,Ae.addToCache(o.baseTexture,s),se.addToCache(o,s)):!o&&e instanceof Ae&&(o=new se(e),se.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=se.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new se(Ae.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ae(e,Object.assign({scaleMode:Ae.defaultOptions.scaleMode,resolution:na(r)},i)),{resource:o}=s;o instanceof jE&&(o.url=r);const u=new se(s);return n||(n=r),Ae.addToCache(u.baseTexture,n),se.addToCache(u,n),n!==r&&(Ae.addToCache(u.baseTexture,r),se.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(h=>{u.baseTexture.once("loaded",()=>h(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),En[r]&&En[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),En[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=En[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete En[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)En[e.textureCacheIds[r]]===e&&delete En[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(o||u){const h=o&&u?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${h} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return se._EMPTY||(se._EMPTY=new se(new Ae),mh(se._EMPTY),mh(se._EMPTY.baseTexture)),se._EMPTY}static get WHITE(){if(!se._WHITE){const e=ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),se._WHITE=new se(Ae.from(e)),mh(se._WHITE),mh(se._WHITE.baseTexture)}return se._WHITE}}class pd extends se{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new pd(new $E(e))}}class HE{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=dt.NONE){const i=new $E(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new pd(i)}getOptimalTexture(e,r,n=1,i=dt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Ac(e),r=Ac(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||dt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}HE.SCREEN_KEY=-1;class I2 extends Vi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class VE extends Vi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ut(this.vertices),this.uvBuffer=new ut(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class P2{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=dt.NONE,this.sourceFrame=new Ie,this.destinationFrame=new Ie,this.bindingSourceFrame=new Ie,this.bindingDestinationFrame=new Ie,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const gh=[new Ce,new Ce,new Ce,new Ce],Mp=new et;class WE{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new HE,this.statePool=[],this.quad=new I2,this.quadUv=new VE,this.tempRect=new Ie,this.activeState={},this.globalUniforms=new ln({outputFrame:new Ie,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new P2,o=n.renderTexture;let u,h;if(o.current){const T=o.current;u=T.resolution,h=T.multisample}else u=n.resolution,h=n.multisample;let c=r[0].resolution||u,f=r[0].multisample??h,g=r[0].padding,m=r[0].autoFit,v=r[0].legacy??!0;for(let T=1;T<r.length;T++){const w=r[T];c=Math.min(c,w.resolution||u),f=Math.min(f,w.multisample??h),g=this.useMaxPadding?Math.max(g,w.padding):g+w.padding,m=m&&w.autoFit,v=v||(w.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=c,s.multisample=f,s.legacy=v,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(g);const x=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Mp.copyFrom(n.projection.transform).invert(),x),m?(s.sourceFrame.fit(x),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(x)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const S=this.tempRect;S.x=0,S.y=0,S.width=s.sourceFrame.width,S.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,S),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=r.sourceFrame.width*s[2]-.5*o[2],u[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,ms.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,r.resolution);f.filterFrame=c.filterFrame;let g=0;for(g=0;g<n.length-1;++g){g===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(c.width,c.height,r.resolution),f.filterFrame=c.filterFrame),n[g].apply(this,c,f,ms.CLEAR,r);const m=c;c=f,f=m}n[g].apply(this,c,h.renderTexture,ms.BLEND,r),g>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ms.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ms.CLEAR||r===ms.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(rn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(rn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(et.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=dt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||dt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=gh[0],i=gh[1],s=gh[2],o=gh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const u=Math.min(n.x,i.x,s.x,o.x),h=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=u,r.y=h,r.width=c-u,r.height=f-h}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:u,c:h,d:c}=s;if((Math.abs(u)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?Mp.copyFrom(s):Mp.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}WE.extension={type:ie.RendererSystem,name:"filter"};pe.add(WE);class R2{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=dt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const k2=new Ie;class XE{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new yg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ie,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ce.PREFER_ENV===Gs.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const u=e.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,u=r.height>>n,h=o/r.width;this.setViewport(r.x*h,r.y*h,o,u)}else{const o=e.width>>n,u=e.height>>n;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Hm.COLOR|Hm.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new R2(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],h=u.parentTextureArray||u;this.renderer.texture.bind(h,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let h=0;h<o;h++){const c=s[h],f=c.parentTextureArray||c;this.renderer.texture.bind(f,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,c.target,f._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+h))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let h,c;this.renderer.context.webGLVersion===1?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH_STENCIL):e.depth&&e.stencil?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH24_STENCIL8):e.depth?(h=n.DEPTH_ATTACHMENT,c=n.DEPTH_COMPONENT24):(h=n.STENCIL_ATTACHMENT,c=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,c,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,h,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=dt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=dt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[u];if(!h)return;if(!e){if(!h.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;h.blitFramebuffer||(h.blitFramebuffer=new yg(i.width,i.height),h.blitFramebuffer.addColorTexture(0,f)),e=h.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=k2,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let u,h;this.renderer.context.webGLVersion===1?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(u=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(u=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,h,n,i):s.renderbufferStorage(s.RENDERBUFFER,h,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,u,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ie}destroy(){this.renderer=null}}XE.extension={type:ie.RendererSystem,name:"framebuffer"};pe.add(XE);const Fp={5126:4,5123:2,5121:1};class YE{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ce.PREFER_ENV===Gs.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,u,h)=>n.drawElementsInstancedANGLE(i,s,o,u,h),e.drawArraysInstanced=(i,s,o,u)=>n.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const h=this.getSignature(e,u),c=e.glVertexArrayObjects[this.CONTEXT_UID];let f=c[h];if(f)return c[u.id]=f,f;const g=e.buffers,m=e.attributes,v={},x={};for(const S in g)v[S]=0,x[S]=0;for(const S in m)!m[S].size&&u.attributeData[S]?m[S].size=u.attributeData[S].size:m[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),v[m[S].buffer]+=m[S].size*Fp[m[S].type];for(const S in m){const T=m[S],w=T.size;T.stride===void 0&&(v[T.buffer]===w*Fp[T.type]?T.stride=0:T.stride=v[T.buffer]),T.start===void 0&&(T.start=x[T.buffer],x[T.buffer]+=w*Fp[T.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let S=0;S<g.length;S++){const T=g[S];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,u),c[u.id]=f,c[h]=f,i.bindVertexArray(null),o.unbind(Mn.ARRAY_BUFFER),f}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let h=0;h<s.length;h++){const c=s[h]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[h],r))}if(!r){for(const h in n)if(h[0]==="g"){const c=n[h];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const c in u){const f=u[c],g=o[f.buffer],m=g._glBuffers[i];if(r.attributeData[c]){h!==m&&(s.bind(g),h=m);const v=r.attributeData[c].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,h=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,h,(n||0)*u,i||1):s.drawElements(e,r||o.indexBuffer.data.length,h,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}YE.extension={type:ie.RendererSystem,name:"geometry"};pe.add(YE);const ax=new et;class Wy{constructor(e,r){this._texture=e,this.mapCoord=new et,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(ax.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ax));const o=r.baseTexture,u=this.uClampFrame,h=this.clampMargin/o.resolution,c=this.clampOffset;return u[0]=(r._frame.x+h+c)/o.width,u[1]=(r._frame.y+h+c)/o.height,u[2]=(r._frame.x+r._frame.width-h+c)/o.width,u[3]=(r._frame.y+r._frame.height-h+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var N2=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,M2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class F2 extends Mo{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||M2,r||N2,n),this.maskSprite=i,this.maskMatrix=new et}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Wy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class O2{constructor(e=null){this.type=mt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Mo.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=mt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class QE{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new O2;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==mt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case mt.SCISSOR:this.renderer.scissor.push(n);break;case mt.STENCIL:this.renderer.stencil.push(n);break;case mt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case mt.COLOR:this.pushColorMask(n);break}n.type===mt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case mt.SCISSOR:this.renderer.scissor.pop(r);break;case mt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case mt.SPRITE:this.popSpriteMask(r);break;case mt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===mt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=mt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=mt.SCISSOR:e.type=mt.STENCIL:e.type=mt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new F2])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}QE.extension={type:ie.RendererSystem,name:"mask"};pe.add(QE);class qE{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const lx=new et,ux=[],KE=class jh extends qE{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,ux.pop()??new Ie);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||jh.isMatrixRotated(r.worldTransform)||jh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){jh.isMatrixRotated(s)||(s=s?lx.copyFrom(s):lx.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&ux.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};KE.extension={type:ie.RendererSystem,name:"scissor"};let L2=KE;pe.add(L2);class ZE extends qE{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}ZE.extension={type:ie.RendererSystem,name:"stencil"};pe.add(ZE);class JE{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}JE.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_plugin"};pe.add(JE);class eS{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new et,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}eS.extension={type:ie.RendererSystem,name:"projection"};pe.add(eS);const B2=new dd,hx=new Ie;class tS{constructor(e){this.renderer=e,this._tempMatrix=new et}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(hx))||e.getLocalBounds(hx,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const u=pd.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=B2,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,u}destroy(){}}tS.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"textureGenerator"};pe.add(tS);const hs=new Ie,Ha=new Ie;class rS{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ie,this.destinationFrame=new Ie,this.viewportFrame=new Ie}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,u;e?(s=e.baseTexture,u=s.resolution,r||(hs.width=e.frame.width,hs.height=e.frame.height,r=hs),n||(Ha.x=e.frame.x,Ha.y=e.frame.y,Ha.width=r.width,Ha.height=r.height,n=Ha),o=s.framebuffer):(u=i.resolution,r||(hs.width=i._view.screen.width,hs.height=i._view.screen.height,r=hs),n||(n=hs,n.width=r.width,n.height=r.height));const h=this.viewportFrame;h.x=n.x*u,h.y=n.y*u,h.width=n.width*u,h.height=n.height*u,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(n,r,u,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=st.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:h,y:c,width:f,height:g}=this.viewportFrame;h=Math.round(h),c=Math.round(c),f=Math.round(f),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,c,f,g)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}rS.extension={type:ie.RendererSystem,name:"renderTexture"};pe.add(rS);class D2{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function U2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=zE(e,s.type),u={type:o,name:s.name,size:UE(o),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function z2(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),h=zE(e,s.type);r[o]={name:o,index:i,type:h,size:s.size,isArray:u,value:BE(h,s.size)}}return r}function G2(t,e){var u;const r=tx(t,t.VERTEX_SHADER,e.vertexSrc),n=tx(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||g2(t,i,r,n),e.attributeData=U2(i,t),e.uniformData=z2(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((c,f)=>c>f?1:-1);for(let c=0;c<h.length;c++)e.attributeData[h[c]].location=c,t.bindAttribLocation(i,c,h[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const h in e.uniformData){const c=e.uniformData[h];o[h]={location:t.getUniformLocation(i,h),value:BE(c.type,c.size)}}return new D2(i,o)}function $2(t,e,r,n,i){r.buffer.update(i)}const j2={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},nS={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function H2(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=nS[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function V2(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function W2(t,e){if(!t.autoManage)return{size:0,syncFunc:$2};const r=V2(t.uniforms,e),{uboElements:n,size:i}=H2(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const u=n[o],h=t.uniforms[u.data.name],c=u.data.name;let f=!1;for(let g=0;g<Vo.length;g++){const m=Vo[g];if(m.codeUbo&&m.test(u.data,h)){s.push(`offset = ${u.offset/4};`,Vo[g].codeUbo(u.data.name,h)),f=!0;break}}if(!f)if(u.data.size>1){const g=UE(u.data.type),m=Math.max(nS[u.data.type]/16,1),v=g/m,x=(4-v%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*m}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const g=j2[u.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${u.offset/4};
                ${g};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let X2=0;const yh={textureCount:0,uboCount:0};class iS{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=X2++}systemCheck(){if(!v2())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(yh.textureCount=0,yh.uboCount=0,this.syncUniformGroup(e.uniformGroup,yh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=f2(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,yh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=W2(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(u.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=G2(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}iS.extension={type:ie.RendererSystem,name:"shader"};pe.add(iS);class kc{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}kc.defaultOptions={hello:!1},kc.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"startup"};pe.add(kc);function Y2(t,e=[]){return e[ge.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD]=[t.ONE,t.ONE],e[ge.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.NONE]=[0,0],e[ge.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ge.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ge.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ge.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ge.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ge.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ge.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ge.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ge.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ge.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const Q2=0,q2=1,K2=2,Z2=3,J2=4,eN=5,sS=class vg{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ge.NONE,this._blendEq=!1,this.map=[],this.map[Q2]=this.setBlend,this.map[q2]=this.setOffset,this.map[K2]=this.setCullFace,this.map[Z2]=this.setDepthTest,this.map[J2]=this.setFrontFace,this.map[eN]=this.setDepthMask,this.checks=[],this.defaultState=new Bn,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=Y2(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(vg.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(vg.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};sS.extension={type:ie.RendererSystem,name:"state"};let tN=sS;pe.add(tN);class rN extends Ql{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new an(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Ja=class Hh{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Hh.defaultMaxIdle,this.checkCountMax=Hh.defaultCheckCountMax,this.mode=Hh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Oy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Ja.defaultMode=Oy.AUTO,Ja.defaultMaxIdle=60*60,Ja.defaultCheckCountMax=60*10,Ja.extension={type:ie.RendererSystem,name:"textureGC"};let ws=Ja;pe.add(ws);class Op{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ve.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}function nN(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:te.FLOAT,[t.RGBA]:te.FLOAT,[t.ALPHA]:te.FLOAT,[t.LUMINANCE]:te.FLOAT,[t.LUMINANCE_ALPHA]:te.FLOAT,[t.R8]:te.FLOAT,[t.R8_SNORM]:te.FLOAT,[t.RG8]:te.FLOAT,[t.RG8_SNORM]:te.FLOAT,[t.RGB8]:te.FLOAT,[t.RGB8_SNORM]:te.FLOAT,[t.RGB565]:te.FLOAT,[t.RGBA4]:te.FLOAT,[t.RGB5_A1]:te.FLOAT,[t.RGBA8]:te.FLOAT,[t.RGBA8_SNORM]:te.FLOAT,[t.RGB10_A2]:te.FLOAT,[t.RGB10_A2UI]:te.FLOAT,[t.SRGB8]:te.FLOAT,[t.SRGB8_ALPHA8]:te.FLOAT,[t.R16F]:te.FLOAT,[t.RG16F]:te.FLOAT,[t.RGB16F]:te.FLOAT,[t.RGBA16F]:te.FLOAT,[t.R32F]:te.FLOAT,[t.RG32F]:te.FLOAT,[t.RGB32F]:te.FLOAT,[t.RGBA32F]:te.FLOAT,[t.R11F_G11F_B10F]:te.FLOAT,[t.RGB9_E5]:te.FLOAT,[t.R8I]:te.INT,[t.R8UI]:te.UINT,[t.R16I]:te.INT,[t.R16UI]:te.UINT,[t.R32I]:te.INT,[t.R32UI]:te.UINT,[t.RG8I]:te.INT,[t.RG8UI]:te.UINT,[t.RG16I]:te.INT,[t.RG16UI]:te.UINT,[t.RG32I]:te.INT,[t.RG32UI]:te.UINT,[t.RGB8I]:te.INT,[t.RGB8UI]:te.UINT,[t.RGB16I]:te.INT,[t.RGB16UI]:te.UINT,[t.RGB32I]:te.INT,[t.RGB32UI]:te.UINT,[t.RGBA8I]:te.INT,[t.RGBA8UI]:te.UINT,[t.RGBA16I]:te.INT,[t.RGBA16UI]:te.UINT,[t.RGBA32I]:te.INT,[t.RGBA32UI]:te.UINT,[t.DEPTH_COMPONENT16]:te.FLOAT,[t.DEPTH_COMPONENT24]:te.FLOAT,[t.DEPTH_COMPONENT32F]:te.FLOAT,[t.DEPTH_STENCIL]:te.FLOAT,[t.DEPTH24_STENCIL8]:te.FLOAT,[t.DEPTH32F_STENCIL8]:te.FLOAT}:e={[t.RGB]:te.FLOAT,[t.RGBA]:te.FLOAT,[t.ALPHA]:te.FLOAT,[t.LUMINANCE]:te.FLOAT,[t.LUMINANCE_ALPHA]:te.FLOAT,[t.DEPTH_STENCIL]:te.FLOAT},e}function iN(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ve.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA8,[ee.RGB]:t.RGB8,[ee.RG]:t.RG8,[ee.RED]:t.R8,[ee.RGBA_INTEGER]:t.RGBA8UI,[ee.RGB_INTEGER]:t.RGB8UI,[ee.RG_INTEGER]:t.RG8UI,[ee.RED_INTEGER]:t.R8UI,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.BYTE]:{[ee.RGBA]:t.RGBA8_SNORM,[ee.RGB]:t.RGB8_SNORM,[ee.RG]:t.RG8_SNORM,[ee.RED]:t.R8_SNORM,[ee.RGBA_INTEGER]:t.RGBA8I,[ee.RGB_INTEGER]:t.RGB8I,[ee.RG_INTEGER]:t.RG8I,[ee.RED_INTEGER]:t.R8I},[ve.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16UI,[ee.RGB_INTEGER]:t.RGB16UI,[ee.RG_INTEGER]:t.RG16UI,[ee.RED_INTEGER]:t.R16UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ve.SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16I,[ee.RGB_INTEGER]:t.RGB16I,[ee.RG_INTEGER]:t.RG16I,[ee.RED_INTEGER]:t.R16I},[ve.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:t.RGBA32UI,[ee.RGB_INTEGER]:t.RGB32UI,[ee.RG_INTEGER]:t.RG32UI,[ee.RED_INTEGER]:t.R32UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ve.INT]:{[ee.RGBA_INTEGER]:t.RGBA32I,[ee.RGB_INTEGER]:t.RGB32I,[ee.RG_INTEGER]:t.RG32I,[ee.RED_INTEGER]:t.R32I},[ve.FLOAT]:{[ee.RGBA]:t.RGBA32F,[ee.RGB]:t.RGB32F,[ee.RG]:t.RG32F,[ee.RED]:t.R32F,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ve.HALF_FLOAT]:{[ee.RGBA]:t.RGBA16F,[ee.RGB]:t.RGB16F,[ee.RG]:t.RG16F,[ee.RED]:t.R16F},[ve.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB565},[ve.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA4},[ve.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGB5_A1},[ve.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:t.RGB10_A2,[ee.RGBA_INTEGER]:t.RGB10_A2UI},[ve.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:t.R11F_G11F_B10F},[ve.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:t.RGB9_E5},[ve.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ve.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ve.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA,[ee.RGB]:t.RGB,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ve.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB},[ve.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA},[ve.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGBA}},e}class oS{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ae,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=iN(e),this.samplerTypes=nN(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Op(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Op(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==te.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Op(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??te.FLOAT,this.webGLVersion===2&&e.type===ve.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==te.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,u=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,u.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&yl(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Hi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Jn.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Hi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===qn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===qn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===qn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===qn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}oS.extension={type:ie.RendererSystem,name:"texture"};pe.add(oS);class aS{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];if(!u)continue;const h=u._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}aS.extension={type:ie.RendererSystem,name:"transformFeedback"};pe.add(aS);class Nc{constructor(e){this.renderer=e}init(e){this.screen=new Ie(0,0,e.width,e.height),this.element=e.view||ce.ADAPTER.createCanvas(),this.resolution=e.resolution||ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Nc.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Nc.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_view"};pe.add(Nc);ce.PREFER_ENV=Gs.WEBGL2;ce.STRICT_TEXTURE_CACHE=!1;ce.RENDER_OPTIONS={...Rc.defaultOptions,...Pc.defaultOptions,...Nc.defaultOptions,...kc.defaultOptions};Object.defineProperties(ce,{WRAP_MODE:{get(){return Ae.defaultOptions.wrapMode},set(t){Pe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ae.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ae.defaultOptions.scaleMode},set(t){Pe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ae.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ae.defaultOptions.mipmap},set(t){Pe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ae.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ae.defaultOptions.anisotropicLevel},set(t){Pe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ae.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Pe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Mo.defaultResolution},set(t){Mo.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Pe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Mo.defaultMultisample},set(t){Mo.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return xs.defaultMaxTextures},set(t){Pe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),xs.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return xs.defaultBatchSize},set(t){Pe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),xs.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return xs.canUploadSameBuffer},set(t){Pe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),xs.canUploadSameBuffer=t}},GC_MODE:{get(){return ws.defaultMode},set(t){Pe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),ws.defaultMode=t}},GC_MAX_IDLE:{get(){return ws.defaultMaxIdle},set(t){Pe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),ws.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return ws.defaultCheckCountMax},set(t){Pe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),ws.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Kn.defaultVertexPrecision},set(t){Pe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Kn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Kn.defaultFragmentPrecision},set(t){Pe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Kn.defaultFragmentPrecision=t}}});var ia=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ia||{});class Lp{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const lS=class dr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Lp(null,null,1/0),this.deltaMS=1/dr.targetFPMS,this.elapsedMS=1/dr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=ia.NORMAL){return this._addListener(new Lp(e,r,n))}addOnce(e,r,n=ia.NORMAL){return this._addListener(new Lp(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*dr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,dr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!dr._shared){const e=dr._shared=new dr;e.autoStart=!0,e._protected=!0}return dr._shared}static get system(){if(!dr._system){const e=dr._system=new dr;e.autoStart=!0,e._protected=!0}return dr._system}};lS.targetFPMS=.06;let Yt=lS;Object.defineProperties(ce,{TARGET_FPMS:{get(){return Yt.targetFPMS},set(t){Pe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Yt.targetFPMS=t}}});class uS{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ia.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Yt.shared:new Yt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}uS.extension=ie.Application;pe.add(uS);const hS=[];pe.handleByList(ie.Renderer,hS);function sN(t){for(const e of hS)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}class cS{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=dt.HIGH?this.multisample=dt.HIGH:r>=dt.MEDIUM?this.multisample=dt.MEDIUM:r>=dt.LOW?this.multisample=dt.LOW:this.multisample=dt.NONE}destroy(){}}cS.extension={type:ie.RendererSystem,name:"_multisample"};pe.add(cS);class oN{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class dS{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new oN(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}dS.extension={type:ie.RendererSystem,name:"buffer"};pe.add(dS);class fS{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,u;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}fS.extension={type:ie.RendererSystem,name:"objectRenderer"};pe.add(fS);const Vh=class _g extends rN{constructor(e){super(),this.type=iE.WEBGL,e=Object.assign({},ce.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ln({projectionMatrix:new et},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:_g.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Pe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=_g.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Fk()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Pe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Pe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Pe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Pe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Vh.extension={type:ie.Renderer,priority:1},Vh.__plugins={},Vh.__systems={};let Xy=Vh;pe.handleByMap(ie.RendererPlugin,Xy.__plugins);pe.handleByMap(ie.RendererSystem,Xy.__systems);pe.add(Xy);class pS extends Ul{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ae;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ul?this.addResourceAt(e[n],n):this.addResourceAt(ME(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class aN extends pS{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=$o.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let h=0;h<i;h++){const c=o[h];s[h]<c.dirtyId&&(s[h]=c.dirtyId,c.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class lN extends Wi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const mS=class el extends pS{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==el.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let u=0;u<el.SIDES;u++)this.items[u].target=$o.TEXTURE_CUBE_MAP_POSITIVE_X+u;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=$o.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=$o.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<el.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===el.SIDES}};mS.SIDES=6;let uN=mS;class Fo extends Wi{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Fo.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Fo._EMPTY=Fo._EMPTY??ce.ADAPTER.createCanvas(0,0),Fo._EMPTY}}const xg=class Wh extends Wi{constructor(e,r){r=r||{},super(ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Wh.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Wi.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${Dl()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Wh.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Wh.SVG_XML.test(e)}};xg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,xg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let wg=xg;const bg=class Eg extends Wi{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Wi.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:u,mime:h}=e[s];if(u=u||e[s],u.startsWith("data:"))h=u.slice(5,u.indexOf(";"));else if(!u.startsWith("blob:")){const c=u.split("?").shift().toLowerCase(),f=c.slice(c.lastIndexOf(".")+1);h=h||Eg.MIME_TYPES[f]||`video/${f}`}o.src=u,h&&(o.type=h),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Yt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Eg.TYPES.includes(r)}};bg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],bg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let gS=bg;ug.push(Fo,jE,lN,gS,wg,FE,uN,aN);class Mc{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ie.EMPTY:(e=e||new Ie(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:u,ty:h}=e,c=n*r.x+s*r.y+u,f=i*r.x+o*r.y+h;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],u=e[1];r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[2],u=e[3],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[4],u=e[5],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[6],u=e[7],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,u=e.b,h=e.c,c=e.d,f=e.tx,g=e.ty;let m=this.minX,v=this.minY,x=this.maxX,S=this.maxY,T=o*r+h*n+f,w=u*r+c*n+g;m=T<m?T:m,v=w<v?w:v,x=T>x?T:x,S=w>S?w:S,T=o*i+h*n+f,w=u*i+c*n+g,m=T<m?T:m,v=w<v?w:v,x=T>x?T:x,S=w>S?w:S,T=o*r+h*s+f,w=u*r+c*s+g,m=T<m?T:m,v=w<v?w:v,x=T>x?T:x,S=w>S?w:S,T=o*i+h*s+f,w=u*i+c*s+g,m=T<m?T:m,v=w<v?w:v,x=T>x?T:x,S=w>S?w:S,this.minX=m,this.minY=v,this.maxX=x,this.maxY=S}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let h=r;h<n;h+=2){const c=e[h],f=e[h+1];i=c<i?c:i,s=f<s?f:s,o=c>o?c:o,u=f>u?f:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const u=e.a,h=e.b,c=e.c,f=e.d,g=e.tx,m=e.ty;let v=this.minX,x=this.minY,S=this.maxX,T=this.maxY;for(let w=n;w<i;w+=2){const E=r[w],b=r[w+1],C=u*E+c*b+g,k=f*b+h*E+m;v=Math.min(v,C-s),S=Math.max(S,C+s),x=Math.min(x,k-o),T=Math.max(T,k+o)}this.minX=v,this.minY=x,this.maxX=S,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const u=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const u=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Xi extends Ql{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new dd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Mc,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Xi.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ie),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ie),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Mc);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,u=0,h=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new hN),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*o2}set angle(e){this.transform.rotation=e*a2}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class hN extends Xi{constructor(){super(...arguments),this.sortDirty=null}}Xi.prototype.displayObjectUpdateTransform=Xi.prototype.updateTransform;const cN=new et;function dN(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const yS=class Sg extends Xi{constructor(){super(),this.children=[],this.sortableChildren=Sg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);yl(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,yl(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,yl(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let u=0;u<o.length;++u)o[u].parent=null,o[u].transform&&(o[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let u=0;u<o.length;++u)o[u].emit("removed",this),this.emit("childRemoved",o[u],this,u);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(dN),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==Sg.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=cN.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,u=this.children.length;o<u;++o){const h=this.children[o],c=h.cullable;h.cullable=c||!this.cullArea,h.render(e),h.cullable=c}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,u;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<r.length;h++)r[h].enabled&&this._enabledFilters.push(r[h])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==mt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,c=this.children.length;h<c;++h)this.children[h].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((u=this._enabledFilters)!=null&&u.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};yS.defaultSortableChildren=!1;let vr=yS;vr.prototype.containerUpdateTransform=vr.prototype.updateTransform;Object.defineProperties(ce,{SORTABLE_CHILDREN:{get(){return vr.defaultSortableChildren},set(t){Pe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),vr.defaultSortableChildren=t}}});var md=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(md||{});const Va=new Ce,fN=new Uint16Array([0,1,2,0,2,3]);class js extends vr{constructor(e){super(),this._anchor=new Pn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new st(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ge.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||se.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=fN,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=No(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=No(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,h=r.ty,c=this.vertexData,f=e.trim,g=e.orig,m=this._anchor;let v=0,x=0,S=0,T=0;if(f?(x=f.x-m._x*g.width,v=x+f.width,T=f.y-m._y*g.height,S=T+f.height):(x=-m._x*g.width,v=x+g.width,T=-m._y*g.height,S=T+g.height),c[0]=n*x+s*T+u,c[1]=o*T+i*x+h,c[2]=n*v+s*T+u,c[3]=o*T+i*v+h,c[4]=n*v+s*S+u,c[5]=o*S+i*v+h,c[6]=n*x+s*S+u,c[7]=o*S+i*x+h,this._roundPixels){const w=ce.RESOLUTION;for(let E=0;E<c.length;++E)c[E]=Math.round(c[E]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,c=s.d,f=s.tx,g=s.ty,m=-i._x*n.width,v=m+n.width,x=-i._y*n.height,S=x+n.height;if(r[0]=o*m+h*x+f,r[1]=c*x+u*m+g,r[2]=o*v+h*x+f,r[3]=c*x+u*v+g,r[4]=o*v+h*S+f,r[5]=c*S+u*v+g,r[6]=o*m+h*S+f,r[7]=c*S+u*m+g,this._roundPixels){const T=ce.RESOLUTION;for(let w=0;w<r.length;++w)r[w]=Math.round(r[w]*T)/T}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Mc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ie),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Va);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Va.x>=i&&Va.x<i+r&&(s=-n*this.anchor.y,Va.y>=s&&Va.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof se?e:se.from(e,r);return new js(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=No(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=No(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const vh={willReadFrequently:!0},Sn=class le{static get experimentalLetterSpacingSupported(){let e=le._experimentalLetterSpacingSupported;if(e!==void 0){const r=ce.ADAPTER.getCanvasRenderingContext2D().prototype;e=le._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,u,h,c){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=c}static measureText(e,r,n,i=le._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=le.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const u=i.getContext("2d",vh);u.font=s;const h=(n?le.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let f=0;for(let x=0;x<h.length;x++){const S=le._measureText(h[x],r.letterSpacing,u);c[x]=S,f=Math.max(f,S)}let g=f+r.strokeThickness;r.dropShadow&&(g+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let v=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(h.length-1)*(m+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new le(e,r,g,v,h,c,m+r.leading,f,o)}static _measureText(e,r,n){let i=!1;le.experimentalLetterSpacingSupported&&(le.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(le.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=le._canvas){const i=n.getContext("2d",vh);let s=0,o="",u="";const h=Object.create(null),{letterSpacing:c,whiteSpace:f}=r,g=le.collapseSpaces(f),m=le.collapseNewlines(f);let v=!g;const x=r.wordWrapWidth+c,S=le.tokenize(e);for(let T=0;T<S.length;T++){let w=S[T];if(le.isNewline(w)){if(!m){u+=le.addLine(o),v=!g,o="",s=0;continue}w=" "}if(g){const b=le.isBreakingSpace(w),C=le.isBreakingSpace(o[o.length-1]);if(b&&C)continue}const E=le.getFromCache(w,c,h,i);if(E>x)if(o!==""&&(u+=le.addLine(o),o="",s=0),le.canBreakWords(w,r.breakWords)){const b=le.wordWrapSplit(w);for(let C=0;C<b.length;C++){let k=b[C],L=k,O=1;for(;b[C+O];){const W=b[C+O];if(!le.canBreakChars(L,W,w,C,r.breakWords))k+=W;else break;L=W,O++}C+=O-1;const N=le.getFromCache(k,c,h,i);N+s>x&&(u+=le.addLine(o),v=!1,o="",s=0),o+=k,s+=N}}else{o.length>0&&(u+=le.addLine(o),o="",s=0);const b=T===S.length-1;u+=le.addLine(w,!b),v=!1,o="",s=0}else E+s>x&&(v=!1,u+=le.addLine(o),o="",s=0),(o.length>0||!le.isBreakingSpace(w)||v)&&(o+=w,s+=E)}return u+=le.addLine(o,!1),u}static addLine(e,r=!0){return e=le.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=le._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!le.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:le._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:le._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(le.isBreakingSpace(s,o)||le.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return le.graphemeSegmenter(e)}static measureFont(e){if(le._fonts[e])return le._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=le._canvas,i=le._context;i.font=e;const s=le.METRICS_STRING+le.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let u=Math.ceil(i.measureText(le.BASELINE_SYMBOL).width);const h=Math.ceil(le.HEIGHT_MULTIPLIER*u);if(u=u*le.BASELINE_MULTIPLIER|0,o===0||h===0)return le._fonts[e]=r,r;n.width=o,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,o,h),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);const c=i.getImageData(0,0,o,h).data,f=c.length,g=o*4;let m=0,v=0,x=!1;for(m=0;m<u;++m){for(let S=0;S<g;S+=4)if(c[v+S]!==255){x=!0;break}if(!x)v+=g;else break}for(r.ascent=u-m,v=f-g,x=!1,m=h;m>u;--m){for(let S=0;S<g;S+=4)if(c[v+S]!==255){x=!0;break}if(!x)v-=g;else break}return r.descent=m-u,r.fontSize=r.ascent+r.descent,le._fonts[e]=r,r}static clearMetrics(e=""){e?delete le._fonts[e]:le._fonts={}}static get _canvas(){var e;if(!le.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",vh))!=null&&e.measureText)return le.__canvas=n,n;r=ce.ADAPTER.createCanvas()}catch{r=ce.ADAPTER.createCanvas()}r.width=r.height=10,le.__canvas=r}return le.__canvas}static get _context(){return le.__context||(le.__context=le._canvas.getContext("2d",vh)),le.__context}};Sn.METRICS_STRING="|q",Sn.BASELINE_SYMBOL="M",Sn.BASELINE_MULTIPLIER=1.4,Sn.HEIGHT_MULTIPLIER=2,Sn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Sn.experimentalLetterSpacing=!1,Sn._fonts={},Sn._newlines=[10,13],Sn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let bs=Sn;const pN=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],vS=class tl{constructor(e){this.styleID=0,this.reset(),Dp(this,e,e)}clone(){const e={};return Dp(e,this,tl.defaultStyle),new tl(e)}reset(){Dp(this,tl.defaultStyle,tl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Bp(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Bp(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){mN(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Bp(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!pN.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};vS.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:md.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Fc=vS;function Bp(t){const e=st.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function mN(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Dp(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const gN={texture:!0,children:!1,baseTexture:!0},_S=class Tg extends js{constructor(e,r,n){let i=!1;n||(n=ce.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=se.from(n);s.orig=new Ie,s.trim=new Ie,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Tg.defaultResolution??ce.RESOLUTION,this._autoResolution=Tg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return bs.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Pe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),bs.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=bs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,u=i.lines,h=i.lineHeight,c=i.lineWidths,f=i.maxLineWidth,g=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,v;const x=r.dropShadow?2:1;for(let S=0;S<x;++S){const T=r.dropShadow&&S===0,w=T?Math.ceil(Math.max(1,o)+r.padding*2):0,E=w*this._resolution;if(T){n.fillStyle="black",n.strokeStyle="black";const C=r.dropShadowColor,k=r.dropShadowBlur*this._resolution,L=r.dropShadowDistance*this._resolution;n.shadowColor=st.shared.setValue(C).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=k,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*L,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*L+E}else n.fillStyle=this._generateFillStyle(r,u,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(h-g.fontSize)/2;h-g.fontSize<0&&(b=0);for(let C=0;C<u.length;C++)m=r.strokeThickness/2,v=r.strokeThickness/2+C*h+g.ascent+b,r.align==="right"?m+=f-c[C]:r.align==="center"&&(m+=(f-c[C])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[C],m+r.padding,v+r.padding-w,!0),r.fill&&this.drawLetterSpacing(u[C],m+r.padding,v+r.padding-w)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(bs.experimentalLetterSpacingSupported&&(bs.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let u=r;const h=bs.graphemeSegmenter(e);let c=this.context.measureText(e).width,f=0;for(let g=0;g<h.length;++g){const m=h[g];i?this.context.strokeText(m,u,n):this.context.fillText(m,u,n);let v="";for(let x=g+1;x<h.length;++x)v+=h[x];f=this.context.measureText(v).width,u+=c-f+s,c=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=Yk(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,h=this.canvas.width/this._resolution-o-u*2,c=this.canvas.height/this._resolution-o-u*2,f=i.slice(),g=e.fillGradientStops.slice();if(!g.length){const m=f.length+1;for(let v=1;v<m;++v)g.push(v/m)}if(f.unshift(i[0]),g.unshift(0),f.push(i[i.length-1]),g.push(1),e.fillGradientType===md.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,u,h/2,c+u);const m=n.fontProperties.fontSize+e.strokeThickness;for(let v=0;v<r.length;v++){const x=n.lineHeight*(v-1)+m,S=n.lineHeight*v;let T=S;v>0&&x>S&&(T=(S+x)/2);const w=S+m,E=n.lineHeight*(v+1);let b=w;v+1<r.length&&E<w&&(b=(w+E)/2);const C=(b-T)/c;for(let k=0;k<f.length;k++){let L=0;typeof g[k]=="number"?L=g[k]:L=k/f.length;let O=Math.min(1,Math.max(0,T/c+L*C));O=Number(O.toFixed(5)),s.addColorStop(O,f[k])}}}else{s=this.context.createLinearGradient(u,c/2,h+u,c/2);const m=f.length+1;let v=1;for(let x=0;x<f.length;x++){let S;typeof g[x]=="number"?S=g[x]:S=v/m,s.addColorStop(S,f[x]),v++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},gN,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=No(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=No(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Fc?this._style=e:this._style=new Fc(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};_S.defaultAutoResolution=!0;let yN=_S;class Oc{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Xh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const c in u){const f=u[c].split("="),g=f[0],m=f[1].replace(/"/gm,""),v=parseFloat(m),x=isNaN(v)?m:v;h[g]=x}n[o].push(h)}const i=new Oc;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Ag{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Oc,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const f=o[c];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let c=0;c<u.length;c++)r.kerning.push({first:parseInt(u[c].getAttribute("first"),10),second:parseInt(u[c].getAttribute("second"),10),amount:parseInt(u[c].getAttribute("amount"),10)});for(let c=0;c<h.length;c++)r.distanceField.push({fieldType:h[c].getAttribute("fieldType"),distanceRange:parseInt(h[c].getAttribute("distanceRange"),10)});return r}}class Cg{static test(e){return typeof e=="string"&&e.includes("<font>")?Ag.test(ce.ADAPTER.parseXML(e)):!1}static parse(e){return Ag.parse(ce.ADAPTER.parseXML(e))}}const Up=[Xh,Ag,Cg];function vN(t){for(let e=0;e<Up.length;e++)if(Up[e].test(t))return Up[e];return null}function _N(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const h=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,f=t.width/n-h-c*2,g=t.height/n-h-c*2,m=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const x=m.length+1;for(let S=1;S<x;++S)v.push(S/x)}if(m.unshift(o[0]),v.unshift(0),m.push(o[o.length-1]),v.push(1),r.fillGradientType===md.LINEAR_VERTICAL){u=e.createLinearGradient(f/2,c,f/2,g+c);let x=0;const S=(s.fontProperties.fontSize+r.strokeThickness)/g;for(let T=0;T<i.length;T++){const w=s.lineHeight*T;for(let E=0;E<m.length;E++){let b=0;typeof v[E]=="number"?b=v[E]:b=E/m.length;const C=w/g+b*S;let k=Math.max(x,C);k=Math.min(k,1),u.addColorStop(k,m[E]),x=k}}}else{u=e.createLinearGradient(c,g/2,f+c,g/2);const x=m.length+1;let S=1;for(let T=0;T<m.length;T++){let w;typeof v[T]=="number"?w=v[T]:w=S/x,u.addColorStop(w,m[T]),S++}}return u}function xN(t,e,r,n,i,s,o){const u=r.text,h=r.fontProperties;e.translate(n,i),e.scale(s,s);const c=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=_N(t,e,o,s,[u],r),e.strokeStyle=o.stroke,o.dropShadow){const g=o.dropShadowColor,m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=st.shared.setValue(g).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(u,c,f+r.lineHeight-h.descent),o.fill&&e.fillText(u,c,f+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Yh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function xS(t){return Array.from?Array.from(t):t.split("")}function wN(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,h=o;u<=h;u++)e.push(String.fromCharCode(u))}else e.push(...xS(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const xi=class Tn{constructor(e,r,n){var f;const[i]=e.info,[s]=e.common,[o]=e.page,[u]=e.distanceField,h=na(o.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=c;for(let g=0;g<e.page.length;g++){const{id:m,file:v}=e.page[g];c[m]=r instanceof Array?r[g]:r[v],u!=null&&u.fieldType&&u.fieldType!=="none"&&(c[m].baseTexture.alphaMode=Or.NO_PREMULTIPLIED_ALPHA,c[m].baseTexture.mipmap=Hi.OFF)}for(let g=0;g<e.char.length;g++){const{id:m,page:v}=e.char[g];let{x,y:S,width:T,height:w,xoffset:E,yoffset:b,xadvance:C}=e.char[g];x/=h,S/=h,T/=h,w/=h,E/=h,b/=h,C/=h;const k=new Ie(x+c[v].frame.x/h,S+c[v].frame.y/h,T,w);this.chars[m]={xOffset:E,yOffset:b,xAdvance:C,kerning:{},texture:new se(c[v].baseTexture,k),page:v}}for(let g=0;g<e.kerning.length;g++){let{first:m,second:v,amount:x}=e.kerning[g];m/=h,v/=h,x/=h,this.chars[v]&&(this.chars[v].kerning[m]=x)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=((f=u==null?void 0:u.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Oc)i=e;else{const o=vN(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof se&&(r=[r]);const s=new Tn(i,r,n);return Tn.available[s.font]=s,s}static uninstall(e){const r=Tn.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Tn.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:u,textureHeight:h,...c}=Object.assign({},Tn.defaultOptions,n),f=wN(i),g=r instanceof Fc?r:new Fc(r),m=u,v=new Oc;v.info[0]={face:g.fontFamily,size:g.fontSize},v.common[0]={lineHeight:g.fontSize};let x=0,S=0,T,w,E,b=0;const C=[];for(let L=0;L<f.length;L++){T||(T=ce.ADAPTER.createCanvas(),T.width=u,T.height=h,w=T.getContext("2d"),E=new Ae(T,{resolution:o,...c}),C.push(new se(E)),v.page.push({id:C.length-1,file:""}));const O=f[L],N=bs.measureText(O,g,!1,T),W=N.width,X=Math.ceil(N.height),fe=Math.ceil((g.fontStyle==="italic"?2:1)*W);if(S>=h-X*o){if(S===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${O}')`);--L,T=null,w=null,E=null,S=0,x=0,b=0;continue}if(b=Math.max(X+N.fontProperties.descent,b),fe*o+x>=m){if(x===0)throw new Error(`[BitmapFont] textureWidth ${u}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${O}')`);--L,S+=b*o,S=Math.ceil(S),x=0,b=0;continue}xN(T,w,N,x,S,o,g);const K=Yh(N.text);v.char.push({id:K,page:C.length-1,x:x/o,y:S/o,width:fe,height:X,xoffset:0,yoffset:0,xadvance:W-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),x+=(fe+2*s)*o,x=Math.ceil(x)}if(!(n!=null&&n.skipKerning))for(let L=0,O=f.length;L<O;L++){const N=f[L];for(let W=0;W<O;W++){const X=f[W],fe=w.measureText(N).width,K=w.measureText(X).width,D=w.measureText(N+X).width-(fe+K);D&&v.kerning.push({first:Yh(N),second:Yh(X),amount:D})}}const k=new Tn(v,C,!0);return Tn.available[e]!==void 0&&Tn.uninstall(e),Tn.available[e]=k,k}};xi.ALPHA=[["a","z"],["A","Z"]," "],xi.NUMERIC=[["0","9"]],xi.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],xi.ASCII=[[" ","~"]],xi.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:xi.ALPHANUMERIC},xi.available={};let wi=xi;class bN{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const zp=new Ce,cx=new Ns,wS=class bS extends vr{constructor(e,r,n,i=rn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Bn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===rn.TRIANGLES&&r.length<bS.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,h=i.d,c=i.tx,f=i.ty,g=this.vertexData;for(let m=0;m<g.length/2;m++){const v=r[m*2],x=r[m*2+1];g[m*2]=s*v+u*x+c,g[m*2+1]=o*v+h*x+f}if(this._roundPixels){const m=ce.RESOLUTION;for(let v=0;v<g.length;++v)g[v]=Math.round(g[v]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new bN(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,zp);const r=this.geometry.getBuffer("aVertexPosition").data,n=cx.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let u=0;u+2<s;u+=o){const h=i[u]*2,c=i[u+1]*2,f=i[u+2]*2;if(n[0]=r[h],n[1]=r[h+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],cx.contains(zp.x,zp.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};wS.BATCHABLE_SIZE=100;let zl=wS;class gd extends Vi{constructor(e,r,n){super();const i=new ut(e),s=new ut(r,!0),o=new ut(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ve.FLOAT).addAttribute("aTextureCoord",s,2,!1,ve.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var EN=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,SN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Gl extends Fn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:et.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Kn.from(SN,EN),n),this._colorDirty=!1,this.uvMatrix=new Wy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new st(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;st.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var TN=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,AN=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const dx=[],fx=[],px=[],ES=class SS extends vr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:u,fontSize:h}=Object.assign({},SS.styleDefaults,r);if(!wi.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new st(i),this._font=void 0,this._fontName=u,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Pn(()=>{this.dirty=!0},this,0,0),this._roundPixels=ce.ROUND_PIXELS,this.dirty=!0,this._resolution=ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var fe;const e=wi.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Ce,s=[],o=[],u=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=xS(h),f=this._maxWidth*e.size/r,g=e.distanceFieldType==="none"?dx:fx;let m=null,v=0,x=0,S=0,T=-1,w=0,E=0,b=0,C=0;for(let K=0;K<c.length;K++){const D=c[K],q=Yh(D);if(/(?:\s)/.test(D)&&(T=K,w=v,C++),D==="\r"||D===`
`){o.push(v),u.push(-1),x=Math.max(x,v),++S,++E,i.x=0,i.y+=e.lineHeight,m=null,C=0;continue}const ue=e.chars[q];if(!ue)continue;m&&ue.kerning[m]&&(i.x+=ue.kerning[m]);const me=px.pop()||{texture:se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ce};me.texture=ue.texture,me.line=S,me.charCode=q,me.position.x=Math.round(i.x+ue.xOffset+this._letterSpacing/2),me.position.y=Math.round(i.y+ue.yOffset),me.prevSpaces=C,s.push(me),v=me.position.x+Math.max(ue.xAdvance-ue.xOffset,ue.texture.orig.width),i.x+=ue.xAdvance+this._letterSpacing,b=Math.max(b,ue.yOffset+ue.texture.height),m=q,T!==-1&&f>0&&i.x>f&&(++E,yl(s,1+T-E,1+K-T),K=T,T=-1,o.push(w),u.push(s.length>0?s[s.length-1].prevSpaces:0),x=Math.max(x,w),S++,i.x=0,i.y+=e.lineHeight,m=null,C=0)}const k=c[c.length-1];k!=="\r"&&k!==`
`&&(/(?:\s)/.test(k)&&(v=w),o.push(v),x=Math.max(x,v),u.push(-1));const L=[];for(let K=0;K<=S;K++){let D=0;this._align==="right"?D=x-o[K]:this._align==="center"?D=(x-o[K])/2:this._align==="justify"&&(D=u[K]<0?0:(x-o[K])/u[K]),L.push(D)}const O=s.length,N={},W=[],X=this._activePagesMeshData;g.push(...X);for(let K=0;K<O;K++){const D=s[K].texture,q=D.baseTexture.uid;if(!N[q]){let ue=g.pop();if(!ue){const he=new gd;let P,H;e.distanceFieldType==="none"?(P=new Gl(se.EMPTY),H=ge.NORMAL):(P=new Gl(se.EMPTY,{program:Kn.from(AN,TN),uniforms:{uFWidth:0}}),H=ge.NORMAL_NPM);const F=new zl(he,P);F.blendMode=H,ue={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}ue.index=0,ue.indexCount=0,ue.vertexCount=0,ue.uvsCount=0,ue.total=0;const{_textureCache:me}=this;me[q]=me[q]||new se(D.baseTexture),ue.mesh.texture=me[q],ue.mesh.tint=this._tintColor.value,W.push(ue),N[q]=ue}N[q].total++}for(let K=0;K<X.length;K++)W.includes(X[K])||this.removeChild(X[K].mesh);for(let K=0;K<W.length;K++)W[K].mesh.parent!==this&&this.addChild(W[K].mesh);this._activePagesMeshData=W;for(const K in N){const D=N[K],q=D.total;if(!(((fe=D.indices)==null?void 0:fe.length)>6*q)||D.vertices.length<zl.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*q),D.uvs=new Float32Array(4*2*q),D.indices=new Uint16Array(6*q);else{const ue=D.total,me=D.vertices;for(let he=ue*4*2;he<me.length;he++)me[he]=0}D.mesh.size=6*q}for(let K=0;K<O;K++){const D=s[K];let q=D.position.x+L[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(q=Math.round(q));const ue=q*n,me=D.position.y*n,he=D.texture,P=N[he.baseTexture.uid],H=he.frame,F=he._uvs,z=P.index++;P.indices[z*6+0]=0+z*4,P.indices[z*6+1]=1+z*4,P.indices[z*6+2]=2+z*4,P.indices[z*6+3]=0+z*4,P.indices[z*6+4]=2+z*4,P.indices[z*6+5]=3+z*4,P.vertices[z*8+0]=ue,P.vertices[z*8+1]=me,P.vertices[z*8+2]=ue+H.width*n,P.vertices[z*8+3]=me,P.vertices[z*8+4]=ue+H.width*n,P.vertices[z*8+5]=me+H.height*n,P.vertices[z*8+6]=ue,P.vertices[z*8+7]=me+H.height*n,P.uvs[z*8+0]=F.x0,P.uvs[z*8+1]=F.y0,P.uvs[z*8+2]=F.x1,P.uvs[z*8+3]=F.y1,P.uvs[z*8+4]=F.x2,P.uvs[z*8+5]=F.y2,P.uvs[z*8+6]=F.x3,P.uvs[z*8+7]=F.y3}this._textWidth=x*n,this._textHeight=(i.y+e.lineHeight)*n;for(const K in N){const D=N[K];if(this.anchor.x!==0||this.anchor.y!==0){let he=0;const P=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let F=0;F<D.total;F++)D.vertices[he++]-=P,D.vertices[he++]-=H,D.vertices[he++]-=P,D.vertices[he++]-=H,D.vertices[he++]-=P,D.vertices[he++]-=H,D.vertices[he++]-=P,D.vertices[he++]-=H}this._maxLineHeight=b*n;const q=D.mesh.geometry.getBuffer("aVertexPosition"),ue=D.mesh.geometry.getBuffer("aTextureCoord"),me=D.mesh.geometry.getIndex();q.data=D.vertices,ue.data=D.uvs,me.data=D.indices,q.update(),ue.update(),me.update()}for(let K=0;K<s.length;K++)px.push(s[K]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=wi.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:u,d:h}=this.worldTransform,c=Math.sqrt(s*s+o*o),f=Math.sqrt(u*u+h*h),g=(Math.abs(c)+Math.abs(f))/2,m=this.fontSize/i,v=e._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=g*r*m*v}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=wi.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!wi.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??wi.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=wi.available[this._fontName].distanceFieldType==="none"?dx:fx;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=se.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};ES.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let CN=ES;const mx={loader:ie.LoadParser,resolver:ie.ResolveParser,cache:ie.CacheParser,detection:ie.DetectionParser};pe.handle(ie.Asset,t=>{const e=t.ref;Object.entries(mx).filter(([r])=>!!e[r]).forEach(([r,n])=>pe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(mx).filter(r=>!!e[r]).forEach(r=>pe.remove(e[r]))});class IN{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ha(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ca(t,e){const r=t.split("?")[0],n=Ur.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const en=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),PN=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function TS(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const u=s[o];r<e.length-1?TS(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function RN(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),TS(t,i,0,r,n)}else n.push(t);return n}const Lc=t=>!Array.isArray(t);class kN{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=en(e);let i;for(let u=0;u<this.parsers.length;u++){const h=this.parsers[u];if(h.test(r)){i=h.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof se){const u=r;n.forEach(h=>{u.baseTexture!==se.EMPTY.baseTexture&&Ae.addToCache(u.baseTexture,h),se.addToCache(u,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Ss=new kN;class NN{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&((o=c.test)!=null&&o.call(c,e,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await((u=c.testParse)==null?void 0:u.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Lc(e),o=en(e,c=>({alias:[c],src:c})),u=o.length,h=o.map(async c=>{const f=Ur.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,c)),i[c.src]=await this.promiseCache[f].promise,r&&r(++n/u)}catch(g){throw delete this.promiseCache[f],delete i[c.src],new Error(`[Loader.load] Failed to load ${f}.
${g}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const r=en(e,n=>({alias:[n],src:n})).map(async n=>{var o,u;const i=Ur.toAbsolute(n.src),s=this.promiseCache[i];if(s){const h=await s.promise;delete this.promiseCache[i],(u=(o=s.parser)==null?void 0:o.unload)==null||u.call(o,h,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Zi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Zi||{});const MN=".json",FN="application/json",ON={extension:{type:ie.LoadParser,priority:Zi.Low},name:"loadJson",test(t){return ha(t,FN)||ca(t,MN)},async load(t){return await(await ce.ADAPTER.fetch(t)).json()}};pe.add(ON);const LN=".txt",BN="text/plain",DN={name:"loadTxt",extension:{type:ie.LoadParser,priority:Zi.Low},test(t){return ha(t,BN)||ca(t,LN)},async load(t){return await(await ce.ADAPTER.fetch(t)).text()}};pe.add(DN);const UN=["normal","bold","100","200","300","400","500","600","700","800","900"],zN=[".ttf",".otf",".woff",".woff2"],GN=["font/ttf","font/otf","font/woff","font/woff2"],$N=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function jN(t){const e=Ur.extname(t),r=Ur.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match($N)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const HN=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function VN(t){return HN.test(t)?t:encodeURI(t)}const WN={extension:{type:ie.LoadParser,priority:Zi.Low},name:"loadWebFont",test(t){return ha(t,GN)||ca(t,zN)},async load(t,e){var n,i,s;const r=ce.ADAPTER.getFontFaceSet();if(r){const o=[],u=((n=e.data)==null?void 0:n.family)??jN(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>UN.includes(f)))??["normal"],c=e.data??{};for(let f=0;f<h.length;f++){const g=h[f],m=new FontFace(u,`url(${VN(t)})`,{...c,weight:g});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ce.ADAPTER.getFontFaceSet().delete(e))}};pe.add(WN);let gx=0,Gp;const XN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",YN={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${XN}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},QN={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let $p;class qN{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([YN.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Gp===void 0&&(Gp=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Gp&&($p||($p=URL.createObjectURL(new Blob([QN.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker($p),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[gx]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:gx++,id:n})}}const yx=new qN;function Yy(t,e,r){t.resource.internal=!0;const n=new se(t),i=()=>{delete e.promiseCache[r],Ss.has(r)&&Ss.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const KN=[".jpeg",".jpg",".png",".webp",".avif"],ZN=["image/jpeg","image/png","image/webp","image/avif"];async function JN(t){const e=await ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const yd={name:"loadTextures",extension:{type:ie.LoadParser,priority:Zi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ha(t,ZN)||ca(t,KN)},async load(t,e,r){var u;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await yx.isImageBitmapSupported()?i=await yx.loadImageBitmap(t):i=await JN(t):i=await new Promise((h,c)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?h(f):(f.onload=()=>h(f),f.onerror=g=>c(g))});const s={...e.data};s.resolution??(s.resolution=na(t)),n&&((u=s.resourceOptions)==null?void 0:u.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Ae(i,s);return o.resource.src=t,Yy(o,r,t)},unload(t){t.destroy(!0)}};pe.add(yd);const eM=".svg",tM="image/svg+xml",rM={extension:{type:ie.LoadParser,priority:Zi.High},name:"loadSVG",test(t){return ha(t,tM)||ca(t,eM)},async testParse(t){return wg.test(t)},async parse(t,e,r){var s;const n=new wg(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ae(n,{resolution:na(t),...e==null?void 0:e.data});return i.resource.src=e.src,Yy(i,r,e.src)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload:yd.unload};pe.add(rM);const nM=[".mp4",".m4v",".webm",".ogv"],iM=["video/mp4","video/webm","video/ogg"],sM={name:"loadVideo",extension:{type:ie.LoadParser,priority:Zi.High},config:{defaultAutoPlay:!0},test(t){return ha(t,iM)||ca(t,nM)},async load(t,e,r){var o;let n;const i=await(await ce.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const u={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},h=new gS(s,u);await h.load();const c=new Ae(h,{alphaMode:await Mk(),resolution:na(t),...e==null?void 0:e.data});c.resource.src=t,n=Yy(c,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(u){throw URL.revokeObjectURL(s),u}return n},unload(t){t.destroy(!0)}};pe.add(sM);class oM{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return en(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(u=>(u==null?void 0:u.src)??(u==null?void 0:u.srcs)??u):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let u;if(typeof o=="string"){const h=this._createBundleAssetId(e,o);n.push(h),u=[o,h]}else{const h=o.map(c=>this._createBundleAssetId(e,c));n.push(...h),u=[...o,...h]}this.add({...i,alias:u,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],u=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(u)?u:[u]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Pe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let u;u=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},en(o).forEach(h=>{const{src:c,srcs:f}=h;let{data:g,format:m,loadParser:v}=h;const x=en(c||f).map(w=>typeof w=="string"?RN(w):Array.isArray(w)?w:[w]),S=this.getAlias(h);Array.isArray(S)?S.forEach(u):u(S);const T=[];x.forEach(w=>{w.forEach(E=>{let b={};if(typeof E!="object"){b.src=E;for(let C=0;C<this._parsers.length;C++){const k=this._parsers[C];if(k.test(E)){b=k.parse(E);break}}}else g=E.data??g,m=E.format??m,v=E.loadParser??v,b={...b,...E};if(!S)throw new Error(`[Resolver] alias is undefined for this asset: ${b.src}`);b=this.buildResolvedAsset(b,{aliases:S,data:g,format:m,loadParser:v}),T.push(b)})}),S.forEach(w=>{this._assetMap[w]=T})})}resolveBundle(e){const r=Lc(e);e=en(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const h in o){const c=o[h];u[this._extractAssetIdFromBundle(i,h)]=c}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Lc(e);e=en(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],u=this._getPreferredOrder(s);u==null||u.priority.forEach(h=>{u.params[h].forEach(c=>{const f=s.filter(g=>g[h]?g[h]===c:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ur.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Ur.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class aM{constructor(){this._detections=[],this._initialized=!1,this.resolver=new oM,this.loader=new NN,this.cache=Ss,this._backgroundLoader=new IN(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Lc(e),i=en(e).map(u=>{if(typeof u!="string"){const h=this.resolver.getAlias(u);return h.some(c=>!this.resolver.hasKey(c))&&this.add(u),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,h=0;const c=()=>{r==null||r(++u/h)},f=o.map(g=>{const m=i[g];return h+=Object.keys(m).length,this._mapLoadToResolve(m,c).then(v=>{s[g]=v})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ss.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Ss.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((u,h)=>{const c=s[u.src],f=[u.src];u.alias&&f.push(...u.alias),o[i[h]]=c,Ss.set(f,c)}),o}async unload(e){this._initialized||await this.init();const r=en(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=en(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Ss.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return yd.config.preferWorkers}set preferWorkers(e){Pe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const _h=new aM;pe.handleByList(ie.LoadParser,_h.loader.parsers).handleByList(ie.ResolveParser,_h.resolver.parsers).handleByList(ie.CacheParser,_h.cache.parsers).handleByList(ie.DetectionParser,_h.detections);const lM={extension:ie.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof se),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};pe.add(lM);async function AS(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const uM={extension:{type:ie.DetectionParser,priority:1},test:async()=>AS("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};pe.add(uM);const hM={extension:{type:ie.DetectionParser,priority:0},test:async()=>AS("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};pe.add(hM);const vx=["png","jpg","jpeg"],cM={extension:{type:ie.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...vx],remove:async t=>t.filter(e=>!vx.includes(e))};pe.add(cM);const dM="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Qy(t){return dM?!1:document.createElement("video").canPlayType(t)!==""}const fM={extension:{type:ie.DetectionParser,priority:0},test:async()=>Qy("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};pe.add(fM);const pM={extension:{type:ie.DetectionParser,priority:0},test:async()=>Qy("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};pe.add(pM);const mM={extension:{type:ie.DetectionParser,priority:0},test:async()=>Qy("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};pe.add(mM);const gM={extension:ie.ResolveParser,test:yd.test,parse:t=>{var e;return{resolution:parseFloat(((e=ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ur.extname(t).slice(1),src:t}}};pe.add(gM);const yM=[".xml",".fnt"],vM={extension:{type:ie.LoadParser,priority:Zi.Normal},name:"loadBitmapFont",test(t){return yM.includes(Ur.extname(t).toLowerCase())},async testParse(t){return Xh.test(t)||Cg.test(t)},async parse(t,e,r){const n=Xh.test(t)?Xh.parse(t):Cg.parse(t),{src:i}=e,{page:s}=n,o=[];for(let c=0;c<s.length;++c){const f=s[c].file;let g=Ur.join(Ur.dirname(i),f);g=PN(g,i),o.push(g)}const u=await r.load(o),h=o.map(c=>u[c]);return wi.install(n,h,!0)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};pe.add(vM);const Bc={build(t){const e=t.points;let r,n,i,s,o,u;if(t.type===Nt.CIRC){const x=t.shape;r=x.x,n=x.y,o=u=x.radius,i=s=0}else if(t.type===Nt.ELIP){const x=t.shape;r=x.x,n=x.y,o=x.width,u=x.height,i=s=0}else{const x=t.shape,S=x.width/2,T=x.height/2;r=x.x+S,n=x.y+T,o=u=Math.max(0,Math.min(x.radius,Math.min(S,T))),i=S-o,s=T-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+u)),c=h*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(h===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,g=h*4+(i?2:0)+2,m=g,v=c;{const x=i+o,S=s,T=r+x,w=r-x,E=n+S;if(e[f++]=T,e[f++]=E,e[--g]=E,e[--g]=w,s){const b=n-S;e[m++]=w,e[m++]=b,e[--v]=b,e[--v]=T}}for(let x=1;x<h;x++){const S=Math.PI/2*(x/h),T=i+Math.cos(S)*o,w=s+Math.sin(S)*u,E=r+T,b=r-T,C=n+w,k=n-w;e[f++]=E,e[f++]=C,e[--g]=C,e[--g]=b,e[m++]=b,e[m++]=k,e[--v]=k,e[--v]=E}{const x=i,S=s+u,T=r+x,w=r-x,E=n+S,b=n-S;e[f++]=T,e[f++]=E,e[--v]=b,e[--v]=T,i&&(e[f++]=w,e[f++]=E,e[--v]=b,e[--v]=w)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let u,h;if(t.type!==Nt.RREC){const f=t.shape;u=f.x,h=f.y}else{const f=t.shape;u=f.x+f.width/2,h=f.y+f.height/2}const c=t.matrix;n.push(t.matrix?c.a*u+c.c*h+c.tx:u,t.matrix?c.b*u+c.d*h+c.ty:h),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function _x(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const u=t[i],h=t[i+1];n+=(u-s)*(h+o),s=u,o=h}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,u=r-s-1,h=s,c=s+1;[t[o],t[h]]=[t[h],t[o]],[t[u],t[c]]=[t[c],t[u]]}}}const CS={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){_x(r,!1);const o=[];for(let c=0;c<n.length;c++){const f=n[c];_x(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const u=hP(r,o,2);if(!u)return;const h=i.length/2;for(let c=0;c<u.length;c+=3)s.push(u[c]+h),s.push(u[c+1]+h),s.push(u[c+2]+h);for(let c=0;c<r.length;c++)i.push(r[c])}}},_M={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},xM={build(t){Bc.build(t)},triangulate(t,e){Bc.triangulate(t,e)}};var kr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(kr||{}),Ni=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ni||{});const sa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class xx{static curveTo(e,r,n,i,s,o){const u=o[o.length-2],h=o[o.length-1]-r,c=u-e,f=i-r,g=n-e,m=Math.abs(h*g-c*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=h*h+c*c,x=f*f+g*g,S=h*f+c*g,T=s*Math.sqrt(v)/m,w=s*Math.sqrt(x)/m,E=T*S/v,b=w*S/x,C=T*g+w*c,k=T*f+w*h,L=c*(w+E),O=h*(w+E),N=g*(T+b),W=f*(T+b),X=Math.atan2(O-k,L-C),fe=Math.atan2(W-k,N-C);return{cx:C+e,cy:k+r,radius:s,startAngle:X,endAngle:fe,anticlockwise:c*f>g*h}}static arc(e,r,n,i,s,o,u,h,c){const f=u-o,g=sa._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/Ic)*40),m=f/(g*2),v=m*2,x=Math.cos(m),S=Math.sin(m),T=g-1,w=T%1/T;for(let E=0;E<=T;++E){const b=E+w*E,C=m+o+v*b,k=Math.cos(C),L=-Math.sin(C);c.push((x*k+S*L)*s+n,(x*-L+S*k)*s+i)}}}class wM{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class qy{static curveLength(e,r,n,i,s,o,u,h){let c=0,f=0,g=0,m=0,v=0,x=0,S=0,T=0,w=0,E=0,b=0,C=e,k=r;for(let L=1;L<=10;++L)f=L/10,g=f*f,m=g*f,v=1-f,x=v*v,S=x*v,T=S*e+3*x*f*n+3*v*g*s+m*u,w=S*r+3*x*f*i+3*v*g*o+m*h,E=C-T,b=k-w,C=T,k=w,c+=Math.sqrt(E*E+b*b);return c}static curveTo(e,r,n,i,s,o,u){const h=u[u.length-2],c=u[u.length-1];u.length-=2;const f=sa._segmentsCount(qy.curveLength(h,c,e,r,n,i,s,o));let g=0,m=0,v=0,x=0,S=0;u.push(h,c);for(let T=1,w=0;T<=f;++T)w=T/f,g=1-w,m=g*g,v=m*g,x=w*w,S=x*w,u.push(v*h+3*m*w*e+3*g*x*n+S*s,v*c+3*m*w*r+3*g*x*i+S*o)}}function wx(t,e,r,n,i,s,o,u){const h=t-r*i,c=e-n*i,f=t+r*s,g=e+n*s;let m,v;o?(m=n,v=-r):(m=-n,v=r);const x=h+m,S=c+v,T=f+m,w=g+v;return u.push(x,S,T,w),2}function cs(t,e,r,n,i,s,o,u){const h=r-t,c=n-e;let f=Math.atan2(h,c),g=Math.atan2(i-t,s-e);u&&f<g?f+=Math.PI*2:!u&&f>g&&(g+=Math.PI*2);let m=f;const v=g-f,x=Math.abs(v),S=Math.sqrt(h*h+c*c),T=(15*x*Math.sqrt(S)/Math.PI>>0)+1,w=v/T;if(m+=w,u){o.push(t,e,r,n);for(let E=1,b=m;E<T;E++,b+=w)o.push(t,e,t+Math.sin(b)*S,e+Math.cos(b)*S);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let E=1,b=m;E<T;E++,b+=w)o.push(t+Math.sin(b)*S,e+Math.cos(b)*S,t,e);o.push(i,s,t,e)}return T*2}function bM(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Ce(n[0],n[1]),u=new Ce(n[n.length-2],n[n.length-1]),h=r.type!==Nt.POLY||r.closeStroke,c=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(h){n=n.slice(),c&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const he=(o.x+u.x)*.5,P=(u.y+o.y)*.5;n.unshift(he,P),n.push(he,P)}const f=e.points,g=n.length/2;let m=n.length;const v=f.length/2,x=s.width/2,S=x*x,T=s.miterLimit*s.miterLimit;let w=n[0],E=n[1],b=n[2],C=n[3],k=0,L=0,O=-(E-C),N=w-b,W=0,X=0,fe=Math.sqrt(O*O+N*N);O/=fe,N/=fe,O*=x,N*=x;const K=s.alignment,D=(1-K)*2,q=K*2;h||(s.cap===Ni.ROUND?m+=cs(w-O*(D-q)*.5,E-N*(D-q)*.5,w-O*D,E-N*D,w+O*q,E+N*q,f,!0)+2:s.cap===Ni.SQUARE&&(m+=wx(w,E,O,N,D,q,!0,f))),f.push(w-O*D,E-N*D,w+O*q,E+N*q);for(let he=1;he<g-1;++he){w=n[(he-1)*2],E=n[(he-1)*2+1],b=n[he*2],C=n[he*2+1],k=n[(he+1)*2],L=n[(he+1)*2+1],O=-(E-C),N=w-b,fe=Math.sqrt(O*O+N*N),O/=fe,N/=fe,O*=x,N*=x,W=-(C-L),X=b-k,fe=Math.sqrt(W*W+X*X),W/=fe,X/=fe,W*=x,X*=x;const P=b-w,H=E-C,F=b-k,z=L-C,J=P*F+H*z,_e=H*F-z*P,ye=_e<0;if(Math.abs(_e)<.001*Math.abs(J)){f.push(b-O*D,C-N*D,b+O*q,C+N*q),J>=0&&(s.join===kr.ROUND?m+=cs(b,C,b-O*D,C-N*D,b-W*D,C-X*D,f,!1)+4:m+=2,f.push(b-W*q,C-X*q,b+W*D,C+X*D));continue}const Oe=(-O+w)*(-N+C)-(-O+b)*(-N+E),we=(-W+k)*(-X+C)-(-W+b)*(-X+L),Fe=(P*we-F*Oe)/_e,vt=(z*Oe-H*we)/_e,It=(Fe-b)*(Fe-b)+(vt-C)*(vt-C),rt=b+(Fe-b)*D,be=C+(vt-C)*D,Ge=b-(Fe-b)*q,ke=C-(vt-C)*q,wr=Math.min(P*P+H*H,F*F+z*z),br=ye?D:q,es=wr+br*br*S,bd=It<=es;let Hs=s.join;if(Hs===kr.MITER&&It/S>T&&(Hs=kr.BEVEL),bd)switch(Hs){case kr.MITER:{f.push(rt,be,Ge,ke);break}case kr.BEVEL:{ye?f.push(rt,be,b+O*q,C+N*q,rt,be,b+W*q,C+X*q):f.push(b-O*D,C-N*D,Ge,ke,b-W*D,C-X*D,Ge,ke),m+=2;break}case kr.ROUND:{ye?(f.push(rt,be,b+O*q,C+N*q),m+=cs(b,C,b+O*q,C+N*q,b+W*q,C+X*q,f,!0)+4,f.push(rt,be,b+W*q,C+X*q)):(f.push(b-O*D,C-N*D,Ge,ke),m+=cs(b,C,b-O*D,C-N*D,b-W*D,C-X*D,f,!1)+4,f.push(b-W*D,C-X*D,Ge,ke));break}}else{switch(f.push(b-O*D,C-N*D,b+O*q,C+N*q),Hs){case kr.MITER:{ye?f.push(Ge,ke,Ge,ke):f.push(rt,be,rt,be),m+=2;break}case kr.ROUND:{ye?m+=cs(b,C,b+O*q,C+N*q,b+W*q,C+X*q,f,!0)+2:m+=cs(b,C,b-O*D,C-N*D,b-W*D,C-X*D,f,!1)+2;break}}f.push(b-W*D,C-X*D,b+W*q,C+X*q),m+=2}}w=n[(g-2)*2],E=n[(g-2)*2+1],b=n[(g-1)*2],C=n[(g-1)*2+1],O=-(E-C),N=w-b,fe=Math.sqrt(O*O+N*N),O/=fe,N/=fe,O*=x,N*=x,f.push(b-O*D,C-N*D,b+O*q,C+N*q),h||(s.cap===Ni.ROUND?m+=cs(b-O*(D-q)*.5,C-N*(D-q)*.5,b-O*D,C-N*D,b+O*q,C+N*q,f,!1)+2:s.cap===Ni.SQUARE&&(m+=wx(b,C,O,N,D,q,!1,f)));const ue=e.indices,me=sa.epsilon*sa.epsilon;for(let he=v;he<m+v-2;++he)w=f[he*2],E=f[he*2+1],b=f[(he+1)*2],C=f[(he+1)*2+1],k=f[(he+2)*2],L=f[(he+2)*2+1],!(Math.abs(w*(C-L)+b*(L-E)+k*(E-C))<me)&&ue.push(he,he+1,he+2)}function EM(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Nt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,u=e.indices,h=i.length/2,c=o.length/2;let f=c;for(o.push(i[0],i[1]),r=1;r<h;r++)o.push(i[r*2],i[r*2+1]),u.push(f,f+1),f++;s&&u.push(f,c)}function bx(t,e){t.lineStyle.native?EM(t,e):bM(t,e)}class Ky{static curveLength(e,r,n,i,s,o){const u=e-2*n+s,h=r-2*i+o,c=2*n-2*e,f=2*i-2*r,g=4*(u*u+h*h),m=4*(u*c+h*f),v=c*c+f*f,x=2*Math.sqrt(g+m+v),S=Math.sqrt(g),T=2*g*S,w=2*Math.sqrt(v),E=m/S;return(T*x+S*m*(x-w)+(4*v*g-m*m)*Math.log((2*S+E+x)/(E+w)))/(4*T)}static curveTo(e,r,n,i,s){const o=s[s.length-2],u=s[s.length-1],h=sa._segmentsCount(Ky.curveLength(o,u,e,r,n,i));let c=0,f=0;for(let g=1;g<=h;++g){const m=g/h;c=o+(e-o)*m,f=u+(r-u)*m,s.push(c+(e+(n-e)*m-c)*m,f+(r+(i-r)*m-f)*m)}}}const jp={[Nt.POLY]:CS,[Nt.CIRC]:Bc,[Nt.ELIP]:Bc,[Nt.RECT]:_M,[Nt.RREC]:xM},Ex=[],xh=[];class Dc{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Dc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const co=new Ce,IS=class PS extends OE{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Mc,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),xh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),Ex.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Dc(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Dc(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,co):co.copyFrom(e),i.shape.contains(co.x,co.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(co.x,co.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let h=this.shapeIndex;h<r.length;h++){this.shapeIndex++;const c=r[h],f=c.fillStyle,g=c.lineStyle;jp[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(f.visible||g.visible)&&this.processHoles(c.holes);for(let m=0;m<2;m++){const v=m===0?f:g;if(!v.visible)continue;const x=v.texture.baseTexture,S=this.indices.length,T=this.points.length/2;x.wrapMode=Jn.REPEAT,m===0?this.processFill(c):this.processLine(c);const w=this.points.length/2-T;w!==0&&(n&&!this._compareStyles(i,v)&&(n.end(S,T),n=null),n||(n=Ex.pop()||new wM,n.begin(v,S,T),this.batches.push(n),i=v),this.addUvs(this.points,e,v.texture,T,w,v.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const u=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<PS.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ae._globalBatch;for(let g=0;g<this.drawCalls.length;g++)this.drawCalls[g].texArray.clear(),xh.push(this.drawCalls[g]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=xh.pop();i||(i=new cg,i.texArray=new mg),i.texArray.count=0,i.start=0,i.size=0,i.type=rn.TRIANGLES;let s=0,o=null,u=0,h=!1,c=rn.TRIANGLES,f=0;this.drawCalls.push(i);for(let g=0;g<this.batches.length;g++){const m=this.batches[g],v=8,x=m.style,S=x.texture.baseTexture;h!==!!x.native&&(h=!!x.native,c=h?rn.LINES:rn.TRIANGLES,o=null,s=v,e++),o!==S&&(o=S,S._batchEnabled!==e&&(s===v&&(e++,s=0,i.size>0&&(i=xh.pop(),i||(i=new cg,i.texArray=new mg),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=c),S.touched=1,S._batchEnabled=e,S._batchLocation=s,S.wrapMode=Jn.REPEAT,i.texArray.elements[i.texArray.count++]=S,s++)),i.size+=m.size,f+=m.size,u=S._batchLocation,this.addColors(r,x.color,x.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,u,m.attribSize,m.attribStart)}Ae._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),u=new Uint32Array(s);let h=0;for(let c=0;c<e.length/2;c++)o[h++]=e[c*2],o[h++]=e[c*2+1],o[h++]=r[c*2],o[h++]=r[c*2+1],u[h++]=n[c],o[h++]=i[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?CS.triangulate(e,this):jp[e.type].triangulate(e,this)}processLine(e){bx(e,this);for(let r=0;r<e.holes.length;r++)bx(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];jp[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=st.shared.setValue(r).toLittleEndianNumber(),u=st.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let h=0;h<i;h++)e[s+h]=u}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let u=0;const h=r.length,c=n.frame;for(;u<s;){let g=e[(i+u)*2],m=e[(i+u)*2+1];if(o){const v=o.a*g+o.c*m+o.tx;m=o.b*g+o.d*m+o.ty,g=v}u++,r.push(g/c.width,m/c.height)}const f=n.baseTexture;(c.width<f.width||c.height<f.height)&&this.adjustUvs(r,n,h,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,u=n+i*2,h=r.frame,c=h.width/s.width,f=h.height/s.height;let g=h.x/h.width,m=h.y/h.height,v=Math.floor(e[n]+o),x=Math.floor(e[n+1]+o);for(let S=n+2;S<u;S+=2)v=Math.min(v,Math.floor(e[S]+o)),x=Math.min(x,Math.floor(e[S+1]+o));g-=v,m-=x;for(let S=n;S<u;S+=2)e[S]=(e[S]+g)*c,e[S+1]=(e[S+1]+m)*f}};IS.BATCHABLE_SIZE=100;let SM=IS;class vd{constructor(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new vd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=se.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Zy extends vd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ni.BUTT,this.join=kr.MITER,this.miterLimit=10}clone(){const e=new Zy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ni.BUTT,this.join=kr.MITER,this.miterLimit=10}}const Hp={},Ig=class Qh extends vr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new vd,this._lineStyle=new Zy,this._matrix=null,this._holeMode=!1,this.state=Bn.for2d(),this._geometry=e||new SM,this._geometry.refCount++,this._transformID=-1,this._tintColor=new st(16777215),this.blendMode=ge.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Qh(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:se.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ni.BUTT,join:kr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Ns,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Ns,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Ky.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),qy.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,u=xx.curveTo(e,r,n,i,s,o);if(u){const{cx:h,cy:c,radius:f,startAngle:g,endAngle:m,anticlockwise:v}=u;this.arc(h,c,f,g,m,v)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Ic:o&&i<=s&&(i+=Ic),s-i===0)return this;const u=e+Math.cos(i)*n,h=r+Math.sin(i)*n,c=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const g=Math.abs(f[f.length-2]-u),m=Math.abs(f[f.length-1]-h);g<c&&m<c||f.push(u,h)}else this.moveTo(u,h),f=this.currentPath.points;return xx.arc(u,h,e,r,n,i,s,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:se.WHITE,color:e,alpha:r})}normalizeColor(e){const r=st.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:se.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ie(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new cd(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new ud(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new hd(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Ns(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Nt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:u,blendMode:r,indices:c,uvs:h,_batchRGB:st.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,st.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let u=0,h=o.length;u<h;u++)this._renderDrawCallDirect(e,n.drawCalls[u])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,u=n.count;for(let h=0;h<u;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Hp[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new et,default:ln.from({uSamplers:s},!0)},u=e.plugins[n]._shader.program;Hp[n]=new Fn(u,o)}r=Hp[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Qh._TEMP_POINT),this._geometry.containsPoint(Qh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=st.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,h=r.ty,c=this._geometry.points,f=this.vertexData;let g=0;for(let m=0;m<c.length;m+=2){const v=c[m],x=c[m+1];f[g++]=n*v+s*x+u,f[g++]=o*x+i*v+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Ig.curves=sa,Ig._TEMP_POINT=new Ce;let Vp=Ig;class TM extends gd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,h=this.height/o;for(let f=0;f<e;f++){const g=f%this.segWidth,m=f/this.segWidth|0;r.push(g*u,m*h),n.push(g/s,m/o)}const c=s*o;for(let f=0;f<c;f++){const g=f%s,m=f/s|0,v=m*this.segWidth+g,x=m*this.segWidth+g+1,S=(m+1)*this.segWidth+g,T=(m+1)*this.segWidth+g+1;i.push(v,x,S,x,T,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class AM extends gd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,h=e[0];const c=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const v=m*4;if(this.textureScale>0){const x=h.x-e[m].x,S=h.y-e[m].y,T=Math.sqrt(x*x+S*S);h=e[m],u+=T/c}else u=m/(f-1);s[v]=u,s[v+1]=0,s[v+2]=u,s[v+3]=1}let g=0;for(let m=0;m<f-1;m++){const v=m*2;o[g++]=v,o[g++]=v+1,o[g++]=v+2,o[g++]=v+2,o[g++]=v+1,o[g++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,u=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<u;c++){const f=e[c],g=c*4;c<e.length-1?n=e[c+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=h,s*=h),o[g]=f.x+i,o[g+1]=f.y+s,o[g+2]=f.x-i,o[g+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class CM extends zl{constructor(e,r,n){const i=new TM(e.width,e.height,r,n),s=new Gl(se.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const wh=10;class IM extends CM{constructor(e,r,n,i,s){var o,u,h,c;super(se.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??wh,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??wh,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??wh,this._bottomHeight=s??((c=e.defaultBorders)==null?void 0:c.bottom)??wh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class PM extends zl{constructor(e=se.EMPTY,r,n,i,s){const o=new gd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const u=new Gl(e);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class RM extends zl{constructor(e,r,n=0){const i=new AM(e.height,r,n),s=new Gl(e);n>0&&(e.baseTexture.wrapMode=Jn.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class kM extends vr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ge.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new st(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Sx{constructor(e,r,n){this.geometry=new Vi,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ve.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ut(Vk(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new ut(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ut(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===ve.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ve.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var NM=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,MM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class RS extends fd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new et,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ve.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Fn.from(MM,NM,{}),this.state=Bn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,c=h.alphaMode>0;this.state.blendMode=kE(e.blendMode,c),s.state.set(this.state);const f=s.gl,g=e.worldTransform.copyTo(this.tempMatrix);g.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=g.toArray(!0),this.shader.uniforms.uColor=st.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let m=!1;for(let v=0,x=0;v<o;v+=i,x+=1){let S=o-v;S>i&&(S=i),x>=u.length&&u.push(this._generateOneMoreBuffer(e));const T=u[x];T.uploadDynamic(r,v,S);const w=e._bufferUpdateIDs[x]||0;m=m||T._updateID<w,m&&(T._updateID=e._updateID,T.uploadStatic(r,v,S)),s.geometry.bind(T.geometry),f.drawElements(f.TRIANGLES,S*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Sx(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Sx(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let u=0,h=0,c=0,f=0;for(let g=0;g<n;++g){const m=e[r+g],v=m._texture,x=m.scale.x,S=m.scale.y,T=v.trim,w=v.orig;T?(h=T.x-m.anchor.x*w.width,u=h+T.width,f=T.y-m.anchor.y*w.height,c=f+T.height):(u=w.width*(1-m.anchor.x),h=w.width*-m.anchor.x,c=w.height*(1-m.anchor.y),f=w.height*-m.anchor.y),i[o]=h*x,i[o+1]=f*S,i[o+s]=u*x,i[o+s+1]=f*S,i[o+s*2]=u*x,i[o+s*2+1]=c*S,i[o+s*3]=h*x,i[o+s*3+1]=c*S,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let u=0;u<n;u++){const h=e[r+u].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let u=0;u<n;u++){const h=e[r+u].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let u=0;u<n;++u){const h=e[r+u]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let u=0;u<n;++u){const h=e[r+u],c=st.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}RS.extension={name:"particle",type:ie.RendererPlugin};pe.add(RS);class $l extends js{constructor(e,r=!0){super(e[0]instanceof se?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Yt.shared.add(this.update,this,ia.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(se.from(e[n]));return new $l(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(se.from(e[n]));return new $l(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof se)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Yt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Yt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Wa=new Ce;class Jy extends js{constructor(e,r=100,n=100){super(e),this.tileTransform=new dd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Wy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ie),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Wa);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Wa.x>=i&&Wa.x<i+r){const s=-n*this.anchor._y;if(Wa.y>=s&&Wa.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof se?e:se.from(e,r);return new Jy(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var FM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,OM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,LM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Tx=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,BM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const bh=new et;class kS extends fd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new VE,this.state=Bn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Fn.from(Tx,BM,r),this.shader=e.context.webGLVersion>1?Fn.from(OM,FM,r):Fn.from(Tx,LM,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const u=e._texture,h=u.baseTexture,c=h.alphaMode>0,f=e.tileTransform.localTransform,g=e.uvMatrix;let m=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;m&&(h._glTextures[r.CONTEXT_UID]?m=h.wrapMode!==Jn.CLAMP:h.wrapMode===Jn.CLAMP&&(h.wrapMode=Jn.REPEAT));const v=m?this.simpleShader:this.shader,x=u.width,S=u.height,T=e._width,w=e._height;bh.set(f.a*x/T,f.b*x/w,f.c*S/T,f.d*S/w,f.tx/T,f.ty/w),bh.invert(),m?bh.prepend(g.mapCoord):(v.uniforms.uMapCoord=g.mapCoord.toArray(!0),v.uniforms.uClampFrame=g.uClampFrame,v.uniforms.uClampOffset=g.uClampOffset),v.uniforms.uTransform=bh.toArray(!0),v.uniforms.uColor=st.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=kE(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}kS.extension={name:"tilingSprite",type:ie.RendererPlugin};pe.add(kS);const NS=class Pg{constructor(e){this.stage=new vr,e=Object.assign({forceCanvas:!1},e),this.renderer=sN(e),Pg._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=Pg._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};NS._plugins=[];let _d=NS;pe.handleByList(ie.Application,_d._plugins);class MS{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}MS.extension=ie.Application;pe.add(MS);var FS={exports:{}},DM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UM=DM,zM=UM;function OS(){}function LS(){}LS.resetWarningCache=OS;var GM=function(){function t(n,i,s,o,u,h){if(h!==zM){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LS,resetWarningCache:OS};return r.PropTypes=r,r};FS.exports=GM();var $M=FS.exports;const je=jc($M);function gr(t){return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(t)}function BS(t){var e=function(r,n){if(gr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(gr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return gr(e)==="symbol"?e:String(e)}function lt(t,e,r){return(e=BS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function si(t){return function(e){if(Array.isArray(e))return Wp(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Wp(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wp(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ot(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var jM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VM=function(t){return t==null};function rl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=si(t);else{if(t===null||gr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!VM(r)&&!isNaN(r)}).map(Number)}function Ax(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Xp(t){return t instanceof Ce||t instanceof Pn}var Uc=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Yp(t,e,r){if(Xp(t[e])&&Xp(r))t[e].copyFrom(r);else if(Xp(t[e])){var n=rl(r);ot(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),gr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var fo,DS=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},US=function(t){return function(){return!t.apply(void 0,arguments)}},Rg="children",WM=(lt(fo={},Rg,!0),lt(fo,"parent",!0),lt(fo,"worldAlpha",!0),lt(fo,"worldTransform",!0),lt(fo,"worldVisible",!0),fo),kg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},On=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var h,c;u==null||(h=u.__reactpixi)===null||h===void 0||(c=h.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,h){if(r.hasOwnProperty(u))return ot(h.typeofs.some(function(c){return gr(r[u])===c})||h.instanceofs.some(function(c){return r[u]instanceof c}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return ot(r.texture instanceof se,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,se]});ot(!!s,"".concat(t," could not get texture from props"));var o=se.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},XM=US(DS([].concat(si(Object.keys(WM)),si(Uc))));function Ln(t,e,r){var n=!1;if(ot(Xi.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",gr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Uc.length;o++){var u=Uc[o];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<h.length;c++){var f=h[c];e[f]!==r[f]&&(n=!0,Yp(t,f,r[f]))}return n}for(var g=h.filter(XM),m=0;m<g.length;m++){var v=g[m],x=r[v];r[v]!==e[v]&&(n=!0),x!==void 0?Yp(t,v,x):v in kg?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(x," for"),t),n=!0,Yp(t,v,kg[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(x," for"),t)}return n}var YM=function(t,e){var r=e.text,n=e.style;return new CN(r,n)},QM=function(){return new vr};function Ji(t,e){if(t==null)return{};var r,n,i=function(o,u){if(o==null)return{};var h,c,f={},g=Object.keys(o);for(c=0;c<g.length;c++)h=g[c],u.indexOf(h)>=0||(f[h]=o[h]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var qM=["draw","geometry"],KM=function(t,e){var r=e.geometry;ot(!r||r instanceof Vp,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Vp(r.geometry):new Vp;return n.applyProps=function(i,s,o){var u=o.draw;o.geometry;var h=Ln(i,s,Ji(o,qM));return s.draw!==u&&typeof u=="function"&&(h=!0,u.call(n,n)),h},n},ZM=["image","texture"],JM=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,u=o===void 0?10:o,h=e.bottomHeight,c=h===void 0?10:h,f=On("NineSlicePlane",t,e),g=new IM(f,n,s,u,c);return g.applyProps=function(m,v,x){var S=x.image,T=x.texture,w=Ln(m,v,Ji(x,ZM));return(S||T)&&(T!==v.texture&&(w=!0),m.texture=On("NineSlicePlane",t,x)),w},g};function Cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cx(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eF=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,u=o!==void 0&&o,h=Eh(Eh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=Eh(Eh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new kM(n,h,s,u);return f.willUnmount=function(g,m,v){g.destroy(c)},f},tF=["image","texture"],rF=function(t,e){var r=new js(On("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,u=s.texture,h=Ln(n,i,Ji(s,tF));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=On("Sprite",t,s)),h},r},nF=["textures","isPlaying","initialFrame","images"],iF=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,u=function(c){return c.map(function(f){return ot(f instanceof se||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),f})},h=n?$l.fromImages(n):new $l(u(r));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(c,f,g){var m=g.textures,v=g.isPlaying,x=g.initialFrame,S=g.images,T=Ln(c,f,Ji(g,nF));if(S&&f.images!==S){for(var w=[],E=0;E<S.length;++E)w.push(se.from(S[E]));c.textures=w,T=!0}if(m&&f.textures!==m&&(c.textures=u(m),T=!0),v!==f.isPlaying||x!==f.initialFrame){var b=typeof x=="number"?x:h.currentFrame||0;h[v?"gotoAndPlay":"gotoAndStop"](b),T=!0}return T},h},sF=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,u=new yN(n,s);return o?(u.updateText(),new js(u.texture)):u},oF=["tileScale","tilePosition","image","texture"],aF=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=On("TilingSprite",t,e),u=new Jy(o,n,s);return u.applyProps=function(h,c,f){var g=f.tileScale,m=f.tilePosition,v=f.image,x=f.texture,S=Ln(h,c,Ji(f,oF));if(m){var T,w=rl(m);(T=h.tilePosition).set.apply(T,si(w)),S=!Ax(rl(c.tilePosition),w)||S}if(g){var E,b=rl(g);(E=h.tileScale).set.apply(E,si(b)),S=!Ax(rl(c.tileScale),b)||S}return(v||x)&&(x!==c.texture&&(S=!0),h.texture=On("Sprite",t,f)),S},u},lF=["image","texture"],uF=function(t,e){var r=On("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,u=o===void 0?rn.TRIANGLES:o,h=new PM(r,n,i,s,u);return h.applyProps=function(c,f,g){var m=g.image,v=g.texture,x=Ln(c,f,Ji(g,lF));return(m||v)&&(v!==f.texture&&(x=!0),c.texture=On("Mesh",t,g)),x},h},hF=["image","texture"],cF=function(t,e){var r=On("SimpleRope",t,e),n=e.points,i=new RM(r,n);return i.applyProps=function(s,o,u){var h=u.image,c=u.texture,f=Ji(u,hF);ot(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var g=Ln(s,o,f);return(h||c)&&(c!==o.texture&&(g=!0),s.texture=On("SimpleRope",t,u)),g},i},dF=Object.freeze({__proto__:null,BitmapText:YM,Container:QM,Graphics:KM,NineSlicePlane:JM,ParticleContainer:eF,Sprite:rF,Text:sF,TilingSprite:aF,SimpleMesh:uF,SimpleRope:cF,AnimatedSprite:iF});function Ix(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Px(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ix(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ar={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},fF=Object.keys(ar).reduce(function(t,e){return Px(Px({},t),{},lt({},e,dF[e]))},{}),zS={};function pF(t,e){return ot(!!t,"Expect type to be defined, got `%s`",t),ot(!ar[t],"Component `%s` could not be created, already exists in default components.",t),zS[t]=e,t}var Rx,kx,Nx,Mx,Ng={},Mg={},mF={get exports(){return Mg},set exports(t){Mg=t}},Fx={};function gF(){return kx||(kx=1,mF.exports=(Rx||(Rx=1,function(t){function e(P,H){var F=P.length;P.push(H);e:for(;0<F;){var z=F-1>>>1,J=P[z];if(!(0<i(J,H)))break e;P[z]=H,P[F]=J,F=z}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var H=P[0],F=P.pop();if(F!==H){P[0]=F;e:for(var z=0,J=P.length,_e=J>>>1;z<_e;){var ye=2*(z+1)-1,Oe=P[ye],we=ye+1,Fe=P[we];if(0>i(Oe,F))we<J&&0>i(Fe,Oe)?(P[z]=Fe,P[we]=F,z=we):(P[z]=Oe,P[ye]=F,z=ye);else{if(!(we<J&&0>i(Fe,F)))break e;P[z]=Fe,P[we]=F,z=we}}}return H}function i(P,H){var F=P.sortIndex-H.sortIndex;return F!==0?F:P.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var h=[],c=[],f=1,g=null,m=3,v=!1,x=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function b(P){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else{if(!(H.startTime<=P))break;n(c),H.sortIndex=H.expirationTime,e(h,H)}H=r(c)}}function C(P){if(S=!1,b(P),!x)if(r(h)!==null)x=!0,me(k);else{var H=r(c);H!==null&&he(C,H.startTime-P)}}function k(P,H){x=!1,S&&(S=!1,w(W),W=-1),v=!0;var F=m;try{for(b(H),g=r(h);g!==null&&(!(g.expirationTime>H)||P&&!K());){var z=g.callback;if(typeof z=="function"){g.callback=null,m=g.priorityLevel;var J=z(g.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?g.callback=J:g===r(h)&&n(h),b(H)}else n(h);g=r(h)}if(g!==null)var _e=!0;else{var ye=r(c);ye!==null&&he(C,ye.startTime-H),_e=!1}return _e}finally{g=null,m=F,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,O=!1,N=null,W=-1,X=5,fe=-1;function K(){return!(t.unstable_now()-fe<X)}function D(){if(N!==null){var P=t.unstable_now();fe=P;var H=!0;try{H=N(!0,P)}finally{H?L():(O=!1,N=null)}}else O=!1}if(typeof E=="function")L=function(){E(D)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ue=q.port2;q.port1.onmessage=D,L=function(){ue.postMessage(null)}}else L=function(){T(D,0)};function me(P){N=P,O||(O=!0,L())}function he(P,H){W=T(function(){P(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,me(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var F=m;m=H;try{return P()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=m;m=P;try{return H()}finally{m=F}},t.unstable_scheduleCallback=function(P,H,F){var z=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?z+F:z,P){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return P={id:f++,callback:H,priorityLevel:P,startTime:F,expirationTime:J=F+J,sortIndex:-1},F>z?(P.sortIndex=F,e(c,P),r(h)===null&&P===r(c)&&(S?(w(W),W=-1):S=!0,he(C,F-z))):(P.sortIndex=J,e(h,P),x||v||(x=!0,me(k))),P},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(P){var H=m;return function(){var F=m;m=H;try{return P.apply(this,arguments)}finally{m=F}}}}(Fx)),Fx)),Mg}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function yF(){return Mx||(Mx=1,Nx=function(t){var e={},r=Rn,n=gF(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),C=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:typeof(a=C&&a[C]||a["@@iterator"])=="function"?a:null}function L(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case m:return(a._context.displayName||"Context")+".Provider";case x:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case w:return(l=a.displayName||null)!==null?l:L(a.type)||"Memo";case E:l=a._payload,a=a._init;try{return L(a(l))}catch{}}return null}function O(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(l);case 8:return l===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function N(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do 4098&(l=a).flags&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function W(a){if(N(a)!==a)throw Error(s(188))}function X(a){var l=a.alternate;if(!l){if((l=N(a))===null)throw Error(s(188));return l!==a?null:a}for(var d=a,p=l;;){var y=d.return;if(y===null)break;var _=y.alternate;if(_===null){if((p=y.return)!==null){d=p;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===d)return W(y),a;if(_===p)return W(y),l;_=_.sibling}throw Error(s(188))}if(d.return!==p.return)d=y,p=_;else{for(var A=!1,I=y.child;I;){if(I===d){A=!0,d=y,p=_;break}if(I===p){A=!0,p=y,d=_;break}I=I.sibling}if(!A){for(I=_.child;I;){if(I===d){A=!0,d=_,p=y;break}if(I===p){A=!0,p=_,d=y;break}I=I.sibling}if(!A)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:l}function fe(a){return(a=X(a))!==null?K(a):null}function K(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=K(a);if(l!==null)return l;a=a.sibling}return null}function D(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=D(a);if(l!==null)return l}a=a.sibling}return null}var q,ue=Array.isArray,me=t.getPublicInstance,he=t.getRootHostContext,P=t.getChildHostContext,H=t.prepareForCommit,F=t.resetAfterCommit,z=t.createInstance,J=t.appendInitialChild,_e=t.finalizeInitialChildren,ye=t.prepareUpdate,Oe=t.shouldSetTextContent,we=t.createTextInstance,Fe=t.scheduleTimeout,vt=t.cancelTimeout,It=t.noTimeout,rt=t.isPrimaryRenderer,be=t.supportsMutation,Ge=t.supportsPersistence,ke=t.supportsHydration,wr=t.getInstanceFromNode,br=t.preparePortalMount,es=t.getCurrentEventPriority,bd=t.detachDeletedInstance,Hs=t.supportsMicrotasks,qS=t.scheduleMicrotask,da=t.supportsTestSelectors,KS=t.findFiberRoot,ZS=t.getBoundingRect,JS=t.getTextContent,fa=t.isHiddenSubtree,eT=t.matchAccessibilityRole,tT=t.setFocusIfFocusable,rT=t.setupIntersectionObserver,nT=t.appendChild,iT=t.appendChildToContainer,sT=t.commitTextUpdate,oT=t.commitMount,aT=t.commitUpdate,lT=t.insertBefore,uT=t.insertInContainerBefore,hT=t.removeChild,cT=t.removeChildFromContainer,tv=t.resetTextContent,dT=t.hideInstance,fT=t.hideTextInstance,pT=t.unhideInstance,mT=t.unhideTextInstance,gT=t.clearContainer,yT=t.cloneInstance,rv=t.createContainerChildSet,nv=t.appendChildToContainerChildSet,vT=t.finalizeContainerChildren,Ed=t.replaceContainerChildren,iv=t.cloneHiddenInstance,sv=t.cloneHiddenTextInstance,_T=t.canHydrateInstance,xT=t.canHydrateTextInstance,wT=t.canHydrateSuspenseInstance,ov=t.isSuspenseInstancePending,Sd=t.isSuspenseInstanceFallback,bT=t.getSuspenseInstanceFallbackErrorDetails,ET=t.registerSuspenseInstanceRetry,Kl=t.getNextHydratableSibling,ST=t.getFirstHydratableChild,TT=t.getFirstHydratableChildWithinContainer,AT=t.getFirstHydratableChildWithinSuspenseInstance,CT=t.hydrateInstance,IT=t.hydrateTextInstance,PT=t.hydrateSuspenseInstance,RT=t.getNextHydratableInstanceAfterSuspenseInstance,kT=t.commitHydratedContainer,NT=t.commitHydratedSuspenseInstance,MT=t.clearSuspenseBoundary,FT=t.clearSuspenseBoundaryFromContainer,OT=t.shouldDeleteUnhydratedTailInstances,LT=t.didNotMatchHydratedContainerTextInstance,BT=t.didNotMatchHydratedTextInstance;function pa(a){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+a}var Td=!1;function Ad(a,l){if(!a||Td)return"";Td=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(U){var p=U}Reflect.construct(a,[],l)}else{try{l.call()}catch(U){p=U}a.call(l.prototype)}else{try{throw Error()}catch(U){p=U}a()}}catch(U){if(U&&p&&typeof U.stack=="string"){for(var y=U.stack.split(`
`),_=p.stack.split(`
`),A=y.length-1,I=_.length-1;1<=A&&0<=I&&y[A]!==_[I];)I--;for(;1<=A&&0<=I;A--,I--)if(y[A]!==_[I]){if(A!==1||I!==1)do if(A--,0>--I||y[A]!==_[I]){var M=`
`+y[A].replace(" at new "," at ");return a.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",a.displayName)),M}while(1<=A&&0<=I);break}}}finally{Td=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?pa(a):""}var DT=Object.prototype.hasOwnProperty,Cd=[],Vs=-1;function ai(a){return{current:a}}function Ve(a){0>Vs||(a.current=Cd[Vs],Cd[Vs]=null,Vs--)}function Ue(a,l){Vs++,Cd[Vs]=a.current,a.current=l}var li={},Ot=ai(li),Zt=ai(!1),ts=li;function Ws(a,l){var d=a.type.contextTypes;if(!d)return li;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y,_={};for(y in d)_[y]=l[y];return p&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=_),_}function lr(a){return(a=a.childContextTypes)!=null}function Id(){Ve(Zt),Ve(Ot)}function av(a,l,d){if(Ot.current!==li)throw Error(s(168));Ue(Ot,l),Ue(Zt,d)}function lv(a,l,d){var p=a.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;for(var y in p=p.getChildContext())if(!(y in l))throw Error(s(108,O(a)||"Unknown",y));return i({},d,p)}function Zl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||li,ts=Ot.current,Ue(Ot,a),Ue(Zt,Zt.current),!0}function uv(a,l,d){var p=a.stateNode;if(!p)throw Error(s(169));d?(a=lv(a,l,ts),p.__reactInternalMemoizedMergedChildContext=a,Ve(Zt),Ve(Ot),Ue(Ot,a)):Ve(Zt),Ue(Zt,d)}var $r=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(UT(a)/zT|0)|0},UT=Math.log,zT=Math.LN2,Pd=64,Rd=4194304;function ma(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Jl(a,l){var d=a.pendingLanes;if(d===0)return 0;var p=0,y=a.suspendedLanes,_=a.pingedLanes,A=268435455&d;if(A!==0){var I=A&~y;I!==0?p=ma(I):(_&=A)!==0&&(p=ma(_))}else(A=d&~y)!==0?p=ma(A):_!==0&&(p=ma(_));if(p===0)return 0;if(l!==0&&l!==p&&!(l&y)&&((y=p&-p)>=(_=l&-l)||y===16&&4194240&_))return l;if(4&p&&(p|=16&d),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=p;0<l;)y=1<<(d=31-$r(l)),p|=a[d],l&=~y;return p}function GT(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function kd(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function hv(){var a=Pd;return!(4194240&(Pd<<=1))&&(Pd=64),a}function Nd(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ga(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-$r(l)]=d}function Md(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-$r(d),y=1<<p;y&l|a[p]&l&&(a[p]|=l),d&=~y}}var Ne=0;function cv(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var Fd=n.unstable_scheduleCallback,dv=n.unstable_cancelCallback,$T=n.unstable_shouldYield,jT=n.unstable_requestPaint,_t=n.unstable_now,Od=n.unstable_ImmediatePriority,HT=n.unstable_UserBlockingPriority,fv=n.unstable_NormalPriority,VT=n.unstable_IdlePriority,eu=null,hn=null,jr=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},Dn=null,tu=!1,Ld=!1;function pv(a){Dn===null?Dn=[a]:Dn.push(a)}function cn(){if(!Ld&&Dn!==null){Ld=!0;var a=0,l=Ne;try{var d=Dn;for(Ne=1;a<d.length;a++){var p=d[a];do p=p(!0);while(p!==null)}Dn=null,tu=!1}catch(y){throw Dn!==null&&(Dn=Dn.slice(a+1)),Fd(Od,cn),y}finally{Ne=l,Ld=!1}}return null}var Xs=[],Ys=0,ru=null,nu=0,Er=[],Sr=0,rs=null,dn=1,Un="";function ns(a,l){Xs[Ys++]=nu,Xs[Ys++]=ru,ru=a,nu=l}function mv(a,l,d){Er[Sr++]=dn,Er[Sr++]=Un,Er[Sr++]=rs,rs=a;var p=dn;a=Un;var y=32-$r(p)-1;p&=~(1<<y),d+=1;var _=32-$r(l)+y;if(30<_){var A=y-y%5;_=(p&(1<<A)-1).toString(32),p>>=A,y-=A,dn=1<<32-$r(l)+y|d<<y|p,Un=_+a}else dn=1<<_|d<<y|p,Un=a}function Bd(a){a.return!==null&&(ns(a,1),mv(a,1,0))}function Dd(a){for(;a===ru;)ru=Xs[--Ys],Xs[Ys]=null,nu=Xs[--Ys],Xs[Ys]=null;for(;a===rs;)rs=Er[--Sr],Er[Sr]=null,Un=Er[--Sr],Er[Sr]=null,dn=Er[--Sr],Er[Sr]=null}var ur=null,Tr=null,We=!1,ya=!1,Hr=null;function gv(a,l){var d=Rr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,(l=a.deletions)===null?(a.deletions=[d],a.flags|=16):l.push(d)}function yv(a,l){switch(a.tag){case 5:return(l=_T(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,ur=a,Tr=ST(l),!0);case 6:return(l=xT(l,a.pendingProps))!==null&&(a.stateNode=l,ur=a,Tr=null,!0);case 13:if((l=wT(l))!==null){var d=rs!==null?{id:dn,overflow:Un}:null;return a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},(d=Rr(18,null,null,0)).stateNode=l,d.return=a,a.child=d,ur=a,Tr=null,!0}return!1;default:return!1}}function Ud(a){return(1&a.mode)!=0&&(128&a.flags)==0}function zd(a){if(We){var l=Tr;if(l){var d=l;if(!yv(a,l)){if(Ud(a))throw Error(s(418));l=Kl(d);var p=ur;l&&yv(a,l)?gv(p,d):(a.flags=-4097&a.flags|2,We=!1,ur=a)}}else{if(Ud(a))throw Error(s(418));a.flags=-4097&a.flags|2,We=!1,ur=a}}}function vv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ur=a}function iu(a){if(!ke||a!==ur)return!1;if(!We)return vv(a),We=!0,!1;if(a.tag!==3&&(a.tag!==5||OT(a.type)&&!Oe(a.type,a.memoizedProps))){var l=Tr;if(l){if(Ud(a))throw _v(),Error(s(418));for(;l;)gv(a,l),l=Kl(l)}}if(vv(a),a.tag===13){if(!ke)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Tr=RT(a)}else Tr=ur?Kl(a.stateNode):null;return!0}function _v(){for(var a=Tr;a;)a=Kl(a)}function Qs(){ke&&(Tr=ur=null,ya=We=!1)}function Gd(a){Hr===null?Hr=[a]:Hr.push(a)}var WT=o.ReactCurrentBatchConfig;function su(a,l){if(jr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!DT.call(l,y)||!jr(a[y],l[y]))return!1}return!0}function XT(a){switch(a.tag){case 5:return pa(a.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return a=Ad(a.type,!1);case 11:return a=Ad(a.type.render,!1);case 1:return a=Ad(a.type,!0);default:return""}}function Vr(a,l){if(a&&a.defaultProps){for(var d in l=i({},l),a=a.defaultProps)l[d]===void 0&&(l[d]=a[d]);return l}return l}var ou=ai(null),au=null,qs=null,$d=null;function jd(){$d=qs=au=null}function xv(a,l,d){rt?(Ue(ou,l._currentValue),l._currentValue=d):(Ue(ou,l._currentValue2),l._currentValue2=d)}function Hd(a){var l=ou.current;Ve(ou),rt?a._currentValue=l:a._currentValue2=l}function Vd(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function Ks(a,l){au=a,$d=qs=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&l&&(Jt=!0),a.firstContext=null)}function Ar(a){var l=rt?a._currentValue:a._currentValue2;if($d!==a)if(a={context:a,memoizedValue:l,next:null},qs===null){if(au===null)throw Error(s(308));qs=a,au.dependencies={lanes:0,firstContext:a}}else qs=qs.next=a;return l}var is=null;function Wd(a){is===null?is=[a]:is.push(a)}function wv(a,l,d,p){var y=l.interleaved;return y===null?(d.next=d,Wd(l)):(d.next=y.next,y.next=d),l.interleaved=d,fn(a,p)}function fn(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,(d=a.alternate)!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var ui=!1;function Xd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bv(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zn(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function hi(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(2&Te)!=0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,fn(a,d)}return(y=p.interleaved)===null?(l.next=l,Wd(p)):(l.next=y.next,y.next=l),p.interleaved=l,fn(a,d)}function lu(a,l,d){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&d)!=0)){var p=l.lanes;d|=p&=a.pendingLanes,l.lanes=d,Md(a,d)}}function Ev(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&d===(p=p.updateQueue)){var y=null,_=null;if((d=d.firstBaseUpdate)!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?y=_=A:_=_.next=A,d=d.next}while(d!==null);_===null?y=_=l:_=_.next=l}else y=_=l;return d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:p.shared,effects:p.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function uu(a,l,d,p){var y=a.updateQueue;ui=!1;var _=y.firstBaseUpdate,A=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var M=I,U=M.next;M.next=null,A===null?_=U:A.next=U,A=M;var $=a.alternate;$!==null&&(I=($=$.updateQueue).lastBaseUpdate)!==A&&(I===null?$.firstBaseUpdate=U:I.next=U,$.lastBaseUpdate=M)}if(_!==null){var Z=y.baseState;for(A=0,$=U=M=null,I=_;;){var G=I.lane,Q=I.eventTime;if((p&G)===G){$!==null&&($=$.next={eventTime:Q,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var oe=a,xe=I;switch(G=l,Q=d,xe.tag){case 1:if(typeof(oe=xe.payload)=="function"){Z=oe.call(Q,Z,G);break e}Z=oe;break e;case 3:oe.flags=-65537&oe.flags|128;case 0:if((G=typeof(oe=xe.payload)=="function"?oe.call(Q,Z,G):oe)==null)break e;Z=i({},Z,G);break e;case 2:ui=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(G=y.effects)===null?y.effects=[I]:G.push(I))}else Q={eventTime:Q,lane:G,tag:I.tag,payload:I.payload,callback:I.callback,next:null},$===null?(U=$=Q,M=Z):$=$.next=Q,A|=G;if((I=I.next)===null){if((I=y.shared.pending)===null)break;I=(G=I).next,G.next=null,y.lastBaseUpdate=G,y.shared.pending=null}}if($===null&&(M=Z),y.baseState=M,y.firstBaseUpdate=U,y.lastBaseUpdate=$,(l=y.shared.interleaved)!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else _===null&&(y.shared.lanes=0);os|=A,a.lanes=A,a.memoizedState=Z}}function Sv(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var p=a[l],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(s(191,y));y.call(p)}}}var Tv=new r.Component().refs;function Yd(a,l,d,p){d=(d=d(p,l=a.memoizedState))==null?l:i({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var hu={isMounted:function(a){return!!(a=a._reactInternals)&&N(a)===a},enqueueSetState:function(a,l,d){a=a._reactInternals;var p=Dt(),y=pi(a),_=zn(p,y);_.payload=l,d!=null&&(_.callback=d),(l=hi(a,_,y))!==null&&(Pr(l,a,y,p),lu(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=Dt(),y=pi(a),_=zn(p,y);_.tag=1,_.payload=l,d!=null&&(_.callback=d),(l=hi(a,_,y))!==null&&(Pr(l,a,y,p),lu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Dt(),p=pi(a),y=zn(d,p);y.tag=2,l!=null&&(y.callback=l),(l=hi(a,y,p))!==null&&(Pr(l,a,p,d),lu(l,a,p))}};function Av(a,l,d,p,y,_,A){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,_,A):!l.prototype||!l.prototype.isPureReactComponent||!su(d,p)||!su(y,_)}function Cv(a,l,d){var p=!1,y=li,_=l.contextType;return typeof _=="object"&&_!==null?_=Ar(_):(y=lr(l)?ts:Ot.current,_=(p=(p=l.contextTypes)!=null)?Ws(a,y):li),l=new l(d,_),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=hu,a.stateNode=l,l._reactInternals=a,p&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=_),l}function Iv(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&hu.enqueueReplaceState(l,l.state,null)}function Qd(a,l,d,p){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=Tv,Xd(a);var _=l.contextType;typeof _=="object"&&_!==null?y.context=Ar(_):(_=lr(l)?ts:Ot.current,y.context=Ws(a,_)),y.state=a.memoizedState,typeof(_=l.getDerivedStateFromProps)=="function"&&(Yd(a,l,_,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&hu.enqueueReplaceState(y,y.state,null),uu(a,d,y,p),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function va(a,l,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var p=d.stateNode}if(!p)throw Error(s(147,a));var y=p,_=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(A){var I=y.refs;I===Tv&&(I=y.refs={}),A===null?delete I[_]:I[_]=A},l._stringRef=_,l)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function cu(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Pv(a){return(0,a._init)(a._payload)}function Rv(a){function l(j,R){if(a){var B=j.deletions;B===null?(j.deletions=[R],j.flags|=16):B.push(R)}}function d(j,R){if(!a)return null;for(;R!==null;)l(j,R),R=R.sibling;return null}function p(j,R){for(j=new Map;R!==null;)R.key!==null?j.set(R.key,R):j.set(R.index,R),R=R.sibling;return j}function y(j,R){return(j=gi(j,R)).index=0,j.sibling=null,j}function _(j,R,B){return j.index=B,a?(B=j.alternate)!==null?(B=B.index)<R?(j.flags|=2,R):B:(j.flags|=2,R):(j.flags|=1048576,R)}function A(j){return a&&j.alternate===null&&(j.flags|=2),j}function I(j,R,B,V){return R===null||R.tag!==6?((R=Lf(B,j.mode,V)).return=j,R):((R=y(R,B)).return=j,R)}function M(j,R,B,V){var de=B.type;return de===c?$(j,R,B.props.children,V,B.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===E&&Pv(de)===R.type)?((V=y(R,B.props)).ref=va(j,R,B),V.return=j,V):((V=Bu(B.type,B.key,B.props,null,j.mode,V)).ref=va(j,R,B),V.return=j,V)}function U(j,R,B,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?((R=Bf(B,j.mode,V)).return=j,R):((R=y(R,B.children||[])).return=j,R)}function $(j,R,B,V,de){return R===null||R.tag!==7?((R=us(B,j.mode,V,de)).return=j,R):((R=y(R,B)).return=j,R)}function Z(j,R,B){if(typeof R=="string"&&R!==""||typeof R=="number")return(R=Lf(""+R,j.mode,B)).return=j,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case u:return(B=Bu(R.type,R.key,R.props,null,j.mode,B)).ref=va(j,null,R),B.return=j,B;case h:return(R=Bf(R,j.mode,B)).return=j,R;case E:return Z(j,(0,R._init)(R._payload),B)}if(ue(R)||k(R))return(R=us(R,j.mode,B,null)).return=j,R;cu(j,R)}return null}function G(j,R,B,V){var de=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return de!==null?null:I(j,R,""+B,V);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return B.key===de?M(j,R,B,V):null;case h:return B.key===de?U(j,R,B,V):null;case E:return G(j,R,(de=B._init)(B._payload),V)}if(ue(B)||k(B))return de!==null?null:$(j,R,B,V,null);cu(j,B)}return null}function Q(j,R,B,V,de){if(typeof V=="string"&&V!==""||typeof V=="number")return I(R,j=j.get(B)||null,""+V,de);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case u:return M(R,j=j.get(V.key===null?B:V.key)||null,V,de);case h:return U(R,j=j.get(V.key===null?B:V.key)||null,V,de);case E:return Q(j,R,B,(0,V._init)(V._payload),de)}if(ue(V)||k(V))return $(R,j=j.get(B)||null,V,de,null);cu(R,V)}return null}function oe(j,R,B,V){for(var de=null,Le=null,ae=R,Me=R=0,Rt=null;ae!==null&&Me<B.length;Me++){ae.index>Me?(Rt=ae,ae=null):Rt=ae.sibling;var Be=G(j,ae,B[Me],V);if(Be===null){ae===null&&(ae=Rt);break}a&&ae&&Be.alternate===null&&l(j,ae),R=_(Be,R,Me),Le===null?de=Be:Le.sibling=Be,Le=Be,ae=Rt}if(Me===B.length)return d(j,ae),We&&ns(j,Me),de;if(ae===null){for(;Me<B.length;Me++)(ae=Z(j,B[Me],V))!==null&&(R=_(ae,R,Me),Le===null?de=ae:Le.sibling=ae,Le=ae);return We&&ns(j,Me),de}for(ae=p(j,ae);Me<B.length;Me++)(Rt=Q(ae,j,Me,B[Me],V))!==null&&(a&&Rt.alternate!==null&&ae.delete(Rt.key===null?Me:Rt.key),R=_(Rt,R,Me),Le===null?de=Rt:Le.sibling=Rt,Le=Rt);return a&&ae.forEach(function(yi){return l(j,yi)}),We&&ns(j,Me),de}function xe(j,R,B,V){var de=k(B);if(typeof de!="function")throw Error(s(150));if((B=de.call(B))==null)throw Error(s(151));for(var Le=de=null,ae=R,Me=R=0,Rt=null,Be=B.next();ae!==null&&!Be.done;Me++,Be=B.next()){ae.index>Me?(Rt=ae,ae=null):Rt=ae.sibling;var yi=G(j,ae,Be.value,V);if(yi===null){ae===null&&(ae=Rt);break}a&&ae&&yi.alternate===null&&l(j,ae),R=_(yi,R,Me),Le===null?de=yi:Le.sibling=yi,Le=yi,ae=Rt}if(Be.done)return d(j,ae),We&&ns(j,Me),de;if(ae===null){for(;!Be.done;Me++,Be=B.next())(Be=Z(j,Be.value,V))!==null&&(R=_(Be,R,Me),Le===null?de=Be:Le.sibling=Be,Le=Be);return We&&ns(j,Me),de}for(ae=p(j,ae);!Be.done;Me++,Be=B.next())(Be=Q(ae,j,Me,Be.value,V))!==null&&(a&&Be.alternate!==null&&ae.delete(Be.key===null?Me:Be.key),R=_(Be,R,Me),Le===null?de=Be:Le.sibling=Be,Le=Be);return a&&ae.forEach(function(yA){return l(j,yA)}),We&&ns(j,Me),de}return function j(R,B,V,de){if(typeof V=="object"&&V!==null&&V.type===c&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case u:e:{for(var Le=V.key,ae=B;ae!==null;){if(ae.key===Le){if((Le=V.type)===c){if(ae.tag===7){d(R,ae.sibling),(B=y(ae,V.props.children)).return=R,R=B;break e}}else if(ae.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===E&&Pv(Le)===ae.type){d(R,ae.sibling),(B=y(ae,V.props)).ref=va(R,ae,V),B.return=R,R=B;break e}d(R,ae);break}l(R,ae),ae=ae.sibling}V.type===c?((B=us(V.props.children,R.mode,de,V.key)).return=R,R=B):((de=Bu(V.type,V.key,V.props,null,R.mode,de)).ref=va(R,B,V),de.return=R,R=de)}return A(R);case h:e:{for(ae=V.key;B!==null;){if(B.key===ae){if(B.tag===4&&B.stateNode.containerInfo===V.containerInfo&&B.stateNode.implementation===V.implementation){d(R,B.sibling),(B=y(B,V.children||[])).return=R,R=B;break e}d(R,B);break}l(R,B),B=B.sibling}(B=Bf(V,R.mode,de)).return=R,R=B}return A(R);case E:return j(R,B,(ae=V._init)(V._payload),de)}if(ue(V))return oe(R,B,V,de);if(k(V))return xe(R,B,V,de);cu(R,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,B!==null&&B.tag===6?(d(R,B.sibling),(B=y(B,V)).return=R,R=B):(d(R,B),(B=Lf(V,R.mode,de)).return=R,R=B),A(R)):d(R,B)}}var Zs=Rv(!0),kv=Rv(!1),_a={},Cr=ai(_a),xa=ai(_a),Js=ai(_a);function pn(a){if(a===_a)throw Error(s(174));return a}function qd(a,l){Ue(Js,l),Ue(xa,a),Ue(Cr,_a),a=he(l),Ve(Cr),Ue(Cr,a)}function eo(){Ve(Cr),Ve(xa),Ve(Js)}function Nv(a){var l=pn(Js.current),d=pn(Cr.current);d!==(l=P(d,a.type,l))&&(Ue(xa,a),Ue(Cr,l))}function Kd(a){xa.current===a&&(Ve(Cr),Ve(xa))}var nt=ai(0);function du(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&((d=d.dehydrated)===null||ov(d)||Sd(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zd=[];function Jd(){for(var a=0;a<Zd.length;a++){var l=Zd[a];rt?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}Zd.length=0}var fu=o.ReactCurrentDispatcher,ef=o.ReactCurrentBatchConfig,ss=0,Qe=null,xt=null,wt=null,pu=!1,wa=!1,ba=0,YT=0;function Lt(){throw Error(s(321))}function tf(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!jr(a[d],l[d]))return!1;return!0}function rf(a,l,d,p,y,_){if(ss=_,Qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,fu.current=a===null||a.memoizedState===null?ZT:JT,a=d(p,y),wa){_=0;do{if(wa=!1,ba=0,25<=_)throw Error(s(301));_+=1,wt=xt=null,l.updateQueue=null,fu.current=eA,a=d(p,y)}while(wa)}if(fu.current=yu,l=xt!==null&&xt.next!==null,ss=0,wt=xt=Qe=null,pu=!1,l)throw Error(s(300));return a}function nf(){var a=ba!==0;return ba=0,a}function mn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Qe.memoizedState=wt=a:wt=wt.next=a,wt}function Ir(){if(xt===null){var a=Qe.alternate;a=a!==null?a.memoizedState:null}else a=xt.next;var l=wt===null?Qe.memoizedState:wt.next;if(l!==null)wt=l,xt=a;else{if(a===null)throw Error(s(310));a={memoizedState:(xt=a).memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},wt===null?Qe.memoizedState=wt=a:wt=wt.next=a}return wt}function Ea(a,l){return typeof l=="function"?l(a):l}function sf(a){var l=Ir(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var p=xt,y=p.baseQueue,_=d.pending;if(_!==null){if(y!==null){var A=y.next;y.next=_.next,_.next=A}p.baseQueue=y=_,d.pending=null}if(y!==null){_=y.next,p=p.baseState;var I=A=null,M=null,U=_;do{var $=U.lane;if((ss&$)===$)M!==null&&(M=M.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),p=U.hasEagerState?U.eagerState:a(p,U.action);else{var Z={lane:$,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};M===null?(I=M=Z,A=p):M=M.next=Z,Qe.lanes|=$,os|=$}U=U.next}while(U!==null&&U!==_);M===null?A=p:M.next=I,jr(p,l.memoizedState)||(Jt=!0),l.memoizedState=p,l.baseState=A,l.baseQueue=M,d.lastRenderedState=p}if((a=d.interleaved)!==null){y=a;do _=y.lane,Qe.lanes|=_,os|=_,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function of(a){var l=Ir(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var p=d.dispatch,y=d.pending,_=l.memoizedState;if(y!==null){d.pending=null;var A=y=y.next;do _=a(_,A.action),A=A.next;while(A!==y);jr(_,l.memoizedState)||(Jt=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,p]}function Mv(){}function Fv(a,l){var d=Qe,p=Ir(),y=l(),_=!jr(p.memoizedState,y);if(_&&(p.memoizedState=y,Jt=!0),p=p.queue,af(Bv.bind(null,d,p,a),[a]),p.getSnapshot!==l||_||wt!==null&&1&wt.memoizedState.tag){if(d.flags|=2048,Sa(9,Lv.bind(null,d,p,y,l),void 0,null),bt===null)throw Error(s(349));30&ss||Ov(d,l,y)}return y}function Ov(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},(l=Qe.updateQueue)===null?(l={lastEffect:null,stores:null},Qe.updateQueue=l,l.stores=[a]):(d=l.stores)===null?l.stores=[a]:d.push(a)}function Lv(a,l,d,p){l.value=d,l.getSnapshot=p,Dv(l)&&Uv(a)}function Bv(a,l,d){return d(function(){Dv(l)&&Uv(a)})}function Dv(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!jr(a,d)}catch{return!0}}function Uv(a){var l=fn(a,1);l!==null&&Pr(l,a,1,-1)}function zv(a){var l=mn();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:a},l.queue=a,a=a.dispatch=KT.bind(null,Qe,a),[l.memoizedState,a]}function Sa(a,l,d,p){return a={tag:a,create:l,destroy:d,deps:p,next:null},(l=Qe.updateQueue)===null?(l={lastEffect:null,stores:null},Qe.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect)===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function Gv(){return Ir().memoizedState}function mu(a,l,d,p){var y=mn();Qe.flags|=a,y.memoizedState=Sa(1|l,d,void 0,p===void 0?null:p)}function gu(a,l,d,p){var y=Ir();p=p===void 0?null:p;var _=void 0;if(xt!==null){var A=xt.memoizedState;if(_=A.destroy,p!==null&&tf(p,A.deps))return void(y.memoizedState=Sa(l,d,_,p))}Qe.flags|=a,y.memoizedState=Sa(1|l,d,_,p)}function $v(a,l){return mu(8390656,8,a,l)}function af(a,l){return gu(2048,8,a,l)}function jv(a,l){return gu(4,2,a,l)}function Hv(a,l){return gu(4,4,a,l)}function Vv(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function Wv(a,l,d){return d=d!=null?d.concat([a]):null,gu(4,4,Vv.bind(null,l,a),d)}function lf(){}function Xv(a,l){var d=Ir();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&tf(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function Yv(a,l){var d=Ir();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&tf(l,p[1])?p[0]:(a=a(),d.memoizedState=[a,l],a)}function Qv(a,l,d){return 21&ss?(jr(d,l)||(d=hv(),Qe.lanes|=d,os|=d,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,Jt=!0),a.memoizedState=d)}function QT(a,l){var d=Ne;Ne=d!==0&&4>d?d:4,a(!0);var p=ef.transition;ef.transition={};try{a(!1),l()}finally{Ne=d,ef.transition=p}}function qv(){return Ir().memoizedState}function qT(a,l,d){var p=pi(a);d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},Kv(a)?Zv(l,d):(d=wv(a,l,d,p))!==null&&(Pr(d,a,p,Dt()),Jv(d,l,p))}function KT(a,l,d){var p=pi(a),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(Kv(a))Zv(l,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer)!==null)try{var A=l.lastRenderedState,I=_(A,d);if(y.hasEagerState=!0,y.eagerState=I,jr(I,A)){var M=l.interleaved;return M===null?(y.next=y,Wd(l)):(y.next=M.next,M.next=y),void(l.interleaved=y)}}catch{}(d=wv(a,l,y,p))!==null&&(Pr(d,a,p,y=Dt()),Jv(d,l,p))}}function Kv(a){var l=a.alternate;return a===Qe||l!==null&&l===Qe}function Zv(a,l){wa=pu=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Jv(a,l,d){if(4194240&d){var p=l.lanes;d|=p&=a.pendingLanes,l.lanes=d,Md(a,d)}}var yu={readContext:Ar,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},ZT={readContext:Ar,useCallback:function(a,l){return mn().memoizedState=[a,l===void 0?null:l],a},useContext:Ar,useEffect:$v,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,mu(4194308,4,Vv.bind(null,l,a),d)},useLayoutEffect:function(a,l){return mu(4194308,4,a,l)},useInsertionEffect:function(a,l){return mu(4,2,a,l)},useMemo:function(a,l){var d=mn();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var p=mn();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},p.queue=a,a=a.dispatch=qT.bind(null,Qe,a),[p.memoizedState,a]},useRef:function(a){return a={current:a},mn().memoizedState=a},useState:zv,useDebugValue:lf,useDeferredValue:function(a){return mn().memoizedState=a},useTransition:function(){var a=zv(!1),l=a[0];return a=QT.bind(null,a[1]),mn().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var p=Qe,y=mn();if(We){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),bt===null)throw Error(s(349));30&ss||Ov(p,l,d)}y.memoizedState=d;var _={value:d,getSnapshot:l};return y.queue=_,$v(Bv.bind(null,p,_,a),[a]),p.flags|=2048,Sa(9,Lv.bind(null,p,_,d,l),void 0,null),d},useId:function(){var a=mn(),l=bt.identifierPrefix;if(We){var d=Un;l=":"+l+"R"+(d=(dn&~(1<<32-$r(dn)-1)).toString(32)+d),0<(d=ba++)&&(l+="H"+d.toString(32)),l+=":"}else l=":"+l+"r"+(d=YT++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},JT={readContext:Ar,useCallback:Xv,useContext:Ar,useEffect:af,useImperativeHandle:Wv,useInsertionEffect:jv,useLayoutEffect:Hv,useMemo:Yv,useReducer:sf,useRef:Gv,useState:function(){return sf(Ea)},useDebugValue:lf,useDeferredValue:function(a){return Qv(Ir(),xt.memoizedState,a)},useTransition:function(){return[sf(Ea)[0],Ir().memoizedState]},useMutableSource:Mv,useSyncExternalStore:Fv,useId:qv,unstable_isNewReconciler:!1},eA={readContext:Ar,useCallback:Xv,useContext:Ar,useEffect:af,useImperativeHandle:Wv,useInsertionEffect:jv,useLayoutEffect:Hv,useMemo:Yv,useReducer:of,useRef:Gv,useState:function(){return of(Ea)},useDebugValue:lf,useDeferredValue:function(a){var l=Ir();return xt===null?l.memoizedState=a:Qv(l,xt.memoizedState,a)},useTransition:function(){return[of(Ea)[0],Ir().memoizedState]},useMutableSource:Mv,useSyncExternalStore:Fv,useId:qv,unstable_isNewReconciler:!1};function to(a,l){try{var d="",p=l;do d+=XT(p),p=p.return;while(p);var y=d}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:l,stack:y,digest:null}}function uf(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function hf(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function e0(a,l,d){(d=zn(-1,d)).tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){ku||(ku=!0,Pf=p),hf(0,l)},d}function t0(a,l,d){(d=zn(-1,d)).tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;d.payload=function(){return p(y)},d.callback=function(){hf(0,l)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){hf(0,l),typeof p!="function"&&(di===null?di=new Set([this]):di.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),d}function r0(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new tA;var y=new Set;p.set(l,y)}else(y=p.get(l))===void 0&&(y=new Set,p.set(l,y));y.has(d)||(y.add(d),a=hA.bind(null,a,l,d),l.then(a,a))}function n0(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function i0(a,l,d,p,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((l=zn(-1,1)).tag=2,hi(d,l,1))),d.lanes|=1),a)}var rA=o.ReactCurrentOwner,Jt=!1;function er(a,l,d,p){l.child=a===null?kv(l,null,d,p):Zs(l,a.child,d,p)}function s0(a,l,d,p,y){d=d.render;var _=l.ref;return Ks(l,y),p=rf(a,l,d,p,_,y),d=nf(),a===null||Jt?(We&&d&&Bd(l),l.flags|=1,er(a,l,p,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Gn(a,l,y))}function o0(a,l,d,p,y){if(a===null){var _=d.type;return typeof _!="function"||Of(_)||_.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=Bu(d.type,null,p,l,l.mode,y)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=_,a0(a,l,_,p,y))}if(_=a.child,(a.lanes&y)==0){var A=_.memoizedProps;if((d=(d=d.compare)!==null?d:su)(A,p)&&a.ref===l.ref)return Gn(a,l,y)}return l.flags|=1,(a=gi(_,p)).ref=l.ref,a.return=l,l.child=a}function a0(a,l,d,p,y){if(a!==null){var _=a.memoizedProps;if(su(_,p)&&a.ref===l.ref){if(Jt=!1,l.pendingProps=p=_,(a.lanes&y)==0)return l.lanes=a.lanes,Gn(a,l,y);131072&a.flags&&(Jt=!0)}}return cf(a,l,d,p,y)}function l0(a,l,d){var p=l.pendingProps,y=p.children,_=a!==null?a.memoizedState:null;if(p.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(no,hr),hr|=d;else{if(!(1073741824&d))return a=_!==null?_.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ue(no,hr),hr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:d,Ue(no,hr),hr|=p}else _!==null?(p=_.baseLanes|d,l.memoizedState=null):p=d,Ue(no,hr),hr|=p;return er(a,l,y,d),l.child}function u0(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function cf(a,l,d,p,y){var _=lr(d)?ts:Ot.current;return _=Ws(l,_),Ks(l,y),d=rf(a,l,d,p,_,y),p=nf(),a===null||Jt?(We&&p&&Bd(l),l.flags|=1,er(a,l,d,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Gn(a,l,y))}function h0(a,l,d,p,y){if(lr(d)){var _=!0;Zl(l)}else _=!1;if(Ks(l,y),l.stateNode===null)wu(a,l),Cv(l,d,p),Qd(l,d,p,y),p=!0;else if(a===null){var A=l.stateNode,I=l.memoizedProps;A.props=I;var M=A.context,U=d.contextType;typeof U=="object"&&U!==null?U=Ar(U):U=Ws(l,U=lr(d)?ts:Ot.current);var $=d.getDerivedStateFromProps,Z=typeof $=="function"||typeof A.getSnapshotBeforeUpdate=="function";Z||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==p||M!==U)&&Iv(l,A,p,U),ui=!1;var G=l.memoizedState;A.state=G,uu(l,p,A,y),M=l.memoizedState,I!==p||G!==M||Zt.current||ui?(typeof $=="function"&&(Yd(l,d,$,p),M=l.memoizedState),(I=ui||Av(l,d,I,p,G,M,U))?(Z||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=M),A.props=p,A.state=M,A.context=U,p=I):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,bv(a,l),I=l.memoizedProps,U=l.type===l.elementType?I:Vr(l.type,I),A.props=U,Z=l.pendingProps,G=A.context,typeof(M=d.contextType)=="object"&&M!==null?M=Ar(M):M=Ws(l,M=lr(d)?ts:Ot.current);var Q=d.getDerivedStateFromProps;($=typeof Q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==Z||G!==M)&&Iv(l,A,p,M),ui=!1,G=l.memoizedState,A.state=G,uu(l,p,A,y);var oe=l.memoizedState;I!==Z||G!==oe||Zt.current||ui?(typeof Q=="function"&&(Yd(l,d,Q,p),oe=l.memoizedState),(U=ui||Av(l,d,U,p,G,oe,M)||!1)?($||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,oe,M),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,oe,M)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=oe),A.props=p,A.state=oe,A.context=M,p=U):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),p=!1)}return df(a,l,d,p,_,y)}function df(a,l,d,p,y,_){u0(a,l);var A=(128&l.flags)!=0;if(!p&&!A)return y&&uv(l,d,!1),Gn(a,l,_);p=l.stateNode,rA.current=l;var I=A&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,a!==null&&A?(l.child=Zs(l,a.child,null,_),l.child=Zs(l,null,I,_)):er(a,l,I,_),l.memoizedState=p.state,y&&uv(l,d,!0),l.child}function c0(a){var l=a.stateNode;l.pendingContext?av(0,l.pendingContext,l.pendingContext!==l.context):l.context&&av(0,l.context,!1),qd(a,l.containerInfo)}function d0(a,l,d,p,y){return Qs(),Gd(y),l.flags|=256,er(a,l,d,p),l.child}var Ta,Aa,vu,_u,ff={dehydrated:null,treeContext:null,retryLane:0};function pf(a){return{baseLanes:a,cachePool:null,transitions:null}}function f0(a,l,d){var p,y=l.pendingProps,_=nt.current,A=!1,I=(128&l.flags)!=0;if((p=I)||(p=(a===null||a.memoizedState!==null)&&(2&_)!=0),p?(A=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(_|=1),Ue(nt,1&_),a===null)return zd(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&l.mode?Sd(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=y.children,a=y.fallback,A?(y=l.mode,A=l.child,I={mode:"hidden",children:I},!(1&y)&&A!==null?(A.childLanes=0,A.pendingProps=I):A=Du(I,y,0,null),a=us(a,y,d,null),A.return=l,a.return=l,A.sibling=a,l.child=A,l.child.memoizedState=pf(d),l.memoizedState=ff,a):mf(l,I));if((_=a.memoizedState)!==null&&(p=_.dehydrated)!==null)return function(U,$,Z,G,Q,oe,xe){if(Z)return 256&$.flags?($.flags&=-257,xu(U,$,xe,G=uf(Error(s(422))))):$.memoizedState!==null?($.child=U.child,$.flags|=128,null):(oe=G.fallback,Q=$.mode,G=Du({mode:"visible",children:G.children},Q,0,null),(oe=us(oe,Q,xe,null)).flags|=2,G.return=$,oe.return=$,G.sibling=oe,$.child=G,1&$.mode&&Zs($,U.child,null,xe),$.child.memoizedState=pf(xe),$.memoizedState=ff,oe);if(!(1&$.mode))return xu(U,$,xe,null);if(Sd(Q))return G=bT(Q).digest,oe=Error(s(419)),G=uf(oe,G,void 0),xu(U,$,xe,G);if(Z=(xe&U.childLanes)!=0,Jt||Z){if((G=bt)!==null){switch(xe&-xe){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}(Q=Q&(G.suspendedLanes|xe)?0:Q)!==0&&Q!==oe.retryLane&&(oe.retryLane=Q,fn(U,Q),Pr(G,U,Q,-1))}return Ff(),xu(U,$,xe,G=uf(Error(s(421))))}return ov(Q)?($.flags|=128,$.child=U.child,$=cA.bind(null,U),ET(Q,$),null):(U=oe.treeContext,ke&&(Tr=AT(Q),ur=$,We=!0,Hr=null,ya=!1,U!==null&&(Er[Sr++]=dn,Er[Sr++]=Un,Er[Sr++]=rs,dn=U.id,Un=U.overflow,rs=$)),$=mf($,G.children),$.flags|=4096,$)}(a,l,I,y,p,_,d);if(A){A=y.fallback,I=l.mode,p=(_=a.child).sibling;var M={mode:"hidden",children:y.children};return!(1&I)&&l.child!==_?((y=l.child).childLanes=0,y.pendingProps=M,l.deletions=null):(y=gi(_,M)).subtreeFlags=14680064&_.subtreeFlags,p!==null?A=gi(p,A):(A=us(A,I,d,null)).flags|=2,A.return=l,y.return=l,y.sibling=A,l.child=y,y=A,A=l.child,I=(I=a.child.memoizedState)===null?pf(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=a.childLanes&~d,l.memoizedState=ff,y}return a=(A=a.child).sibling,y=gi(A,{mode:"visible",children:y.children}),!(1&l.mode)&&(y.lanes=d),y.return=l,y.sibling=null,a!==null&&((d=l.deletions)===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=y,l.memoizedState=null,y}function mf(a,l){return(l=Du({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function xu(a,l,d,p){return p!==null&&Gd(p),Zs(l,a.child,null,d),(a=mf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function p0(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Vd(a.return,l,d)}function gf(a,l,d,p,y){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=d,_.tailMode=y)}function m0(a,l,d){var p=l.pendingProps,y=p.revealOrder,_=p.tail;if(er(a,l,p.children,d),(2&(p=nt.current))!=0)p=1&p|2,l.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&p0(a,d,l);else if(a.tag===19)p0(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(Ue(nt,p),(1&l.mode)==0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)(a=d.alternate)!==null&&du(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),gf(l,!1,y,d,_);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if((a=y.alternate)!==null&&du(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}gf(l,!0,d,null,_);break;case"together":gf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function wu(a,l){!(1&l.mode)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Gn(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),os|=l.lanes,(d&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(d=gi(a=l.child,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,(d=d.sibling=gi(a,a.pendingProps)).return=l;d.sibling=null}return l.child}function gn(a){a.flags|=4}function g0(a,l){if(a!==null&&a.child===l.child)return!0;if(16&l.flags)return!1;for(a=l.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(be)Ta=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)J(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Aa=function(){},vu=function(a,l,d,p,y){if((a=a.memoizedProps)!==p){var _=l.stateNode,A=pn(Cr.current);d=ye(_,d,a,p,y,A),(l.updateQueue=d)&&gn(l)}},_u=function(a,l,d,p){d!==p&&gn(l)};else if(Ge){Ta=function(a,l,d,p){for(var y=l.child;y!==null;){if(y.tag===5){var _=y.stateNode;d&&p&&(_=iv(_,y.type,y.memoizedProps,y)),J(a,_)}else if(y.tag===6)_=y.stateNode,d&&p&&(_=sv(_,y.memoizedProps,y)),J(a,_);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(_=y.child)!==null&&(_.return=y),Ta(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var y0=function(a,l,d,p){for(var y=l.child;y!==null;){if(y.tag===5){var _=y.stateNode;d&&p&&(_=iv(_,y.type,y.memoizedProps,y)),nv(a,_)}else if(y.tag===6)_=y.stateNode,d&&p&&(_=sv(_,y.memoizedProps,y)),nv(a,_);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(_=y.child)!==null&&(_.return=y),y0(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Aa=function(a,l){var d=l.stateNode;if(!g0(a,l)){a=d.containerInfo;var p=rv(a);y0(p,l,!1,!1),d.pendingChildren=p,gn(l),vT(a,p)}},vu=function(a,l,d,p,y){var _=a.stateNode,A=a.memoizedProps;if((a=g0(a,l))&&A===p)l.stateNode=_;else{var I=l.stateNode,M=pn(Cr.current),U=null;A!==p&&(U=ye(I,d,A,p,y,M)),a&&U===null?l.stateNode=_:(_=yT(_,U,d,A,p,l,a,I),_e(_,d,p,y,M)&&gn(l),l.stateNode=_,a?gn(l):Ta(_,l,!1,!1))}},_u=function(a,l,d,p){d!==p?(a=pn(Js.current),d=pn(Cr.current),l.stateNode=we(p,a,d,l),gn(l)):l.stateNode=a.stateNode}}else Aa=function(){},vu=function(){},_u=function(){};function Ca(a,l){if(!We)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Vt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,p|=14680064&y.subtreeFlags,p|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function nA(a,l,d){var p=l.pendingProps;switch(Dd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(l),null;case 1:case 17:return lr(l.type)&&Id(),Vt(l),null;case 3:return d=l.stateNode,eo(),Ve(Zt),Ve(Ot),Jd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(iu(l)?gn(l):a===null||a.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,Hr!==null&&(Nf(Hr),Hr=null))),Aa(a,l),Vt(l),null;case 5:Kd(l),d=pn(Js.current);var y=l.type;if(a!==null&&l.stateNode!=null)vu(a,l,y,p,d),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(s(166));return Vt(l),null}if(a=pn(Cr.current),iu(l)){if(!ke)throw Error(s(175));a=CT(l.stateNode,l.type,l.memoizedProps,d,a,l,!ya),l.updateQueue=a,a!==null&&gn(l)}else{var _=z(y,p,d,a,l);Ta(_,l,!1,!1),l.stateNode=_,_e(_,y,p,d,a)&&gn(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Vt(l),null;case 6:if(a&&l.stateNode!=null)_u(a,l,a.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(a=pn(Js.current),d=pn(Cr.current),iu(l)){if(!ke)throw Error(s(176));if(a=l.stateNode,d=l.memoizedProps,(p=IT(a,d,l,!ya))&&(y=ur)!==null)switch(y.tag){case 3:LT(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:BT(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}p&&gn(l)}else l.stateNode=we(p,a,d,l)}return Vt(l),null;case 13:if(Ve(nt),p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(We&&Tr!==null&&1&l.mode&&!(128&l.flags))_v(),Qs(),l.flags|=98560,y=!1;else if(y=iu(l),p!==null&&p.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!ke)throw Error(s(344));if(!(y=(y=l.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));PT(y,l)}else Qs(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;Vt(l),y=!1}else Hr!==null&&(Nf(Hr),Hr=null),y=!0;if(!y)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=d,l):((d=p!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(l.child.flags|=8192,1&l.mode&&(a===null||1&nt.current?pt===0&&(pt=3):Ff())),l.updateQueue!==null&&(l.flags|=4),Vt(l),null);case 4:return eo(),Aa(a,l),a===null&&br(l.stateNode.containerInfo),Vt(l),null;case 10:return Hd(l.type._context),Vt(l),null;case 19:if(Ve(nt),(y=l.memoizedState)===null)return Vt(l),null;if(p=(128&l.flags)!=0,(_=y.rendering)===null)if(p)Ca(y,!1);else{if(pt!==0||a!==null&&128&a.flags)for(a=l.child;a!==null;){if((_=du(a))!==null){for(l.flags|=128,Ca(y,!1),(a=_.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=d,d=l.child;d!==null;)y=a,(p=d).flags&=14680066,(_=p.alternate)===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,y=_.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return Ue(nt,1&nt.current|2),l.child}a=a.sibling}y.tail!==null&&_t()>If&&(l.flags|=128,p=!0,Ca(y,!1),l.lanes=4194304)}else{if(!p)if((a=du(_))!==null){if(l.flags|=128,p=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),Ca(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!We)return Vt(l),null}else 2*_t()-y.renderingStartTime>If&&d!==1073741824&&(l.flags|=128,p=!0,Ca(y,!1),l.lanes=4194304);y.isBackwards?(_.sibling=l.child,l.child=_):((a=y.last)!==null?a.sibling=_:l.child=_,y.last=_)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=_t(),l.sibling=null,a=nt.current,Ue(nt,p?1&a|2:1&a),l):(Vt(l),null);case 22:case 23:return Mf(),d=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(l.flags|=8192),d&&1&l.mode?1073741824&hr&&(Vt(l),be&&6&l.subtreeFlags&&(l.flags|=8192)):Vt(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function iA(a,l){switch(Dd(l),l.tag){case 1:return lr(l.type)&&Id(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return eo(),Ve(Zt),Ve(Ot),Jd(),65536&(a=l.flags)&&!(128&a)?(l.flags=-65537&a|128,l):null;case 5:return Kd(l),null;case 13:if(Ve(nt),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Qs()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return Ve(nt),null;case 4:return eo(),null;case 10:return Hd(l.type._context),null;case 22:case 23:return Mf(),null;default:return null}}var bu=!1,Bt=!1,sA=typeof WeakSet=="function"?WeakSet:Set,re=null;function ro(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){Xe(a,l,p)}else d.current=null}function v0(a,l,d){try{d()}catch(p){Xe(a,l,p)}}var _0=!1;function Ia(a,l,d){var p=l.updateQueue;if((p=p!==null?p.lastEffect:null)!==null){var y=p=p.next;do{if((y.tag&a)===a){var _=y.destroy;y.destroy=void 0,_!==void 0&&v0(l,d,_)}y=y.next}while(y!==p)}}function Eu(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var d=l=l.next;do{if((d.tag&a)===a){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function yf(a){var l=a.ref;if(l!==null){var d=a.stateNode;a.tag===5?a=me(d):a=d,typeof l=="function"?l(a):l.current=a}}function x0(a){var l=a.alternate;l!==null&&(a.alternate=null,x0(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&bd(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function w0(a){return a.tag===5||a.tag===3||a.tag===4}function b0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||w0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function vf(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?uT(d,a,l):iT(d,a);else if(p!==4&&(a=a.child)!==null)for(vf(a,l,d),a=a.sibling;a!==null;)vf(a,l,d),a=a.sibling}function _f(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?lT(d,a,l):nT(d,a);else if(p!==4&&(a=a.child)!==null)for(_f(a,l,d),a=a.sibling;a!==null;)_f(a,l,d),a=a.sibling}var Wt=null,yn=!1;function vn(a,l,d){for(d=d.child;d!==null;)xf(a,l,d),d=d.sibling}function xf(a,l,d){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(eu,d)}catch{}switch(d.tag){case 5:Bt||ro(d,l);case 6:if(be){var p=Wt,y=yn;Wt=null,vn(a,l,d),yn=y,(Wt=p)!==null&&(yn?cT(Wt,d.stateNode):hT(Wt,d.stateNode))}else vn(a,l,d);break;case 18:be&&Wt!==null&&(yn?FT(Wt,d.stateNode):MT(Wt,d.stateNode));break;case 4:be?(p=Wt,y=yn,Wt=d.stateNode.containerInfo,yn=!0,vn(a,l,d),Wt=p,yn=y):(Ge&&(p=d.stateNode.containerInfo,y=rv(p),Ed(p,y)),vn(a,l,d));break;case 0:case 11:case 14:case 15:if(!Bt&&(p=d.updateQueue)!==null&&(p=p.lastEffect)!==null){y=p=p.next;do{var _=y,A=_.destroy;_=_.tag,A!==void 0&&(2&_||4&_)&&v0(d,l,A),y=y.next}while(y!==p)}vn(a,l,d);break;case 1:if(!Bt&&(ro(d,l),typeof(p=d.stateNode).componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(I){Xe(d,l,I)}vn(a,l,d);break;case 21:vn(a,l,d);break;case 22:1&d.mode?(Bt=(p=Bt)||d.memoizedState!==null,vn(a,l,d),Bt=p):vn(a,l,d);break;default:vn(a,l,d)}}function E0(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new sA),l.forEach(function(p){var y=dA.bind(null,a,p);d.has(p)||(d.add(p),p.then(y,y))})}}function Wr(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var _=a,A=l;if(be){var I=A;e:for(;I!==null;){switch(I.tag){case 5:Wt=I.stateNode,yn=!1;break e;case 3:case 4:Wt=I.stateNode.containerInfo,yn=!0;break e}I=I.return}if(Wt===null)throw Error(s(160));xf(_,A,y),Wt=null,yn=!1}else xf(_,A,y);var M=y.alternate;M!==null&&(M.return=null),y.return=null}catch(U){Xe(y,l,U)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)S0(l,a),l=l.sibling}function S0(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Wr(l,a),_n(a),4&p){try{Ia(3,a,a.return),Eu(3,a)}catch(G){Xe(a,a.return,G)}try{Ia(5,a,a.return)}catch(G){Xe(a,a.return,G)}}break;case 1:Wr(l,a),_n(a),512&p&&d!==null&&ro(d,d.return);break;case 5:if(Wr(l,a),_n(a),512&p&&d!==null&&ro(d,d.return),be){if(32&a.flags){var y=a.stateNode;try{tv(y)}catch(G){Xe(a,a.return,G)}}if(4&p&&(y=a.stateNode)!=null){var _=a.memoizedProps;if(d=d!==null?d.memoizedProps:_,p=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{aT(y,l,p,d,_,a)}catch(G){Xe(a,a.return,G)}}}break;case 6:if(Wr(l,a),_n(a),4&p&&be){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,_=a.memoizedProps,d=d!==null?d.memoizedProps:_;try{sT(y,d,_)}catch(G){Xe(a,a.return,G)}}break;case 3:if(Wr(l,a),_n(a),4&p){if(be&&ke&&d!==null&&d.memoizedState.isDehydrated)try{kT(l.containerInfo)}catch(G){Xe(a,a.return,G)}if(Ge){y=l.containerInfo,_=l.pendingChildren;try{Ed(y,_)}catch(G){Xe(a,a.return,G)}}}break;case 4:if(Wr(l,a),_n(a),4&p&&Ge){y=(_=a.stateNode).containerInfo,_=_.pendingChildren;try{Ed(y,_)}catch(G){Xe(a,a.return,G)}}break;case 13:Wr(l,a),_n(a),8192&(y=a.child).flags&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Cf=_t())),4&p&&E0(a);break;case 22:var A=d!==null&&d.memoizedState!==null;if(1&a.mode?(Bt=(d=Bt)||A,Wr(l,a),Bt=d):Wr(l,a),_n(a),8192&p){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!A&&(1&a.mode)!=0)for(re=a,p=a.child;p!==null;){for(l=re=p;re!==null;){var I=(A=re).child;switch(A.tag){case 0:case 11:case 14:case 15:Ia(4,A,A.return);break;case 1:ro(A,A.return);var M=A.stateNode;if(typeof M.componentWillUnmount=="function"){var U=A,$=A.return;try{var Z=U;M.props=Z.memoizedProps,M.state=Z.memoizedState,M.componentWillUnmount()}catch(G){Xe(U,$,G)}}break;case 5:ro(A,A.return);break;case 22:if(A.memoizedState!==null){C0(l);continue}}I!==null?(I.return=A,re=I):C0(l)}p=p.sibling}if(be){e:if(p=null,be)for(l=a;;){if(l.tag===5){if(p===null){p=l;try{y=l.stateNode,d?dT(y):pT(l.stateNode,l.memoizedProps)}catch(G){Xe(a,a.return,G)}}}else if(l.tag===6){if(p===null)try{_=l.stateNode,d?fT(_):mT(_,l.memoizedProps)}catch(G){Xe(a,a.return,G)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:Wr(l,a),_n(a),4&p&&E0(a);break;case 21:break;default:Wr(l,a),_n(a)}}function _n(a){var l=a.flags;if(2&l){try{if(be){e:{for(var d=a.return;d!==null;){if(w0(d)){var p=d;break e}d=d.return}throw Error(s(160))}switch(p.tag){case 5:var y=p.stateNode;32&p.flags&&(tv(y),p.flags&=-33),_f(a,b0(a),y);break;case 3:case 4:var _=p.stateNode.containerInfo;vf(a,b0(a),_);break;default:throw Error(s(161))}}}catch(A){Xe(a,a.return,A)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function oA(a,l,d){re=a,T0(a)}function T0(a,l,d){for(var p=(1&a.mode)!=0;re!==null;){var y=re,_=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||bu;if(!A){var I=y.alternate,M=I!==null&&I.memoizedState!==null||Bt;I=bu;var U=Bt;if(bu=A,(Bt=M)&&!U)for(re=y;re!==null;)M=(A=re).child,A.tag===22&&A.memoizedState!==null?I0(y):M!==null?(M.return=A,re=M):I0(y);for(;_!==null;)re=_,T0(_),_=_.sibling;re=y,bu=I,Bt=U}A0(a)}else 8772&y.subtreeFlags&&_!==null?(_.return=y,re=_):A0(a)}}function A0(a){for(;re!==null;){var l=re;if(8772&l.flags){var d=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:Bt||Eu(5,l);break;case 1:var p=l.stateNode;if(4&l.flags&&!Bt)if(d===null)p.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Vr(l.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&Sv(l,_,p);break;case 3:var A=l.updateQueue;if(A!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=me(l.child.stateNode);break;case 1:d=l.child.stateNode}Sv(l,A,d)}break;case 5:var I=l.stateNode;d===null&&4&l.flags&&oT(I,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(ke&&l.memoizedState===null){var M=l.alternate;if(M!==null){var U=M.memoizedState;if(U!==null){var $=U.dehydrated;$!==null&&NT($)}}}break;default:throw Error(s(163))}Bt||512&l.flags&&yf(l)}catch(Z){Xe(l,l.return,Z)}}if(l===a){re=null;break}if((d=l.sibling)!==null){d.return=l.return,re=d;break}re=l.return}}function C0(a){for(;re!==null;){var l=re;if(l===a){re=null;break}var d=l.sibling;if(d!==null){d.return=l.return,re=d;break}re=l.return}}function I0(a){for(;re!==null;){var l=re;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Eu(4,l)}catch(M){Xe(l,d,M)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(M){Xe(l,y,M)}}var _=l.return;try{yf(l)}catch(M){Xe(l,_,M)}break;case 5:var A=l.return;try{yf(l)}catch(M){Xe(l,A,M)}}}catch(M){Xe(l,l.return,M)}if(l===a){re=null;break}var I=l.sibling;if(I!==null){I.return=l.return,re=I;break}re=l.return}}var Su=0,Tu=1,Au=2,Cu=3,Iu=4;if(typeof Symbol=="function"&&Symbol.for){var Pa=Symbol.for;Su=Pa("selector.component"),Tu=Pa("selector.has_pseudo_class"),Au=Pa("selector.role"),Cu=Pa("selector.test_id"),Iu=Pa("selector.text")}function wf(a){var l=wr(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=KS(a))===null)throw Error(s(362));return a.stateNode.current}function bf(a,l){switch(l.$$typeof){case Su:if(a.type===l.value)return!0;break;case Tu:e:{l=l.value,a=[a,0];for(var d=0;d<a.length;){var p=a[d++],y=a[d++],_=l[y];if(p.tag!==5||!fa(p)){for(;_!=null&&bf(p,_);)_=l[++y];if(y===l.length){l=!0;break e}for(p=p.child;p!==null;)a.push(p,y),p=p.sibling}}l=!1}return l;case Au:if(a.tag===5&&eT(a.stateNode,l.value))return!0;break;case Iu:if((a.tag===5||a.tag===6)&&(a=JS(a))!==null&&0<=a.indexOf(l.value))return!0;break;case Cu:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Ef(a){switch(a.$$typeof){case Su:return"<"+(L(a.value)||"Unknown")+">";case Tu:return":has("+(Ef(a)||"")+")";case Au:return'[role="'+a.value+'"]';case Iu:return'"'+a.value+'"';case Cu:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function P0(a,l){var d=[];a=[a,0];for(var p=0;p<a.length;){var y=a[p++],_=a[p++],A=l[_];if(y.tag!==5||!fa(y)){for(;A!=null&&bf(y,A);)A=l[++_];if(_===l.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,_),y=y.sibling}}return d}function Sf(a,l){if(!da)throw Error(s(363));a=P0(a=wf(a),l),l=[],a=Array.from(a);for(var d=0;d<a.length;){var p=a[d++];if(p.tag===5)fa(p)||l.push(p.stateNode);else for(p=p.child;p!==null;)a.push(p),p=p.sibling}return l}var aA=Math.ceil,Pu=o.ReactCurrentDispatcher,Tf=o.ReactCurrentOwner,at=o.ReactCurrentBatchConfig,Te=0,bt=null,ct=null,Pt=0,hr=0,no=ai(0),pt=0,Ra=null,os=0,Ru=0,Af=0,ka=null,cr=null,Cf=0,If=1/0,ci=null;function io(){If=_t()+500}var R0,ku=!1,Pf=null,di=null,Nu=!1,fi=null,Mu=0,Na=0,Rf=null,Fu=-1,Ou=0;function Dt(){return 6&Te?_t():Fu!==-1?Fu:Fu=_t()}function pi(a){return 1&a.mode?2&Te&&Pt!==0?Pt&-Pt:WT.transition!==null?(Ou===0&&(Ou=hv()),Ou):(a=Ne)!==0?a:es():1}function Pr(a,l,d,p){if(50<Na)throw Na=0,Rf=null,Error(s(185));ga(a,d,p),2&Te&&a===bt||(a===bt&&(!(2&Te)&&(Ru|=d),pt===4&&mi(a,Pt)),tr(a,p),d===1&&Te===0&&!(1&l.mode)&&(io(),tu&&cn()))}function tr(a,l){var d=a.callbackNode;(function(y,_){for(var A=y.suspendedLanes,I=y.pingedLanes,M=y.expirationTimes,U=y.pendingLanes;0<U;){var $=31-$r(U),Z=1<<$,G=M[$];G===-1?Z&A&&!(Z&I)||(M[$]=GT(Z,_)):G<=_&&(y.expiredLanes|=Z),U&=~Z}})(a,l);var p=Jl(a,a===bt?Pt:0);if(p===0)d!==null&&dv(d),a.callbackNode=null,a.callbackPriority=0;else if(l=p&-p,a.callbackPriority!==l){if(d!=null&&dv(d),l===1)a.tag===0?function(y){tu=!0,pv(y)}(N0.bind(null,a)):pv(N0.bind(null,a)),Hs?qS(function(){!(6&Te)&&cn()}):Fd(Od,cn),d=null;else{switch(cv(p)){case 1:d=Od;break;case 4:d=HT;break;case 16:default:d=fv;break;case 536870912:d=VT}d=z0(d,k0.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function k0(a,l){if(Fu=-1,Ou=0,(6&Te)!=0)throw Error(s(327));var d=a.callbackNode;if(ls()&&a.callbackNode!==d)return null;var p=Jl(a,a===bt?Pt:0);if(p===0)return null;if(30&p||p&a.expiredLanes||l)l=Lu(a,p);else{l=p;var y=Te;Te|=2;var _=O0();for(bt===a&&Pt===l||(ci=null,io(),as(a,l));;)try{uA();break}catch(I){F0(a,I)}jd(),Pu.current=_,Te=y,ct!==null?l=0:(bt=null,Pt=0,l=pt)}if(l!==0){if(l===2&&(y=kd(a))!==0&&(p=y,l=kf(a,y)),l===1)throw d=Ra,as(a,0),mi(a,p),tr(a,_t()),d;if(l===6)mi(a,p);else{if(y=a.current.alternate,(30&p)==0&&!function(I){for(var M=I;;){if(16384&M.flags){var U=M.updateQueue;if(U!==null&&(U=U.stores)!==null)for(var $=0;$<U.length;$++){var Z=U[$],G=Z.getSnapshot;Z=Z.value;try{if(!jr(G(),Z))return!1}catch{return!1}}}if(U=M.child,16384&M.subtreeFlags&&U!==null)U.return=M,M=U;else{if(M===I)break;for(;M.sibling===null;){if(M.return===null||M.return===I)return!0;M=M.return}M.sibling.return=M.return,M=M.sibling}}return!0}(y)&&((l=Lu(a,p))===2&&(_=kd(a))!==0&&(p=_,l=kf(a,_)),l===1))throw d=Ra,as(a,0),mi(a,p),tr(a,_t()),d;switch(a.finishedWork=y,a.finishedLanes=p,l){case 0:case 1:throw Error(s(345));case 2:case 5:so(a,cr,ci);break;case 3:if(mi(a,p),(130023424&p)===p&&10<(l=Cf+500-_t())){if(Jl(a,0)!==0)break;if(((y=a.suspendedLanes)&p)!==p){Dt(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Fe(so.bind(null,a,cr,ci),l);break}so(a,cr,ci);break;case 4:if(mi(a,p),(4194240&p)===p)break;for(l=a.eventTimes,y=-1;0<p;){var A=31-$r(p);_=1<<A,(A=l[A])>y&&(y=A),p&=~_}if(p=y,10<(p=(120>(p=_t()-p)?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*aA(p/1960))-p)){a.timeoutHandle=Fe(so.bind(null,a,cr,ci),p);break}so(a,cr,ci);break;default:throw Error(s(329))}}}return tr(a,_t()),a.callbackNode===d?k0.bind(null,a):null}function kf(a,l){var d=ka;return a.current.memoizedState.isDehydrated&&(as(a,l).flags|=256),(a=Lu(a,l))!==2&&(l=cr,cr=d,l!==null&&Nf(l)),a}function Nf(a){cr===null?cr=a:cr.push.apply(cr,a)}function mi(a,l){for(l&=~Af,l&=~Ru,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-$r(l),p=1<<d;a[d]=-1,l&=~p}}function N0(a){if(6&Te)throw Error(s(327));ls();var l=Jl(a,0);if(!(1&l))return tr(a,_t()),null;var d=Lu(a,l);if(a.tag!==0&&d===2){var p=kd(a);p!==0&&(l=p,d=kf(a,p))}if(d===1)throw d=Ra,as(a,0),mi(a,l),tr(a,_t()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,so(a,cr,ci),tr(a,_t()),null}function M0(a){fi!==null&&fi.tag===0&&!(6&Te)&&ls();var l=Te;Te|=1;var d=at.transition,p=Ne;try{if(at.transition=null,Ne=1,a)return a()}finally{Ne=p,at.transition=d,!(6&(Te=l))&&cn()}}function Mf(){hr=no.current,Ve(no)}function as(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==It&&(a.timeoutHandle=It,vt(d)),ct!==null)for(d=ct.return;d!==null;){var p=d;switch(Dd(p),p.tag){case 1:(p=p.type.childContextTypes)!=null&&Id();break;case 3:eo(),Ve(Zt),Ve(Ot),Jd();break;case 5:Kd(p);break;case 4:eo();break;case 13:case 19:Ve(nt);break;case 10:Hd(p.type._context);break;case 22:case 23:Mf()}d=d.return}if(bt=a,ct=a=gi(a.current,null),Pt=hr=l,pt=0,Ra=null,Af=Ru=os=0,cr=ka=null,is!==null){for(l=0;l<is.length;l++)if((p=(d=is[l]).interleaved)!==null){d.interleaved=null;var y=p.next,_=d.pending;if(_!==null){var A=_.next;_.next=y,p.next=A}d.pending=p}is=null}return a}function F0(a,l){for(;;){var d=ct;try{if(jd(),fu.current=yu,pu){for(var p=Qe.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}pu=!1}if(ss=0,wt=xt=Qe=null,wa=!1,ba=0,Tf.current=null,d===null||d.return===null){pt=1,Ra=l,ct=null;break}e:{var _=a,A=d.return,I=d,M=l;if(l=Pt,I.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var U=M,$=I,Z=$.tag;if(!(1&$.mode)&&(Z===0||Z===11||Z===15)){var G=$.alternate;G?($.updateQueue=G.updateQueue,$.memoizedState=G.memoizedState,$.lanes=G.lanes):($.updateQueue=null,$.memoizedState=null)}var Q=n0(A);if(Q!==null){Q.flags&=-257,i0(Q,A,I,0,l),1&Q.mode&&r0(_,U,l),M=U;var oe=(l=Q).updateQueue;if(oe===null){var xe=new Set;xe.add(M),l.updateQueue=xe}else oe.add(M);break e}if(!(1&l)){r0(_,U,l),Ff();break e}M=Error(s(426))}else if(We&&1&I.mode){var j=n0(A);if(j!==null){!(65536&j.flags)&&(j.flags|=256),i0(j,A,I,0,l),Gd(to(M,I));break e}}_=M=to(M,I),pt!==4&&(pt=2),ka===null?ka=[_]:ka.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l,Ev(_,e0(0,M,l));break e;case 1:I=M;var R=_.type,B=_.stateNode;if(!(128&_.flags)&&(typeof R.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(di===null||!di.has(B)))){_.flags|=65536,l&=-l,_.lanes|=l,Ev(_,t0(_,I,l));break e}}_=_.return}while(_!==null)}B0(d)}catch(V){l=V,ct===d&&d!==null&&(ct=d=d.return);continue}break}}function O0(){var a=Pu.current;return Pu.current=yu,a===null?yu:a}function Ff(){pt!==0&&pt!==3&&pt!==2||(pt=4),bt===null||!(268435455&os)&&!(268435455&Ru)||mi(bt,Pt)}function Lu(a,l){var d=Te;Te|=2;var p=O0();for(bt===a&&Pt===l||(ci=null,as(a,l));;)try{lA();break}catch(y){F0(a,y)}if(jd(),Te=d,Pu.current=p,ct!==null)throw Error(s(261));return bt=null,Pt=0,pt}function lA(){for(;ct!==null;)L0(ct)}function uA(){for(;ct!==null&&!$T();)L0(ct)}function L0(a){var l=R0(a.alternate,a,hr);a.memoizedProps=a.pendingProps,l===null?B0(a):ct=l,Tf.current=null}function B0(a){var l=a;do{var d=l.alternate;if(a=l.return,(32768&l.flags)==0){if((d=nA(d,l,hr))!==null)return void(ct=d)}else{if((d=iA(d,l))!==null)return d.flags&=32767,void(ct=d);if(a===null)return pt=6,void(ct=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(ct=l);ct=l=a}while(l!==null);pt===0&&(pt=5)}function so(a,l,d){var p=Ne,y=at.transition;try{at.transition=null,Ne=1,function(_,A,I,M){do ls();while(fi!==null);if(6&Te)throw Error(s(327));I=_.finishedWork;var U=_.finishedLanes;if(I===null)return null;if(_.finishedWork=null,_.finishedLanes=0,I===_.current)throw Error(s(177));_.callbackNode=null,_.callbackPriority=0;var $=I.lanes|I.childLanes;if(function(Q,oe){var xe=Q.pendingLanes&~oe;Q.pendingLanes=oe,Q.suspendedLanes=0,Q.pingedLanes=0,Q.expiredLanes&=oe,Q.mutableReadLanes&=oe,Q.entangledLanes&=oe,oe=Q.entanglements;var j=Q.eventTimes;for(Q=Q.expirationTimes;0<xe;){var R=31-$r(xe),B=1<<R;oe[R]=0,j[R]=-1,Q[R]=-1,xe&=~B}}(_,$),_===bt&&(ct=bt=null,Pt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Nu||(Nu=!0,z0(fv,function(){return ls(),null})),$=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||$){$=at.transition,at.transition=null;var Z=Ne;Ne=1;var G=Te;Te|=4,Tf.current=null,function(Q,oe){for(H(Q.containerInfo),re=oe;re!==null;)if(oe=(Q=re).child,(1028&Q.subtreeFlags)!=0&&oe!==null)oe.return=Q,re=oe;else for(;re!==null;){Q=re;try{var xe=Q.alternate;if(1024&Q.flags)switch(Q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(xe!==null){var j=xe.memoizedProps,R=xe.memoizedState,B=Q.stateNode,V=B.getSnapshotBeforeUpdate(Q.elementType===Q.type?j:Vr(Q.type,j),R);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:be&&gT(Q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(de){Xe(Q,Q.return,de)}if((oe=Q.sibling)!==null){oe.return=Q.return,re=oe;break}re=Q.return}xe=_0,_0=!1}(_,I),S0(I,_),F(_.containerInfo),_.current=I,oA(I),jT(),Te=G,Ne=Z,at.transition=$}else _.current=I;if(Nu&&(Nu=!1,fi=_,Mu=U),$=_.pendingLanes,$===0&&(di=null),function(Q){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(eu,Q,void 0,(128&Q.current.flags)==128)}catch{}}(I.stateNode),tr(_,_t()),A!==null)for(M=_.onRecoverableError,I=0;I<A.length;I++)U=A[I],M(U.value,{componentStack:U.stack,digest:U.digest});if(ku)throw ku=!1,_=Pf,Pf=null,_;1&Mu&&_.tag!==0&&ls(),$=_.pendingLanes,1&$?_===Rf?Na++:(Na=0,Rf=_):Na=0,cn()}(a,l,d,p)}finally{at.transition=y,Ne=p}return null}function ls(){if(fi!==null){var a=cv(Mu),l=at.transition,d=Ne;try{if(at.transition=null,Ne=16>a?16:a,fi===null)var p=!1;else{if(a=fi,fi=null,Mu=0,(6&Te)!=0)throw Error(s(331));var y=Te;for(Te|=4,re=a.current;re!==null;){var _=re,A=_.child;if(16&re.flags){var I=_.deletions;if(I!==null){for(var M=0;M<I.length;M++){var U=I[M];for(re=U;re!==null;){var $=re;switch($.tag){case 0:case 11:case 15:Ia(8,$,_)}var Z=$.child;if(Z!==null)Z.return=$,re=Z;else for(;re!==null;){var G=($=re).sibling,Q=$.return;if(x0($),$===U){re=null;break}if(G!==null){G.return=Q,re=G;break}re=Q}}}var oe=_.alternate;if(oe!==null){var xe=oe.child;if(xe!==null){oe.child=null;do{var j=xe.sibling;xe.sibling=null,xe=j}while(xe!==null)}}re=_}}if(2064&_.subtreeFlags&&A!==null)A.return=_,re=A;else e:for(;re!==null;){if(2048&(_=re).flags)switch(_.tag){case 0:case 11:case 15:Ia(9,_,_.return)}var R=_.sibling;if(R!==null){R.return=_.return,re=R;break e}re=_.return}}var B=a.current;for(re=B;re!==null;){var V=(A=re).child;if(2064&A.subtreeFlags&&V!==null)V.return=A,re=V;else e:for(A=B;re!==null;){if(2048&(I=re).flags)try{switch(I.tag){case 0:case 11:case 15:Eu(9,I)}}catch(Le){Xe(I,I.return,Le)}if(I===A){re=null;break e}var de=I.sibling;if(de!==null){de.return=I.return,re=de;break e}re=I.return}}if(Te=y,cn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(eu,a)}catch{}p=!0}return p}finally{Ne=d,at.transition=l}}return!1}function D0(a,l,d){a=hi(a,l=e0(0,l=to(d,l),1),1),l=Dt(),a!==null&&(ga(a,1,l),tr(a,l))}function Xe(a,l,d){if(a.tag===3)D0(a,a,d);else for(;l!==null;){if(l.tag===3){D0(l,a,d);break}if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(di===null||!di.has(p))){l=hi(l,a=t0(l,a=to(d,a),1),1),a=Dt(),l!==null&&(ga(l,1,a),tr(l,a));break}}l=l.return}}function hA(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),l=Dt(),a.pingedLanes|=a.suspendedLanes&d,bt===a&&(Pt&d)===d&&(pt===4||pt===3&&(130023424&Pt)===Pt&&500>_t()-Cf?as(a,0):Af|=d),tr(a,l)}function U0(a,l){l===0&&(1&a.mode?(l=Rd,!(130023424&(Rd<<=1))&&(Rd=4194304)):l=1);var d=Dt();(a=fn(a,l))!==null&&(ga(a,l,d),tr(a,d))}function cA(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),U0(a,d)}function dA(a,l){var d=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(s(314))}p!==null&&p.delete(l),U0(a,d)}function z0(a,l){return Fd(a,l)}function fA(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(a,l,d,p){return new fA(a,l,d,p)}function Of(a){return!(!(a=a.prototype)||!a.isReactComponent)}function gi(a,l){var d=a.alternate;return d===null?((d=Rr(a.tag,l,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Bu(a,l,d,p,y,_){var A=2;if(p=a,typeof a=="function")Of(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case c:return us(d.children,y,_,l);case f:A=8,y|=8;break;case g:return(a=Rr(12,d,l,2|y)).elementType=g,a.lanes=_,a;case S:return(a=Rr(13,d,l,y)).elementType=S,a.lanes=_,a;case T:return(a=Rr(19,d,l,y)).elementType=T,a.lanes=_,a;case b:return Du(d,y,_,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:A=10;break e;case v:A=9;break e;case x:A=11;break e;case w:A=14;break e;case E:A=16,p=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(l=Rr(A,d,l,y)).elementType=a,l.type=p,l.lanes=_,l}function us(a,l,d,p){return(a=Rr(7,a,p,l)).lanes=d,a}function Du(a,l,d,p){return(a=Rr(22,a,p,l)).elementType=b,a.lanes=d,a.stateNode={isHidden:!1},a}function Lf(a,l,d){return(a=Rr(6,a,null,l)).lanes=d,a}function Bf(a,l,d){return(l=Rr(4,a.children!==null?a.children:[],a.key,l)).lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function pA(a,l,d,p,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=It,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.identifierPrefix=p,this.onRecoverableError=y,ke&&(this.mutableSourceEagerHydrationData=null)}function G0(a,l,d,p,y,_,A,I,M){return a=new pA(a,l,d,I,M),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Rr(3,null,null,l),a.current=_,_.stateNode=a,_.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(_),a}function $0(a){if(!a)return li;e:{if(N(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(lr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(lr(d))return lv(a,d,l)}return l}function j0(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=fe(l))===null?null:a.stateNode}function H0(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Uu(a,l){H0(a,l),(a=a.alternate)&&H0(a,l)}function mA(a){return(a=fe(a))===null?null:a.stateNode}function gA(){return null}return R0=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Zt.current)Jt=!0;else{if(!(a.lanes&d)&&!(128&l.flags))return Jt=!1,function(Z,G,Q){switch(G.tag){case 3:c0(G),Qs();break;case 5:Nv(G);break;case 1:lr(G.type)&&Zl(G);break;case 4:qd(G,G.stateNode.containerInfo);break;case 10:xv(0,G.type._context,G.memoizedProps.value);break;case 13:var oe=G.memoizedState;if(oe!==null)return oe.dehydrated!==null?(Ue(nt,1&nt.current),G.flags|=128,null):Q&G.child.childLanes?f0(Z,G,Q):(Ue(nt,1&nt.current),(Z=Gn(Z,G,Q))!==null?Z.sibling:null);Ue(nt,1&nt.current);break;case 19:if(oe=(Q&G.childLanes)!=0,(128&Z.flags)!=0){if(oe)return m0(Z,G,Q);G.flags|=128}var xe=G.memoizedState;if(xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),Ue(nt,nt.current),oe)break;return null;case 22:case 23:return G.lanes=0,l0(Z,G,Q)}return Gn(Z,G,Q)}(a,l,d);Jt=(131072&a.flags)!=0}else Jt=!1,We&&1048576&l.flags&&mv(l,nu,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;wu(a,l),a=l.pendingProps;var y=Ws(l,Ot.current);Ks(l,d),y=rf(null,l,p,a,y,d);var _=nf();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,lr(p)?(_=!0,Zl(l)):_=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Xd(l),y.updater=hu,l.stateNode=y,y._reactInternals=l,Qd(l,p,a,d),l=df(null,l,p,!0,_,d)):(l.tag=0,We&&_&&Bd(l),er(null,l,y,d),l=l.child),l;case 16:p=l.elementType;e:{switch(wu(a,l),a=l.pendingProps,p=(y=p._init)(p._payload),l.type=p,y=l.tag=function(Z){if(typeof Z=="function")return Of(Z)?1:0;if(Z!=null){if((Z=Z.$$typeof)===x)return 11;if(Z===w)return 14}return 2}(p),a=Vr(p,a),y){case 0:l=cf(null,l,p,a,d);break e;case 1:l=h0(null,l,p,a,d);break e;case 11:l=s0(null,l,p,a,d);break e;case 14:l=o0(null,l,p,Vr(p.type,a),d);break e}throw Error(s(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,cf(a,l,p,y=l.elementType===p?y:Vr(p,y),d);case 1:return p=l.type,y=l.pendingProps,h0(a,l,p,y=l.elementType===p?y:Vr(p,y),d);case 3:e:{if(c0(l),a===null)throw Error(s(387));p=l.pendingProps,y=(_=l.memoizedState).element,bv(a,l),uu(l,p,null,d);var A=l.memoizedState;if(p=A.element,ke&&_.isDehydrated){if(_={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=_,l.memoizedState=_,256&l.flags){l=d0(a,l,p,d,y=to(Error(s(423)),l));break e}if(p!==y){l=d0(a,l,p,d,y=to(Error(s(424)),l));break e}for(ke&&(Tr=TT(l.stateNode.containerInfo),ur=l,We=!0,Hr=null,ya=!1),d=kv(l,null,p,d),l.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(Qs(),p===y){l=Gn(a,l,d);break e}er(a,l,p,d)}l=l.child}return l;case 5:return Nv(l),a===null&&zd(l),p=l.type,y=l.pendingProps,_=a!==null?a.memoizedProps:null,A=y.children,Oe(p,y)?A=null:_!==null&&Oe(p,_)&&(l.flags|=32),u0(a,l),er(a,l,A,d),l.child;case 6:return a===null&&zd(l),null;case 13:return f0(a,l,d);case 4:return qd(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Zs(l,null,p,d):er(a,l,p,d),l.child;case 11:return p=l.type,y=l.pendingProps,s0(a,l,p,y=l.elementType===p?y:Vr(p,y),d);case 7:return er(a,l,l.pendingProps,d),l.child;case 8:case 12:return er(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,_=l.memoizedProps,xv(0,p,A=y.value),_!==null)if(jr(_.value,A)){if(_.children===y.children&&!Zt.current){l=Gn(a,l,d);break e}}else for((_=l.child)!==null&&(_.return=l);_!==null;){var I=_.dependencies;if(I!==null){A=_.child;for(var M=I.firstContext;M!==null;){if(M.context===p){if(_.tag===1){(M=zn(-1,d&-d)).tag=2;var U=_.updateQueue;if(U!==null){var $=(U=U.shared).pending;$===null?M.next=M:(M.next=$.next,$.next=M),U.pending=M}}_.lanes|=d,(M=_.alternate)!==null&&(M.lanes|=d),Vd(_.return,d,l),I.lanes|=d;break}M=M.next}}else if(_.tag===10)A=_.type===l.type?null:_.child;else if(_.tag===18){if((A=_.return)===null)throw Error(s(341));A.lanes|=d,(I=A.alternate)!==null&&(I.lanes|=d),Vd(A,d,l),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===l){A=null;break}if((_=A.sibling)!==null){_.return=A.return,A=_;break}A=A.return}_=A}er(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,Ks(l,d),p=p(y=Ar(y)),l.flags|=1,er(a,l,p,d),l.child;case 14:return y=Vr(p=l.type,l.pendingProps),o0(a,l,p,y=Vr(p.type,y),d);case 15:return a0(a,l,l.type,l.pendingProps,d);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Vr(p,y),wu(a,l),l.tag=1,lr(p)?(a=!0,Zl(l)):a=!1,Ks(l,d),Cv(l,p,y),Qd(l,p,y,d),df(null,l,p,!0,a,d);case 19:return m0(a,l,d);case 22:return l0(a,l,d)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var l=fn(a,134217728);l!==null&&Pr(l,a,134217728,Dt()),Uu(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var l=fn(a,1);l!==null&&Pr(l,a,1,Dt()),Uu(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=pi(a),d=fn(a,l);d!==null&&Pr(d,a,l,Dt()),Uu(a,l)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=ma(l.pendingLanes);d!==0&&(Md(l,1|d),tr(l,_t()),!(6&Te)&&(io(),cn()))}break;case 13:M0(function(){var p=fn(a,1);if(p!==null){var y=Dt();Pr(p,a,1,y)}}),Uu(a,1)}},e.batchedUpdates=function(a,l){var d=Te;Te|=1;try{return a(l)}finally{(Te=d)===0&&(io(),tu&&cn())}},e.createComponentSelector=function(a){return{$$typeof:Su,value:a}},e.createContainer=function(a,l,d,p,y,_,A){return G0(a,l,!1,null,0,p,0,_,A)},e.createHasPseudoClassSelector=function(a){return{$$typeof:Tu,value:a}},e.createHydrationContainer=function(a,l,d,p,y,_,A,I,M){return(a=G0(d,p,!0,a,0,_,0,I,M)).context=$0(null),d=a.current,(_=zn(p=Dt(),y=pi(d))).callback=l??null,hi(d,_,y),a.current.lanes=y,ga(a,y,p),tr(a,p),a},e.createPortal=function(a,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:p==null?null:""+p,children:a,containerInfo:l,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:Au,value:a}},e.createTestNameSelector=function(a){return{$$typeof:Cu,value:a}},e.createTextSelector=function(a){return{$$typeof:Iu,value:a}},e.deferredUpdates=function(a){var l=Ne,d=at.transition;try{return at.transition=null,Ne=16,a()}finally{Ne=l,at.transition=d}},e.discreteUpdates=function(a,l,d,p,y){var _=Ne,A=at.transition;try{return at.transition=null,Ne=1,a(l,d,p,y)}finally{Ne=_,at.transition=A,Te===0&&io()}},e.findAllNodes=Sf,e.findBoundingRects=function(a,l){if(!da)throw Error(s(363));l=Sf(a,l),a=[];for(var d=0;d<l.length;d++)a.push(ZS(l[d]));for(l=a.length-1;0<l;l--)for(var p=(d=a[l]).x,y=p+d.width,_=d.y,A=_+d.height,I=l-1;0<=I;I--)if(l!==I){var M=a[I],U=M.x,$=U+M.width,Z=M.y,G=Z+M.height;if(p>=U&&_>=Z&&y<=$&&A<=G){a.splice(l,1);break}if(!(p!==U||d.width!==M.width||G<_||Z>A)){Z>_&&(M.height+=Z-_,M.y=_),G<A&&(M.height=A-Z),a.splice(l,1);break}if(!(_!==Z||d.height!==M.height||$<p||U>y)){U>p&&(M.width+=U-p,M.x=p),$<y&&(M.width=y-U),a.splice(l,1);break}}return a},e.findHostInstance=j0,e.findHostInstanceWithNoPortals=function(a){return(a=(a=X(a))!==null?D(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return j0(a)},e.flushControlled=function(a){var l=Te;Te|=1;var d=at.transition,p=Ne;try{at.transition=null,Ne=1,a()}finally{Ne=p,at.transition=d,(Te=l)===0&&(io(),cn())}},e.flushPassiveEffects=ls,e.flushSync=M0,e.focusWithin=function(a,l){if(!da)throw Error(s(363));for(l=P0(a=wf(a),l),l=Array.from(l),a=0;a<l.length;){var d=l[a++];if(!fa(d)){if(d.tag===5&&tT(d.stateNode))return!0;for(d=d.child;d!==null;)l.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ne},e.getFindAllNodesFailureDescription=function(a,l){if(!da)throw Error(s(363));var d=0,p=[];a=[wf(a),0];for(var y=0;y<a.length;){var _=a[y++],A=a[y++],I=l[A];if((_.tag!==5||!fa(_))&&(bf(_,I)&&(p.push(Ef(I)),++A>d&&(d=A)),A<l.length))for(_=_.child;_!==null;)a.push(_,A),_=_.sibling}if(d<l.length){for(a=[];d<l.length;d++)a.push(Ef(l[d]));return`findAllNodes was able to match part of the selector:
  `+p.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?me(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:mA,findFiberByHostInstance:a.findFiberByHostInstance||gA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{eu=l.inject(a),hn=l}catch{}a=!!l.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,l,d,p){if(!da)throw Error(s(363));a=Sf(a,l);var y=rT(a,d,p).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,l){var d=l._getVersion;d=d(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,d]:a.mutableSourceEagerHydrationData.push(l,d)},e.runWithPriority=function(a,l){var d=Ne;try{return Ne=a,l()}finally{Ne=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,l,d,p){var y=l.current,_=Dt(),A=pi(y);return d=$0(d),l.context===null?l.context=d:l.pendingContext=d,(l=zn(_,A)).payload={element:a},(p=p===void 0?null:p)!==null&&(l.callback=p),(a=hi(y,l,A))!==null&&(Pr(a,y,A,_),lu(a,y,A)),A},e}),Nx}({get exports(){return Ng},set exports(t){Ng=t}}).exports=yF();var vF=HM(Ng),GS={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Fg={},Sh={get exports(){return Fg},set exports(t){Fg=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Sh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Sh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Sh.exports=function(){return Date.now()-r},r=Date.now()):(Sh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(jM);var Ox,Oo={},ds={};({get exports(){return Oo},set exports(t){Oo=t}}).exports=(Ox||(Ox=1,ds.ConcurrentRoot=1,ds.ContinuousEventPriority=4,ds.DefaultEventPriority=16,ds.DiscreteEventPriority=1,ds.IdleEventPriority=536870912,ds.LegacyRoot=0),ds);var _F={};function Qp(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function $S(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&si(t.children).forEach(function(s){$S(s,t)})}function Lx(t,e){var r;$S(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,u=o===void 0||o,h=n.destroyTexture,c=h!==void 0&&h,f=n.destroyBaseTexture,g=f!==void 0&&f;s&&e.destroy({children:u,texture:c,baseTexture:g})}function Bx(t,e,r){ot(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var Dx=null,nn=vF({getRootHostContext:function(){return _F},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Oo.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Oo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Oo.ContinuousEventPriority;default:return Oo.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=fF[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=zS[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Ln)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Dx=function(o,u,h,c){var f=null;for(var g in h)!c.hasOwnProperty(g)&&h.hasOwnProperty(g)&&h[g]!==null&&(g===Rg||(f||(f=[]),f.push(g,null)));for(var m in c){var v=c[m],x=h!==null?h[m]:void 0;!c.hasOwnProperty(m)||v===x||v===null&&x===null||m===Rg||(f||(f=[]),f.push(m,v))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){ot(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Fg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Qp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Qp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Qp.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Lx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Lx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Bx,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Bx.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,u=t&&t.applyProps;typeof u!="function"&&(u=Ln),(u(t,n,i)||Dx)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),xF=GS.dependencies["react-dom"].replace(/[^0-9.]/g,""),wF=GS.name;nn.injectIntoDevTools({bundleType:0,version:xF,rendererPackageName:wF,findHostInstanceByFiber:nn.findHostInstance});var Gi=new Map;function jS(t){if(ot(vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Gi.has(t)){var e=Gi.get(t).pixiFiberContainer;nn.updateContainer(null,e,void 0,function(){Gi.delete(t)})}}function HS(t){ot(vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Gi.get(t);if(ot(!e,"Pixi React: createRoot should only be called once"),!e){var r=nn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return nn.updateContainer(n,r,void 0),nn.getPublicRootInstance(r)},unmount:function(){jS(t),Gi.delete(t)}}},Gi.set(t,e)}return e.reactRoot}function bF(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Gi.has(e)?n=Gi.get(e).reactRoot:n=HS(e),n.render(t)}function EF(t){jS(t)}function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jl.apply(this,arguments)}function SF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BS(n.key),n)}}function Hn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zc(t,e){return zc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zc(t,e)}function AF(t,e){if(e&&(gr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hn(t)}function Gc(t){return Gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(t)}var xd=Rn.createContext(null),VS=xd.Provider,WS=xd.Consumer,CF=function(t){var e=Rn.forwardRef(function(r,n){return Rn.createElement(WS,null,function(i){return Rn.createElement(t,jl({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function IF(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Gc(t);if(e){var i=Gc(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return AF(this,r)}}function Ux(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Th(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ux(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ux(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zx=function(){},XS={width:je.number,height:je.number,onMount:je.func,onUnmount:je.func,raf:je.bool,renderOnComponentChange:je.bool,children:je.node,options:je.shape({autoStart:je.bool,width:je.number,height:je.number,useContextAlpha:je.bool,backgroundAlpha:je.number,autoDensity:je.bool,antialias:je.bool,preserveDrawingBuffer:je.bool,resolution:je.number,forceCanvas:je.bool,backgroundColor:je.number,clearBeforeRender:je.bool,powerPreference:je.string,sharedTicker:je.bool,sharedLoader:je.bool,resizeTo:function(t,e){var r=t[e];r&&ot(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(gr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&ot(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(gr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},PF={width:800,height:600,onMount:zx,onUnmount:zx,raf:!0,renderOnComponentChange:!0},Og=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&zc(s,o)})(i,Rn.Component);var e,r,n=IF(i);function i(){var s;SF(this,i);for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return lt(Hn(s=n.call.apply(n,[this].concat(u))),"_canvas",null),lt(Hn(s),"_mediaQuery",null),lt(Hn(s),"_ticker",null),lt(Hn(s),"_needsUpdate",!0),lt(Hn(s),"app",null),lt(Hn(s),"updateSize",function(){var c=s.props,f=c.width,g=c.height,m=c.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,g)}),lt(Hn(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),lt(Hn(s),"renderStage",function(){var c=s.props,f=c.renderOnComponentChange;!c.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,h=s.height,c=s.options,f=s.raf,g=s.renderOnComponentChange;this.app=new _d(Th(Th({width:u,height:h,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=nn.createContainer(this.app.stage),nn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),g&&!f&&(this._ticker=new Yt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var h,c=this.props,f=c.width,g=c.height,m=c.raf,v=c.renderOnComponentChange,x=c.options;(x==null?void 0:x.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),s.height===g&&s.width===f&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),nn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===g&&s.raf===m&&s.renderOnComponentChange===v&&s.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Rn.createElement(VS,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),nn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,h=this.props.options;return h&&h.view?(ot(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Rn.createElement("canvas",jl({},(s=this.props,o=[].concat(si(Object.keys(XS)),si(Object.keys(kg))),Object.keys(s).filter(function(c){return!o.includes(c)}).reduce(function(c,f){return Th(Th({},c),{},lt({},f,s[f]))},{})),{ref:function(c){return u._canvas=c}}))}}])&&TF(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Og.propTypes=XS,Og.defaultProps=PF;var RF=Og;function YS(){var t=tn.useContext(xd);return ot(t instanceof _d,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function kF(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=YS();ot(typeof t=="function","`useTick` needs a callback function."),ot(r instanceof _d,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=tn.useRef(null);tn.useEffect(function(){n.current=t},[t]),tn.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function NF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lg(t,e,r){return Lg=NF()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(n,o));return s&&zc(u,s.prototype),u},Lg.apply(null,arguments)}var MF=["children","apply"];function Gx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ah(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gx(Object(r),!0).forEach(function(n){lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FF=function(t,e){ot(gr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,u=Ji(i,MF),h=tn.useRef(tn.useMemo(function(){return r.map(function(g){var m,v=(u==null||(m=u[g])===null||m===void 0?void 0:m.construct)||[];return Lg(e[g],si(v))})},[r])),c=tn.useMemo(function(){return r.reduce(function(g,m,v){return Ah(Ah({},g),{},lt({},m,h.current[v]))},{})},[r]),f=tn.useMemo(function(){return Object.keys(u).filter(US(DS(r))).reduce(function(g,m){return Ah(Ah({},g),{},lt({},m,u[m]))},{})},[u,r]);return r.forEach(function(g,m){return Object.assign(h.current[m],u[g])}),o&&function(){for(var g=arguments.length,m=new Array(g),v=0;v<g;v++)m[v]=arguments[v];return m.every(function(x){return typeof x=="function"})}(o)&&o.call(t,c),Rn.createElement(t,jl({},f,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:je.node,apply:je.func},n},OF=ar.BitmapText,LF=ar.Container,BF=ar.Graphics,DF=ar.NineSlicePlane,UF=ar.ParticleContainer,zF=ar.Sprite,GF=ar.AnimatedSprite,$F=ar.Text,jF=ar.TilingSprite,HF=ar.SimpleMesh,VF=ar.SimpleRope;const WF=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:GF,AppConsumer:WS,AppContext:xd,AppProvider:VS,BitmapText:OF,Container:LF,Graphics:BF,NineSlicePlane:DF,ParticleContainer:UF,PixiComponent:pF,PixiFiber:nn,SimpleMesh:HF,SimpleRope:VF,Sprite:zF,Stage:RF,TYPES:ar,Text:$F,TilingSprite:jF,applyDefaultProps:Ln,createRoot:HS,eventHandlers:Uc,render:bF,unmountComponentAtNode:EF,useApp:YS,useTick:kF,withFilters:FF,withPixiApp:CF},Symbol.toStringTag,{value:"Module"})),XF=Hx(WF);od.exports=XF;var qh=od.exports;class YF{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Yt.system.add(this.tickerUpdate,this,ia.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Yt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Ci=new YF;class wd{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=wd.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ce,this.page=new Ce,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class $c extends wd{constructor(){super(...arguments),this.client=new Ce,this.movement=new Ce,this.offset=new Ce,this.global=new Ce,this.screen=new Ce}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,u,h,c,f,g,m,v,x,S){throw new Error("Method not implemented.")}}class qr extends $c{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Wo extends $c{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Wo.DOM_DELTA_PIXEL=0,Wo.DOM_DELTA_LINE=1,Wo.DOM_DELTA_PAGE=2;const QF=2048,qF=new Ce,qp=new Ce;class KF{constructor(e){this.dispatch=new Ql,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Ci.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,qF.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<QF&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let u=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ci.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let g=f.length-1;g>=0;g--){const m=f[g],v=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const x=e.isInteractive();(v.length>0||x)&&(x&&this._allInteractiveElements.push(e),v.push(e)),this._hitElements.length===0&&(this._hitElements=v),u=!0}}}const h=this._isInteractive(r),c=e.isInteractive();return h&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:u?this._hitElements:h&&!s(e,n)&&i(e,n)?c?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ci.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const f=h[c],g=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(g){if(g.length>0&&!g[g.length-1].parent)continue;const m=e.isInteractive();return(g.length>0||m)&&g.push(e),g}}}const o=this._isInteractive(r),u=e.isInteractive();return o&&i(e,n)?u?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,qp),!e.hitArea.contains(qp.x,qp.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof qr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var h,c;if(!(e instanceof qr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((h=i.overTargets)==null?void 0:h.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",g=this.createPointerEvent(e,f,s);if(this.dispatchEvent(g,"pointerout"),n&&this.dispatchEvent(g,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(g)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",g=this.clonePointerEvent(r,f);this.dispatchEvent(g,"pointerover"),n&&this.dispatchEvent(g,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(g)}const o=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),u&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),u&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),u&&o.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof qr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof qr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof qr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.dispatchEvent(n,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let u=s;for(;u&&!n.composedPath().includes(u);){if(n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.notifyTarget(n,h?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],o=u}if(o){const u=this.clonePointerEvent(n,"click");u.target=o,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:r});const h=i.clicksByButton[e.button];if(h.target===u.target&&r-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=u.target,h.timeStamp=r,u.detail=h.clickCount,u.pointerType==="mouse"){const c=u.button===2;this.dispatchEvent(u,c?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof qr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Wo)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(qr);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Wo);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(qr);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof qr&&r instanceof qr&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof $c&&r instanceof $c&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const ZF=1,JF={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Bg=class Dg{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new KF(null),Ci.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new qr(null),this.rootWheelEvent=new Wo(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Dg.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,Dg._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Ci.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const u=this.bootstrapEvent(this.rootPointerEvent,i[s]);u.type+=n,this.rootBoundary.mapEvent(u)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Ci.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Ci.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Ci.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=ZF),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=JF[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};Bg.extension={name:"events",type:[ie.RendererSystem,ie.CanvasRendererSystem]},Bg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Ug=Bg;pe.add(Ug);function $x(t){return t==="dynamic"||t==="static"}const eO={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??$x(Ug.defaultEventMode)},set interactive(t){Pe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Ug.defaultEventMode},set eventMode(t){this._internalInteractive=$x(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof wd))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Xi.mixin(eO);const jx={0:"#B20C1C",1:"#2129DF",2:"#F5DDA3"},ev=[],zg=50,QS=50;for(let t=0;t<zg;t++){const e=[];for(let r=0;r<QS;r++)e.push(0);ev.push(e)}ev[0][0]=-1;const tO=()=>{const e=qh.useApp().view.width/zg-2,r=0,n=[],i=(m,v,x,S,T,w)=>{m.clear(),m.beginFill(w),m.drawRect(v,x,S,T),m.endFill()},s=(m,v)=>{m.clear(),m.beginFill(v),m.drawRect(m.xPos,m.yPos,e,e),m.endFill()},o=m=>r===ev[m.x][m.y],u=()=>{n.forEach(m=>{m.alpha=1})},h=m=>{const v=m.currentTarget;o(v)&&s(v,jx[0])},c=m=>{const v=m.currentTarget;m.data.buttons===1&&o(v)&&s(v,jx[0]),v.alpha=.8},f=m=>{const v=m.currentTarget;m.data.buttons===1?n.push(v):v.alpha=1},g=(m,v)=>{let x=0,S=0;const T=[];for(let w=0;w<m;w++)for(let E=0;E<v;E++)T.push(Ii.jsx(qh.Graphics,{interactive:!0,cursor:"pointer",pointerdown:h,pointerover:c,pointerout:f,pointerup:u,draw:b=>(i(b,x+w*(e+1),S+E*(e+1),e,e,"#cacaca"),b.key=w+m*E,b.xPos=x+w*(e+1),b.yPos=S+E*(e+1),b.x=w,b.y=E,b)},w+m*E));return T};return Ii.jsx(qh.Container,{pointerup:u,children:g(zg,QS)})};function rO(){return Ii.jsx(Ii.Fragment,{children:Ii.jsx(qh.Stage,{width:800,height:800,children:Ii.jsx(tO,{})})})}Kp.createRoot(document.getElementById("root")).render(Ii.jsx(Rn.StrictMode,{children:Ii.jsx(rO,{})}))});export default nO();
